!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.viewerScript=t():e.viewerScript=t()}(self,(function(){return function(){var e={861:function(e,t,n){"use strict";t.C5=void 0;var r=n(511),i=n(34),o=n(511),a={},s={},u={},l={},c={},f={},p={},d={};function h(e){return(0,o.resolveUrl)(Object.assign(e,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/activity-counters-api",destPath:""}],"www.wixapis.com":[{srcPath:"/members/v1/activity-counters",destPath:"/v1/activity-counters"}],_:[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}],"manage._base_domain_":[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}],"www._base_domain_":[{srcPath:"/_api/members/v1/activity-counters",destPath:"/v1/activity-counters"}]}}))}t.C5=function(e){var t=(0,i.serializer)(a,{}),n=t.toJSON,o=t.fromJSON,u=(0,i.serializer)(s,{}).fromJSON;function l(t){var i=t.host,o=n(e);return{entityFqdn:"wix.members.v1.activity_counter",method:"GET",methodFqn:"com.wixpress.members.activitycounters.ActivityCounters.GetActivityCounters",url:h({protoPath:"/v1/activity-counters/{memberId}",data:o,host:i}),params:(0,r.toURLSearchParams)(o),transformResponse:u}}return l.fromReq=o,l}},574:function(e,t,n){"use strict";t.iX=void 0;var r=n(34),i=n(511),o={},a={},s={},u={},l={},c={},f={},p={sentAt:"google.protobuf.Timestamp"},d={},h={notifications:"_feedNotification"},v={},g={notifications:"_feedNotification"},m={},b={},_={},y={notifications:"_feedNotification"},w={},P={},S={},O={},x={},C={},A={},I={};function R(e){return(0,i.resolveUrl)(Object.assign(e,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/notifications-feed-server",destPath:""}],"www._base_domain_":[{srcPath:"/_api/ping/legacy-feed",destPath:"/api/v1/mobile-platform-facade/notifications"},{srcPath:"/_api/ping/legacy-feed/unseen-count",destPath:"/home/graphql"},{srcPath:"/_api/ping/notifications-feed",destPath:""},{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"}],"apps._base_domain_":[{srcPath:"/api/v1/mobile-platform-facade/notifications",destPath:"/api/v1/mobile-platform-facade/notifications"},{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"},{srcPath:"/_api/ping/legacy-feed",destPath:"/api/v1/mobile-platform-facade/notifications"},{srcPath:"/_api/ping/legacy-feed/unseen-count",destPath:"/home/graphql"}],"manage._base_domain_":[{srcPath:"/_api/ping/legacy-feed",destPath:"/api/v1/mobile-platform-facade/notifications"},{srcPath:"/_api/ping/legacy-feed/unseen-count",destPath:"/home/graphql"},{srcPath:"/_api/ping/notifications-feed",destPath:""},{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"}],"gapps._base_domain_":[{srcPath:"/api/v1/mobile-platform-facade/notifications",destPath:"/api/v1/mobile-platform-facade/notifications"},{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"},{srcPath:"/_api/ping/legacy-feed",destPath:"/api/v1/mobile-platform-facade/notifications"},{srcPath:"/_api/ping/legacy-feed/unseen-count",destPath:"/home/graphql"}],_:[{srcPath:"/_api/ping/feed",destPath:"/api/v1/feed/notifications"}]}}))}t.iX=function(e){var t=(0,r.serializer)(A,{}),n=t.toJSON,i=t.fromJSON,o=(0,r.serializer)(I,{}).fromJSON;function a(t){var r=t.host,i=n(e);return{entityFqdn:"wix.ping.feed.v1.notification",method:"POST",methodFqn:"com.wixpress.ping.feed.api.FeedService.GetNumberOfUnseenNotifications",url:R({protoPath:"/api/v1/feed/notifications/unseen-notifications",data:i,host:r}),data:i,transformResponse:o}}return a.fromReq=i,a}},723:function(e,t){"use strict";t.MW=t.rD=t.Tu=t.k$=t.Ez=void 0,function(e){e.UNSEEN="UNSEEN",e.SEEN_BUT_UNREAD="SEEN_BUT_UNREAD",e.READ="READ",e.RESOLVED="RESOLVED",e.DISMISSED="DISMISSED",e.DELETED="DELETED"}(t.Ez||(t.Ez={})),function(e){e.REGULAR="REGULAR",e.ALERT_WARNING="ALERT_WARNING",e.ALERT_INFO="ALERT_INFO"}(t.k$||(t.k$={})),function(e){e.UrlIcon="UrlIcon",e.AppIcon="AppIcon",e.PersonAvatar="PersonAvatar"}(t.Tu||(t.Tu={})),function(e){e.UNKOWN="UNKOWN",e.WEB="WEB",e.MOBILE="MOBILE"}(t.rD||(t.rD={})),function(e){e.HideChatNotifications="HideChatNotifications"}(t.MW||(t.MW={}))},186:function(e,t){t.qq=t.tt=t.sV=t.dn=void 0,t.AV=void 0,t.dn="14bcded7-0066-7c35-14d7-466cb3f09103",t.sV="140603ad-af8d-84a5-2c80-a0f60cb47351",t.tt="14724f35-6794-cd1a-0244-25fd138f9242",t.qq="148c2287-c669-d849-d153-463c7486a694",t.AV="1537b24e-29d1-6d8f-b8e1-d6860f2f70b9";var n={}},34:function(e,t,n){"use strict";var r;n.r(t),n.d(t,{serializer:function(){return y}}),function(e){e[e.TO_JSON=0]="TO_JSON",e[e.FROM_JSON=1]="FROM_JSON"}(r||(r={}));var i,o=n(511);function a(e,t,n){return void 0===t&&(t={}),function(r,i){return void 0===r&&(r={}),"string"==typeof r?r:a(e,r);function a(e,t){var n={};return[null,void 0].includes(t)?t:(Object.entries(t).forEach((function(t){var r,i,a,l,c=t[0],f=t[1],p=e[c],d=(0,o.parseLeanSchemaRef)(p),h=d.schemaName,v="Map"===d.schemaType;l=(null!==(a=null===(i=null===(r=u(h))||void 0===r?void 0:r.checkRepetable)||void 0===i?void 0:i.call(r,f))&&void 0!==a?a:Array.isArray(f))?f.map((function(e){return s(e,h)})):v?function(e,t){return Object.entries(e).reduce((function(e,n){var r=n[0],i=n[1];return e[r]=s(i,t),e}),{})}(f,h):s(f,h),n[c]=l})),n)}function s(e,n){if(!n)return e;var r=t[n];if(u(n))return u(n).transform(e);if(r)return a(r,e);throw new Error("".concat(n," is neither schema nor serializable type"))}function u(e){var t;return null===(t=n[e])||void 0===t?void 0:t[i]}}}var s,u,l,c,f=((i={types:["google.protobuf.Timestamp"]})[r.TO_JSON]={transform:function(e){return e.toISOString()}},i[r.FROM_JSON]={transform:function(e){return new Date(e)}},i),p=((s={types:["google.protobuf.FieldMask"]})[r.TO_JSON]={transform:function(e){return e.join(",")},checkRepetable:function(e){return e.some((function(e){return Array.isArray(e)}))}},s[r.FROM_JSON]={transform:function(e){return"object"==typeof e?e.paths:e.split(",")}},s),d=((u={types:["google.protobuf.BytesValue","BYTES"]})[r.TO_JSON]={transform:function(e){var t=e.reduce((function(e,t){return e+String.fromCharCode(t)}),"");return btoa(t)}},u[r.FROM_JSON]={transform:function(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}},u),h=((l={types:["google.protobuf.Duration"]})[r.TO_JSON]={transform:function(e){var t=e.seconds,n=void 0===t?"0":t,r=e.nanos,i=void 0===r?0:r,o="";return 0!==i&&(o=".".concat(i.toString().padStart(9,"0"))),"".concat(n).concat(o,"s")}},l[r.FROM_JSON]={transform:function(e){var t=e.substring(0,e.length-1).split(".");return{seconds:t[0],nanos:v(t[1])}}},l);function v(e){var t=0;if(void 0!==e){var n=3-e.length/3;t=parseInt(e,10)*Math.pow(1e3,n)}return t}var g=((c={types:["FLOAT","DOUBLE","google.protobuf.FloatValue","google.protobuf.DoubleValue"]})[r.TO_JSON]={transform:function(e){return isFinite(e)?e:e.toString()}},c[r.FROM_JSON]={transform:function(e){return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:e}},c),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)};var b=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=b([],[f,p,d,h,g],!0).reduce((function(e,t){var n=t.types.reduce((function(e,n){var r;return m(m({},e),((r={})[n]=t,r))}),{});return m(m({},e),n)}),{});function y(e,t){void 0===t&&(t={});var n=a(e,t,_);return{fromJSON:function(e){var t=function(e){try{return JSON.parse(e)}catch(e){}}(e)||e;return n(t,r.FROM_JSON)},toJSON:function(e){return n(e,r.TO_JSON)}}}},511:function(e,t,n){"use strict";function r(e){void 0===e&&(e="");var t=i(e),n=t[0],r=t[1];return r?{schemaName:r,schemaType:n}:{schemaName:n}}n.r(t),n.d(t,{parseLeanSchemaRef:function(){return r},resolveUrl:function(){return l},toURLSearchParams:function(){return p}});var i=function(e){return e.split("#")};var o="_",a=/{(.*)}/,s=new RegExp("\\.(".concat(["wix.com","editorx.com"].join("|"),")$")),u=new RegExp("\\.(".concat(["42.wixprod.net"].join("|"),")$"));function l(e){var t,n,r=function(e,t){var n=t[e]||t[o];if(!n&&function(e){return!!e.match(/\._base_domain_$/)}(e))return t[c];return n}(function(e){return e.replace("create.editorx.com","editor.editorx.com")}(e.host).replace(s,"._base_domain_").replace(u,"._api_base_domain_"),e.domainToMappings);return function(e,t){var n=null==t?void 0:t.find((function(t){return e.startsWith(t.destPath)}));if(!n)return e;return n.srcPath+e.slice(n.destPath.length)}((t=e.protoPath,n=e.data||{},t.split("/").map((function(e){return function(e,t){var n=e.match(a)||[],r=n[1];if(r){var i=e.replace(n[0],"");return function(e,t,n,r){for(var i=e,o=0,a=t.split(".");o<a.length;o++){var s=a[o];if(!i)return n;i=i[s]}return"".concat(i).concat(r)}(t,r,e,i)}return e}(e,n)})).join("/")),r)}var c="www._base_domain_";function f(e,t){void 0===t&&(t="");var n={};return Object.entries(e).forEach((function(e){var r=e[0],i=e[1],o=null!==i&&"object"==typeof i&&!Array.isArray(i),a=function(e,t){return"".concat(e).concat(e?".":"").concat(t)}(t,r);if(o){var s=f(i,a);Object.assign(n,s)}else n[a]=i})),n}function p(e){var t=f(e);return Object.entries(t).reduce((function(e,t){var n=t[0],r=t[1];return(Array.isArray(r)?r:[r]).forEach((function(t){null!=t&&e.append(n,t)})),e}),new URLSearchParams)}},213:function(e,t,n){var r=n(174);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},662:function(e,t,n){var r=n(114).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},174:function(e,t,n){var r=n(114).default,i=n(662);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},114:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="https://static.parastorage.com/services/santa-members-viewer-app/f9ff3384b4cb00c5e317bb221efb8f10e487850807cbef10fc9164c6/";var r={};return function(){"use strict";n.r(r),n.d(r,{createControllers:function(){return Wa},exports:function(){return Fa},initAppForPage:function(){return Ka}});var e={};n.r(e),n.d(e,{default:function(){return sn}});var t={};n.r(t),n.d(t,{default:function(){return un}});var i={};n.r(i),n.d(i,{default:function(){return ln}});var o={};n.r(o),n.d(o,{exports:function(){return dn},initAppForPage:function(){return pn}});var a="BLOCKS_WIDGET",s=["ar","arc","bcc","bqi","ckb","dv","fa","glk","ha","he","khw","ks","ku","mzn","pnb","ps","sd","ug","ur","yi"];var u=function(e){return e},l=function(e){var t=e.dsn,n=e.environment,r=e.release,i=e.withDataCallback,o=e.tags;return{dsn:t,config:{enabled:!0,release:r,dataCallback:i?u:void 0,environment:n,tags:o}}},c=function(){return"f9ff3384b4cb00c5e317bb221efb8f10e487850807cbef10fc9164c6"},f=function(){return"santa-members-viewer-app"},p=function(e){return e.isEnabled&&e.currentLanguage?e.currentLanguage:void 0},d=function(e){return void 0===e&&"undefined"!=typeof window&&(e=window.location.search),new URLSearchParams(e)},h=function(e,t,n){var r="".concat(e,"/").concat(t);return"https://editor.wixapps.net/render/prod/modals/".concat("santa-members-viewer-app","/").concat("f9ff3384b4cb00c5e317bb221efb8f10e487850807cbef10fc9164c6","/").concat(r,"?instance=").concat(n)},v=function(e,t){var n=p(e.window.multilingual),r=e.site.language;if(t){var i=d().get("regionalLanguage");i&&(r=i)}return n||r||"en"},g=function(e){return"backend"===e.window.rendering.env},m=function(e){return e.seo.isInSEO()},b=function(e){return s.includes(e)},y=function(e){var t;return null!==(t=null==e?void 0:e.booleans.responsive)&&void 0!==t&&t},w=function(e){return void 0===e&&(e={}),"onboarding"===e.dsOrigin},P=function(e){return void 0===e&&(e={}),"Editor1.4"===e.dsOrigin},S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},x=function(){throw new Error("Translations has not been initialized yet")},C="en",A=function(e){var t=e.language,r=e.defaultTranslations,i=e.prefix,o=void 0===i?"messages":i,a=e.defaultLanguage,s=e.availableLanguages,u=e.localeDistPath,l=e.initI18n,c=e.basePath,f=this;this.t=x,this.all={},this.init=function(e){var t=void 0===e?{}:e,r=t.prepopulated,i=t.wait,o=void 0!==i&&i,a=t.useSuspense,s=void 0!==a&&a;return S(f,void 0,void 0,(function(){var e,t,i,a=this;return O(this,(function(u){switch(u.label){case 0:if(e=this.config,t=new Set(e.availableLanguages||[]),!this._initI18n)throw new Error("Can't initialize i18n without initI18n method.");return this.i18n=this._initI18n({locale:e.language,useSuspense:s,wait:o,messages:r,disableAutoInit:!0,asyncMessagesLoader:function(r){var i;return r===C?Promise.resolve(e.defaultTranslations):t.has(r)?fetch("".concat(null!==(i=a.basePath)&&void 0!==i?i:n.p).concat(a.localeDistPath,"/").concat(e.prefix,"_").concat(r,".json")).then((function(t){return t.ok?t.json():Promise.reject(new Error("Can't load locale: ".concat(e.language)))})):Promise.reject(new Error("Locale assets for ".concat(r," are not provided")))}}),[4,this.i18n.init()];case 1:if(u.sent(),!(i=this.i18n.getResourceBundle(e.language,"translation"))&&t.has(e.language))throw new Error("Unexpected missing translations for language ".concat(e.language));return this.all=i||e.defaultTranslations||{},this.t=function(e,t){return a.i18n.t(e,t)},[2,this]}}))}))},this.config={availableLanguages:s,language:t,defaultTranslations:r,prefix:o,defaultLanguage:a},this.localeDistPath=u,this._initI18n=l,this.i18n=null,this.basePath=c},I="Editor",R="Preview",E="Site",M="Mobile",N="backend",D=function(e){var t;this.entry="viewerScript";var n=e.wixAPI,r=e.appData;this.isSSR=n.window.rendering.env===N,this.isSEO=m(n),this.isMobile=n.window.formFactor===M,this.isEditor=n.window.viewMode===I,this.isPreview=n.window.viewMode===R,this.isViewer=n.window.viewMode===E,this.isBlocksPreview=Boolean(null===(t=null==r?void 0:r.appData)||void 0===t?void 0:t.blocksPreviewData),this.language=v(n,this.isEditor),this.isRTL=b(this.language),this.multilingual=n.window.multilingual,this.appDefinitionId=r.appDefinitionId},U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U.apply(this,arguments)},k=function(e,t){var n={};return e.visitorId?n.forSiteVisitors=U(U({},e),{visitorId:e.visitorId}):n.forSiteOwner=U(U({},e),{loggedInUserId:e.loggedInUserId}),t&&(n.overrideCriteria=t),n},j=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},L=function(e,t,n,r,i,o){return j(void 0,void 0,void 0,(function(){var a,s;return T(this,(function(u){switch(u.label){case 0:return a=e({useNewApi:!0,requestContext:k(r,i),baseUrl:o}),n?(a.add(n),[2,a]):t?(s=t.scopes.map((function(e){return a.load(e)})),[4,Promise.all(s)]):[2,a];case 1:return u.sent(),[2,a]}}))}))};var V,B,F=function(){function e(e){var t=e.httpClient;this.reportError=function(e){console.warn("You are trying to report an error, but didn't configure sentry in `.application.json`\n\nPlease read the docs for more information https://bo.wix.com/pages/yoshi/docs/editor-flow/structure-api/app-configuration/#applicationjson","Error: ",e)},this._httpClient=t}return Object.defineProperty(e.prototype,"httpClient",{get:function(){var e=this._httpClient;return e},enumerable:!1,configurable:!0}),e}(),K=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)},q=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},J=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},z=function(e){function t(t){var n,r,i=t.experimentsConfig,o=t.essentials,a=t.platformBI,s=t.biLoggerFactory,u=t.monitoring,p=t.sentryConfig,d=t.wixAPI,h=t.appData,b=t.translationsConfig,_=t.defaultTranslations,y=void 0===_?null:_,w=t.biLogger,P=t.projectName,S=t.appName,O=t.prepopulatedData,x=t.optionalDeps,C=x.createHttpClient,I=x.initI18n,R=x.createExperiments,E=t.localeDistPath,M=t.shouldUseEssentials,N=t.basePath,U=this;U=e.call(this,{httpClient:M?null==o?void 0:o.httpClient:null==C?void 0:C({isSSR:g(d),getAppToken:function(){var e,t,n;return null!==(n=null===(t=(e=d.site).getAppToken)||void 0===t?void 0:t.call(e,h.appDefinitionId))&&void 0!==n?n:h.instance}})})||this,U.essentials=o,U.wixAPI=d,U.appName=S,U.projectName=P,U.prepopulatedData=O,U.basePath=N,U.environment=new D({appData:h,wixAPI:d});var k=v(d,U.environment.isEditor);if(U.localeDistPath=E,U.getCurrencyFormatter=null,U.formatCurrency=null,U.formatAddress=null,U.essentials&&"formatAddress"in U.essentials&&(U.formatAddress=U.essentials.formatAddress),U.essentials&&"createCurrencyFormatterWithDefaults"in U.essentials&&(U.getCurrencyFormatter=U.essentials.createCurrencyFormatterWithDefaults({language:k}),U.getCurrencyFormatter&&(U.formatCurrency=U.getCurrencyFormatter())),U.translations=!1===(null==b?void 0:b.enabled)?null:new A({language:k,defaultTranslations:y,prefix:null==b?void 0:b.prefix,availableLanguages:null==b?void 0:b.availableLanguages,localeDistPath:E,initI18n:I}),U.experiments=null,U._experimentsPromise=null,i){var j=U.environment.isViewer?{siteOwnerId:null==a?void 0:a.ownerId,visitorId:null==a?void 0:a.visitorId}:{siteOwnerId:null==a?void 0:a.ownerId,loggedInUserId:d.user.currentUser.id},T=(null==a?void 0:a.metaSiteId)?{entityId:null==a?void 0:a.metaSiteId}:void 0;if(M)U._experimentsPromise=i.centralized&&!(null==O?void 0:O.experiments)?Promise.resolve(U.essentials.experiments):L(U.essentials.createExperiments,i,null==O?void 0:O.experiments,j,T,U.environment.isSSR?"https://wix.com":void 0);else{var V=R({prepopulated:null==O?void 0:O.experiments,experimentsConfig:i,baseUrl:U.environment.isSSR?"https://wix.com":void 0,ctx:j,overrideCriteria:T});U._experimentsPromise=V.init()}}if(null==O?void 0:O.biLogger)U.bi=null==O?void 0:O.biLogger;else if(w){var B=void 0;M?B=U.essentials.biLoggerFactory():s&&(B=s()),B&&(U.bi=w(B)({}))}if(U.sentry=null,U.errorMonitor=null,null==O?void 0:O.sentryMonitor)U.sentry=null==O?void 0:O.sentryMonitor;else if(null==O?void 0:O.errorMonitor)U.errorMonitor=null==O?void 0:O.errorMonitor;else if(p)if(p.errorMonitor&&(null==o?void 0:o.createErrorMonitor))U.errorMonitor=o.createErrorMonitor({dsn:p.DSN,environment:"Viewer:Worker",appName:null!==(n=U.appName)&&void 0!==n?n:f(),version:c(),tags:{isSSR:g(d),isSEO:m(d)}});else{var F=l({dsn:p.DSN,environment:"Viewer:Worker",release:"".concat(null!==(r=U.appName)&&void 0!==r?r:f(),"@").concat(c()),withDataCallback:!0,tags:{isSSR:g(d),isSEO:m(d)}});U.sentry=null==u?void 0:u.createMonitor(F.dsn,(function(e){return G(G({},e),F.config)}))}return U.sentry&&(U.reportError=function(e){return"string"==typeof e?U.sentry.captureMessage(e):U.sentry.captureException(e),U.sentry.lastEventId()}),U.errorMonitor&&(U.reportError=function(e){return"string"==typeof e?U.errorMonitor.captureMessage(e):U.errorMonitor.captureException(e)}),U}return K(t,e),t.prototype.init=function(){var e,t;return q(this,void 0,void 0,(function(){var n;return J(this,(function(r){switch(r.label){case 0:return n=this,[4,this._experimentsPromise];case 1:return n.experiments=r.sent(),[4,null===(e=this.translations)||void 0===e?void 0:e.init({prepopulated:null===(t=this.prepopulatedData)||void 0===t?void 0:t.translations})];case 2:return r.sent(),[2]}}))}))},t.prototype.createTranslations=function(e,t,n){var r,i=e.translationsConfig,o=e.defaultTranslations,a=e.localeDistPath;if(!1===(null==i?void 0:i.enabled))return null;if(a===this.localeDistPath&&(null==n?void 0:n.basePath)===this.basePath)return this.translations;var s=v(this.wixAPI,this.environment.isEditor);return new A({language:s,defaultTranslations:o,availableLanguages:null==i?void 0:i.availableLanguages,prefix:null==i?void 0:i.prefix,localeDistPath:a,initI18n:null==t?void 0:t.initI18n,basePath:null!==(r=null==n?void 0:n.basePath)&&void 0!==r?r:this.basePath})},t}(F),W={},H=function(e){V=e},$=function(e){B=e},X=function(){return W},Y=function(e){W=e},Q=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Z=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ee=function(e){return"function"==typeof e};var te=function(){return te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},te.apply(this,arguments)};Object.create;Object.create;var ne,re=function(e,t){return e.localeCompare(t)};!function(e){e.Number="Number",e.Boolean="Boolean",e.String="String",e.Text="Text",e.Object="Object"}(ne||(ne={}));var ie=function(e,t){var n=t.isMobile,r=t.language,i=void 0===r?"en":r;return"function"==typeof e.dangerousKeyTransformationOverride?e.dangerousKeyTransformationOverride(e.key,{isMobile:n,language:i}):function(e,t,n){if("string"!=typeof e)throw new Error("`generateKey` expects key to be passed and be a string");if(!t)throw new Error("`generateKey` expects options to be passed");return Object.keys(n).sort(re).reduce((function(e,r){var i=n[r]===t[r],o=!t[r]&&!n[r];return i||o?e:e+"\u25b6\ufe0e"+("boolean"!=typeof t[r]||n[r]?r+":"+t[r]:r)}),e)}(e.key,{m:n,l:i},{m:!1,l:"en"})},oe=function(e){return e.type===ne.Text},ae=function(e,t){return{languageAndMobile:ie(e,{isMobile:t.isMobile,language:t.language}),language:ie(e,{isMobile:!1,language:t.language}),mobile:ie(e,{isMobile:t.isMobile}),original:e.key}},se=function(e){return void 0===e.inheritDesktop||e.inheritDesktop},ue=function(e){var t=e.environmentLabel;return function(e){throw new Error("It is not possible to translate ".concat(e,". Translate function was not passed to the ").concat(t))}},le=function(){var e,t=this;this.handlers=((e={})[ne.Object]={serialize:function(e){return"string"==typeof e?(console.error("\u26a0\ufe0f Seems like you are calling `settings.set(param, JSON.stringify(value))`. Please, pass a plain object/array and tpa-settings will serializate it."),e):JSON.stringify(e)},deserialize:function(e){return"string"!=typeof e?e:JSON.parse(e)}},e),this.serialize=function(e,n){return e.type===ne.Object?t.handlers[ne.Object].serialize(n):n},this.deserialize=function(e,n){return e.type===ne.Object?t.handlers[ne.Object].deserialize(n):n}},ce=new le;function fe(e,t,n){void 0===n&&(n={});var r,i=oe(t),o=ae(t,{isMobile:n.isMobile,language:i?n.language:void 0}),a=se(t);return i?void 0!==e[o.languageAndMobile]?r=e[o.languageAndMobile]:a&&void 0!==e[o.language]&&(r=e[o.language]):void 0!==e[o.mobile]?r=e[o.mobile]:a&&void 0!==e[o.original]&&(r=e[o.original]),ce.deserialize(t,r)}var pe=!1;function de(e,t,n,r){void 0===n&&(n={});var i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,[]);void 0===r&&(r="COMPONENT");var o=e;e.COMPONENT||(pe||(console.warn("`getSettingsValue` or `getSettingsValues` should accept whole public data object. Probably, data was passed only for one scope."),pe=!0),o={COMPONENT:e,APP:{}});var a="COMPONENT"===r&&t.inheritFromAppScope,s=fe(o[r],t,i);return void 0===s&&a&&(s=fe(o.APP,t,i)),t.getDefaultValue&&void 0===s?function(e,t,n,r){var i,o;void 0===r&&(r={});var a=null!==(i=r.t)&&void 0!==i?i:ue({environmentLabel:null!==(o=r.environmentLabel)&&void 0!==o?o:"`getSettingsValue` function"});return n.getDefaultValue({isMobile:r.isMobile,isRTL:r.isRTL,isEditorX:r.isEditorX,t:a,presetId:r.presetId,experiments:r.experiments,getSettingParamValue:function(n,i){return void 0===i&&(i={}),de(e,n,te(te(te({},r),i),{t:a}),t)}})}(o,r,t,i):s}var he=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ve=function(e){function t(t){var n,r=this;(r=e.call(this,t)||this).entry="viewerScript";var i=t.config,o=t.widgetId,a=t.wixAPI.location.query;return r.isEditorX=y(null===(n=null==i?void 0:i.style)||void 0===n?void 0:n.styleParams),r.isADI=w(a),r.isClassicEditor=P(a),r.widgetId=o,r}return he(t,e),t}(D),ge=function(e,t){return{name:e.name,message:e.message,stack:e.stack,errorId:t}};function me(e,t){this.controllerConfig.wixCodeApi.window.openModal("".concat(h(this.componentName||"",e,this.controllerConfig.appParams.instance)),t)}var be=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_e.apply(this,arguments)},ye=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},we=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Pe=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Se=function(e){function t(t){var n,r,i,o,a,s,u,d=t.viewerScriptFlowAPI,h=t.controllerConfig,v=t.appDefinitionId,b=t.widgetId,_=t.componentId,y=t.componentName,w=t.biLogger,P=t.prepopulatedData,S=t.translations,O=t.fedopsConfig,x=t.sentryConfig,C=t.persistentAcrossPages,A=t.shouldUseEssentials,I=t.multilingualDisabled,R=this;(R=e.call(this,{httpClient:d._httpClient})||this).appLoadStarted=function(){var e=R.fedops.appLoadStarted;e.call(R.fedops),R.fedops.appLoadStarted=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];console.warn("\ud83e\udd7a Seems like you're trying to call `fedopsLogger.appLoadStarted` and `fedopsLogger.appLoaded` in your controller.\nWe are already logging load events for SSR and CSR environments, so you can remove these calls from your project."),e.call.apply(e,Pe([R.fedops],t,!1))}},R.essentials=h.essentials,R.controllerConfig=h,R.experiments=d.experiments,R.bi=d.bi,R.prepopulatedData=P,R.componentName=y;var E=h.platformAPIs;if(R.getCurrencyFormatter=d.getCurrencyFormatter,R.formatCurrency=null===(n=R.getCurrencyFormatter)||void 0===n?void 0:n.call(R),R.formatAddress=d.formatAddress,R.environment=new ve({wixAPI:h.wixCodeApi,appData:h.appParams,config:h.config,widgetId:b}),!d.bi&&w)if(A){var M=R.essentials.biLoggerFactory();R.bi=w(M)({})}else(null===(r=h.platformAPIs)||void 0===r?void 0:r.biLoggerFactory)&&(R.bi=w(null===(i=h.platformAPIs)||void 0===i?void 0:i.biLoggerFactory())({}));if(R.sentry=null,R.errorMonitor=null,(null==P?void 0:P.sentryMonitor)||(null==P?void 0:P.errorMonitor))R.sentry=null!==(o=null==P?void 0:P.sentryMonitor)&&void 0!==o?o:null,R.errorMonitor=null!==(a=null==P?void 0:P.errorMonitor)&&void 0!==a?a:null;else if(x)if(x.errorMonitor&&R.essentials.createErrorMonitor)R.errorMonitor=R.essentials.createErrorMonitor({dsn:x.DSN,environment:"Viewer:Worker",appName:f(),version:c(),tags:{componentId:_,componentName:y,isSSR:g(h.wixCodeApi),isSEO:m(h.wixCodeApi)}});else{var N=l({dsn:x.DSN,environment:"Viewer:Worker",release:"".concat(f(),"@").concat(c()),withDataCallback:!0,tags:{componentId:_,componentName:y,isSSR:g(h.wixCodeApi),isSEO:m(h.wixCodeApi)}});R.sentry=null===(s=E.monitoring)||void 0===s?void 0:s.createMonitor(N.dsn,(function(e){return _e(_e({},e),N.config)}))}if(R.sentry&&(R.reportError=function(e){return"string"==typeof e?R.sentry.captureMessage(e):R.sentry.captureException(e),R.sentry.lastEventId()}),R.errorMonitor&&(R.reportError=function(e){return"string"==typeof e?R.errorMonitor.captureMessage(e):R.errorMonitor.captureException(e)}),R.fedops=null,!1!==(null==O?void 0:O.enabled)){(null==P?void 0:P.fedopsLogger)?R.fedops=null==P?void 0:P.fedopsLogger:R.fedops=A?R.essentials.fedopsLogger:E.fedOpsLoggerFactory.getLoggerForWidget({appId:v,widgetId:b,paramsOverrides:{corrId:R.controllerConfig.compId}});var D=!C||1===(null===(u=R.controllerConfig.platformAPIs.bi)||void 0===u?void 0:u.pageNumber);(R.environment.isSSR||D)&&R.appLoadStarted()}return R.translations=S,R.viewerScriptFlowAPI=d,R.settings={get:function(e){var t,n,r;return de(null!==(n=null===(t=R.controllerConfig.config)||void 0===t?void 0:t.publicData)&&void 0!==n?n:{},e,{t:null===(r=R.translations)||void 0===r?void 0:r.t,experiments:R.experiments,isMobile:R.environment.isMobile,language:I?p(R.environment.multilingual):void 0})}},R.openModal=me,R}return be(t,e),t.prototype.init=function(){var e,t;return ye(this,void 0,void 0,(function(){return we(this,(function(n){switch(n.label){case 0:return null!==(null===(e=this.translations)||void 0===e?void 0:e.i18n)?[3,2]:[4,this.translations.init({prepopulated:null===(t=this.prepopulatedData)||void 0===t?void 0:t.translations,useSuspense:this.environment.isEditor||this.environment.isADI})];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.updateControllerConfig=function(e){this.controllerConfig.config=e},t.prototype.handleError=function(e){var t;this.sentry&&(this.reportError(e),t=this.sentry.lastEventId()),this.errorMonitor&&(t=this.reportError(e)),this.controllerConfig.setProps({_workerError:ge(e,t)})},t.prototype.withErrorBoundary=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{e.apply(void 0,n)}catch(e){e instanceof Error&&t.handleError(e)}}},t}(F),Oe={language:"_language",translations:"_translations",multilingual:"_multilingual",experiments:"_experiments",biMethods:"_biMethods",openModal:"__openModal__",biUtil:"_biUtil",mobile:"_mobile",isRTL:"_isRTL",isSSR:"_isSSR",isSEO:"_isSEO",appDefinitionId:"_appDefinitionId",widgetId:"_widgetId",fedopsLogger:"_fedopsLogger",sentry:"_sentry",errorMonitor:"_errorMonitor",publicData:"_publicData",styles:"__styles",enabledHOCs:"_enabledHOCs",onAppLoaded:"_onAppLoaded",error:"_workerError"},xe=function(){function e(){this.store={}}return e.prototype.init=function(){},e.prototype.getProps=function(){return this.store},e.prototype.getProp=function(e){var t=this.getPrivateKey(e);return this.store[t]},e.prototype.spreadProp=function(e){var t,n=this.getPrivateKey(e);return(t={})[n]=this.store[n],t},e.prototype.getPrivateKey=function(t){return e.PropsMap[t]},e.prototype.getFromExternalStore=function(e,t){return t[this.getPrivateKey(e)]},e.prototype.setProp=function(e,t){var n=this.getPrivateKey(e);this.store[n]=t},e.prototype.isHOCEnabled=function(e){return this.getProp("enabledHOCs")[e]},e.prototype.isFlowPropsReceived=function(){return!!this.getProp("enabledHOCs")},e.PropsMap=Oe,e}(),Ce=function(e){return function(t){var n;return e.controllerConfig.config.publicData=t,(n={})[xe.PropsMap.publicData]=t,n}},Ae=function(){return Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ae.apply(this,arguments)},Ie=function(e){return function(t){var n,r,i;return e.controllerConfig.config.style.styleParams=(void 0===(r=e.controllerConfig.config.style.styleParams)&&(r={}),void 0===(i=t)&&(i={}),Ae(Ae({},r),{colors:Ae(Ae({},r.colors),i.colors),booleans:Ae(Ae({},r.booleans),i.booleans),fonts:Ae(Ae({},r.fonts),i.fonts),numbers:Ae(Ae({},r.numbers),i.numbers)})),(n={})[xe.PropsMap.styles]=e.controllerConfig.config.style.styleParams,n}},Re=function(e,t,r,i,o,a){var s=a(),u=new Se({translations:i.createTranslations(t,e,{basePath:n.p}),componentId:t.id,componentName:t.componentName,viewerScriptFlowAPI:i,appDefinitionId:t.appDefinitionId,widgetId:t.id,translationsConfig:t.translationsConfig,persistentAcrossPages:t.persistentAcrossPages,biLogger:t.biLogger,fedopsConfig:t.fedopsConfig,sentryConfig:t.sentryConfig,controllerConfig:r,shouldUseEssentials:t.shouldUseEssentials,multilingualDisabled:t.multilingualDisabled});return t.method({controllerConfig:r,flowAPI:u,appData:s,dangerousPublicDataOverride:Ce(u),dangerousStylesOverride:Ie(u)})};let Ee;!function(e){e.RestrictedMemberPagePermissions="specs.membersArea.EnableMemberPagePermissions",e.SampleViewerAppFedopsInteractions="specs.membersArea.sampleViewerAppFedopsInteractions"}(Ee||(Ee={}));var Me=n(186);const Ne=[Me.dn,Me.tt,Me.qq,Me.sV,"14ebe801-d78a-daa9-c9e5-0286a891e46f","14dbef06-cc42-5583-32a7-3abd44da4908",Me.AV,"476dc2dd-e16e-43b0-a0aa-1a486c78fbe2"],De="b976560c-3122-4351-878f-453f337b7245",Ue="14f25924-5664-31b2-9568-f9c5ed98c9b1",ke="{userName}",je="https://{domain}",Te=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i,Le="initialData";let Ve;!function(e){e.MissingMemberId="Error: please provide site member ID",e.RouteNotFound="Error: route not found by provided widgetId:",e.MissingMembersAreaPage="Error: missing members area page - failed to find prefix",e.CannotNavigateToMemberNoPublicPage="Error: cannot navigate to member, no public page",e.ControllerConfigNotInitialized="Error: Members area viewer controller config was not initialized",e.CannotFindPageToNavigateTo="Error: cannot find page to navigate to by provided widgetId and appDefinitionId. Check if correct widgetId or appDefId is passed."}(Ve||(Ve={}));const Be="members-menu-initial-items",Fe="login-dropdown-menu-initial-items",Ke="@members_login",Ge="@members_menu",qe="@members-login-bar",Je="@members-menu";function ze(e){if(!e||!e[0])return[];return Object.keys(e[0]).includes("isVisible")?function(e){return e.map((e=>({link:e.link,isVisibleInMenuBar:e.isVisible,isVisibleInMobileMenuBar:e.isVisibleMobile,visibleForRoles:e.visibleForRoles})))}(e):function(e){return e.map((e=>({link:e.l,isVisibleInMenuBar:!e.hmb,isVisibleInMobileMenuBar:!e.hmmb,visibleForRoles:e.vfr||[]})))}(e)}var We=n(511),He=n(34),$e={},Xe={};function Ye(e){return(0,We.resolveUrl)(Object.assign(e,{domainToMappings:{"api._api_base_domain_":[{srcPath:"/members/v1/roles",destPath:""}],_:[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}],"www._base_domain_":[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}],"members.wixapps.net":[{srcPath:"/_api/members/v1/roles",destPath:"/v1/roles"}]}}))}function Qe(e){var t=(0,He.serializer)($e,{}),n=t.toJSON,r=t.fromJSON,i=(0,He.serializer)(Xe,{}).fromJSON;function o(t){var r=t.host,o=n(e);return{method:"GET",url:Ye({protoPath:"/v1/roles/members/{memberId}",data:o,host:r}),params:(0,We.toURLSearchParams)(o),transformResponse:i}}return o.fromReq=r,o}let Ze,et,tt;const nt=(e,t)=>()=>{try{!function(e){try{tt&&et.interactionStarted(e)}catch(e){const t="Failed to start fedops interaction, reason: "+e;Ze&&Ze.captureException(t)}}(e);const n=t();return function(e){try{tt&&et.interactionEnded(e)}catch(e){const t="Failed to end fedops interaction, reason: "+e;Ze&&Ze.captureException(t)}}(e),n}catch(e){throw console.error(e),Ze&&Ze.captureException(e.toString()),e}};function rt(e,t){var n;void 0===t&&(t={}),null!=(n=Ze)&&n.captureMessage&&Ze.captureMessage(e,{level:"error",...t})}let it;function ot(){return it}class at{constructor(e){this.httpClient=e}async get(e){try{return(await this.httpClient.get(e)).data}catch(e){return console.log("error fetching data",e.message),{}}}async post(e,t){try{return(await this.httpClient.post(e,t)).data}catch(e){return console.log("error posting data",e.message),{}}}}var st=n(861),ut=n(574),lt=n(723);async function ct(e){let{httpClient:t,platformServices:n,flowAPI:r,memberId:i}=e;try{var o;const e=await t.request((0,ut.iX)({shouldCancelMergeContactInMobile:!1,recipient:{contact:{metaSiteId:n.bi.metaSiteId,contactId:i}},feedFilter:{channel:lt.rD.WEB},specialMigrationSpecs:[lt.MW.HideChatNotifications]})),r=null==e||null==(o=e.data)?void 0:o.numberOfUnseen;return r?{memberId:i,appId:Ue,counters:[{key:"notificationsCount",public:!1,count:r}]}:null}catch(e){var a;return null==(a=r.errorMonitor)||a.captureException(e),null}}const ft="current-user-slug",pt="current-user-id";function dt(e,t,n){let r,i,o;return{getCurrentUser:function(){var e;return null!=(e=i)?e:{}},setCurrentUser:async function(t,n){const r=await function(t,n){const r=ot(),i=r.getItem(ft),o=r.getItem(pt);if(i&&o===t.id)return i;o&&o===t.id||r.setItem(pt,t.id);if(!t.loggedIn||"Site"!==e.window.viewMode)return t.id;return async function(e){var t,n;const r=new at(e),i=await r.get("/_api/members/v1/members/my");return null==(t=i.member)||null==(n=t.profile)?void 0:n.slug}(n).then((e=>{const n=e||t.id;return r.setItem(ft,n),n})).catch((()=>rt("Error while fetching current user slug",{userDataId:t.id})))}(t,n);i={id:t.id,loggedIn:t.loggedIn,slug:r}},getViewedUser:function(){var e;return null!=(e=r)?e:{}},setViewedUser:function(e){e&&(r=e)},fetchRoles:async function(e,t,n){var r,i,o,a;const[s,u]=await Promise.all([e?n.request(Qe({memberId:e})).catch((()=>{})):void 0,t?n.request(Qe({memberId:t})).catch((()=>{})):void 0]);return{...s&&{[e]:(null==s||null==(r=s.data)||null==(i=r.roles)?void 0:i.map((e=>{var t;return null==(t=e.roleKey)?void 0:t.toLocaleLowerCase()})))||[]},...u&&{[t]:(null==u||null==(o=u.data)||null==(a=o.roles)?void 0:a.map((e=>{var t;return null==(t=e.roleKey)?void 0:t.toLocaleLowerCase()})))||[]}}},getRoles:function(){var e;return null!=(e=o)?e:{}},setRoles:function(e){o=e},fetchMenuCounters:function(e,r){return e&&!1!==e.loggedIn?new Promise(((i,o)=>{const a=e&&e.id;a&&r?async function(e){let{memberId:t,httpClient:n,platformServices:r,flowAPI:i}=e;try{var o;const[e,a]=await Promise.all([n.request((0,st.C5)({memberId:t})),ct({httpClient:n,platformServices:r,memberId:t,flowAPI:i})]),s=(null==e||null==(o=e.data)?void 0:o.activityCounters)||[];return a&&s.push(a),s.map((e=>{var t;return{appDefId:e.appId,numbers:null==(t=e.counters)?void 0:t.reduce(((e,t)=>(e[t.key]={public:t.public,count:t.count},e)),{})}}))}catch(e){var a;return null==(a=i.errorMonitor)||a.captureException(e),[]}}({memberId:a,httpClient:r,platformServices:t,flowAPI:n}).then((e=>i({apps:e}))):o(new Error("No user to get menu counters by"))})):Promise.resolve({apps:[]})},replaceUserPatternWithSlug:function(e,t){return e.replace(ke,t.slug).replace(encodeURI(ke),t.slug)}}}const ht=e=>Object.keys(e).map((t=>t+"="+e[t])).join("&");let vt;const gt=()=>vt||[],mt=e=>{vt=e};function bt(e){let{menuItem:t,publicRouterConfig:n={},privateRouterConfig:r={},viewedUser:i,shouldLog:o=!0}=e,a=t.link;i&&0===a.indexOf("/"+i.slug+"/")&&(a=a.replace("/"+i.slug+"/","/"+ke+"/"));const s=a.split("/"),u=s.indexOf(ke),l=u>-1?"/"+s.splice(u,s.length).join("/"):"/"+s[s.length-1],c=n.patterns||{},f=r.patterns||{},p=c[l]||f[l];if(!p&&o){const e={menuItemLink:t.link},o={menuItem:t,publicRouterConfig:n,privateRouterConfig:r,viewedUser:i};d="Could not find the pattern for menu item in router configs - probably an invalid (or custom) menu item",void 0===(h={tags:e,extra:{data:JSON.stringify(o)}})&&(h={}),null!=(v=Ze)&&v.captureMessage&&Ze.captureMessage(d,{level:"info",...h})}var d,h,v;return p}function _t(e){let{menuItems:t,publicRouterPrefix:n}=e;const r=t.filter((e=>!!e.link||e.items&&e.items.length>0));return r.forEach((e=>{if(e.link&&0===e.link.indexOf("undefined/"+ke)){const t=e.link.split("/");e.link="/"+n+"/"+ke+"/"+t[2]}})),r.forEach((e=>{if(!e.link)return;if(4===e.link.split("/").length&&-1===e.link.indexOf(ke)){const t=e.link.split("/");"https:"!==t[0]&&"http:"!==t[0]&&(e.link="/"+t[1]+"/"+ke+"/"+t[3])}})),r}function yt(e){let{slug:t,options:n,wixCodeApi:r}=e;const[i]=function(e){let{location:t}=e;const{prefix:n,path:r,query:i}=t,o=Object.keys(i).length>0?"?"+ht(i):"";return"/"+n+"/"+r.join("/")+o}(r).split("?"),o=function(e,t){if(!t)return e;const[,...n]=e.split("/");return n[1].match(Te)?(n[1]=t,"/"+n.join("/")):e}(i,t),a=n.find((e=>{let{link:t}=e;return t===o}));return a?a.value:null}function wt(e){let{menu:t,options:n,viewedUser:r,wixCodeApi:i}=e;if(!!t.autoNavigation)return;const o=(r||{}).slug;t.value=yt({slug:o,options:n,wixCodeApi:i}),function(e){let{menu:t,options:n,wixCodeApi:r}=e;null==t.onChange||t.onChange((e=>{let{target:i}=e;const o=i.value,a=(n.find((e=>{let{value:t}=e;return t===o}))||{}).link;var s;a?r.location.to(a):rt("Menu navigation request ignored: ",{menu:t,target:i,options:n,newLink:a,api:!(null==r||null==(s=r.location)||!s.to)})}))}({menu:t,options:n,wixCodeApi:i})}function Pt(e){let{menuItems:t,parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o}=e;const a=null==n?void 0:n.find((e=>"public"===e.type)),s=null==n?void 0:n.find((e=>"private"===e.type)),u=function(e){let{menuItems:t,publicRouterConfig:n,privateRouterConfig:r,userRoles:i=[],viewedUser:o}=e;return t.filter((e=>{if(!e.link)return!0;const t=bt({menuItem:e,publicRouterConfig:n,privateRouterConfig:r,viewedUser:o});if(!t||!t.appData||!t.appData.visibleForRoles||0===t.appData.visibleForRoles.length)return!0;const{visibleForRoles:a=[]}=t.appData;return!!a.some((e=>i.indexOf(e)>-1))}))}({menuItems:t,publicRouterConfig:a,privateRouterConfig:s,userRoles:r,viewedUser:i}),l=function(e){var t;let{menuItems:n,appsCounters:r,publicRouterConfig:i,privateRouterConfig:o,viewedUser:a}=e;return n.forEach((e=>{e.displayCount=null})),null!=r&&null!=(t=r.apps)&&t.length?(r.apps.forEach((e=>{n.forEach((t=>{if(!t.link)return;const n=bt({menuItem:t,publicRouterConfig:i,privateRouterConfig:o,viewedUser:a});if(n&&n.appData.appDefinitionId===e.appDefId){const r=n.appData.numbers&&n.appData.numbers.key,i=e.numbers&&r&&e.numbers[r];i&&(t.displayCount=i.count)}}))})),n):n}({menuItems:u,appsCounters:o,publicRouterConfig:a,privateRouterConfig:s,viewedUser:i});return function(e){let{menuItems:t,viewedUser:n}=e;return t.map((e=>(e.link&&e.link.indexOf(ke)>-1&&(e.link=e.link.replace(ke,n.slug)),e)))}({menuItems:l,viewedUser:i})}function St(e){let{menuItems:t,parsedRoutersConfigs:n,viewedUser:r,permittedPagesMap:i,experiments:o}=e;if(o&&o.enabled(Ee.RestrictedMemberPagePermissions)){const e=null==n?void 0:n.find((e=>"public"===e.type)),o=null==n?void 0:n.find((e=>"private"===e.type));return t.filter((t=>{var n;const a=bt({menuItem:t,publicRouterConfig:e,privateRouterConfig:o,viewedUser:r});return!a||(null==(n=i[a.page])||n)}))}return t}function Ot(e){let{menuItems:t,parsedRoutersConfigs:n=[],viewedUserRoles:r,viewedUser:i,currentUser:o,appsCounters:a,parsedConfigItems:s,publicRouterPrefix:u,permittedPagesMap:l,experiments:c}=e;const f=!i.id&&o?o:i,p=function(e){let{menuItems:t,parsedConfigItems:n}=e;if(n)return t.filter((e=>{const t=n.find((t=>t.link===e.link)),{isVisibleInMenuBar:r}=t||{};return"boolean"!=typeof r||r}))}({menuItems:_t({menuItems:t,publicRouterPrefix:u}),parsedConfigItems:s}),d=function(e){let{menuItems:t,currentUser:n,viewedUser:r,parsedRoutersConfigs:i=[]}=e;if(!r.id)return t;if(n&&n.id===r.id)return t;const o=i.find((e=>"private"===e.type));return t.filter((e=>!e.link||!bt({menuItem:e,viewedUser:r,privateRouterConfig:o,shouldLog:!1})))}({menuItems:p||[],currentUser:o,viewedUser:i,parsedRoutersConfigs:n}),h=Pt({menuItems:St({menuItems:d,parsedRoutersConfigs:n,permittedPagesMap:l,viewedUser:i,experiments:c}),parsedRoutersConfigs:n,userRoles:r,viewedUser:f,appsCounters:a});return h.forEach((e=>{e.items&&e.items.length>0&&(e.items=Ot({menuItems:e.items,parsedRoutersConfigs:n,viewedUserRoles:r,viewedUser:i,currentUser:o,appsCounters:a,parsedConfigItems:s,publicRouterPrefix:u}))})),function(e){let{menuItems:t}=e;return t.filter((e=>!!e.link||e.items&&e.items.length>0))}({menuItems:h})}function xt(e){let{menuItems:t,parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o,publicRouterPrefix:a,permittedPagesMap:s,experiments:u,domainUrl:l}=e;const c=function(e){let{menuItems:t,domainUrl:n}=e;return t.map((e=>(e.link&&e.link.indexOf(je)>-1&&(e.link=e.link.replace(je,n)),e)))}({menuItems:t,domainUrl:l});return Pt({menuItems:St({menuItems:_t({menuItems:c,publicRouterPrefix:a}),parsedRoutersConfigs:n,permittedPagesMap:s,viewedUser:i,experiments:u}),parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o})}function Ct(e){let{menu:t,parsedRoutersConfigs:n,currentUserRoles:r,currentUser:i,appsCounters:o,memoryStorage:a,publicRouterPrefix:s,permittedPagesMap:u,experiments:l,isMobile:c,domainUrl:f}=e;const p=Boolean((null==t?void 0:t.accountNavBar)&&t.accountNavBar.navBarItems&&t.accountNavBar.menuItems&&c),d=p?t.accountNavBar.navBarItems:t.navBarItems||[],h=p?null==t?void 0:t.accountNavBar.menuItems:t.menuItems||[],v=Fe+"-"+t.id;let g=JSON.parse(a.getItem(v));if(!g){const e=JSON.stringify(h);a.setItem(v,e),g=h}const m=xt({menuItems:d,parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o,publicRouterPrefix:s,permittedPagesMap:u,experiments:l,domainUrl:f}),b=xt({menuItems:g,parsedRoutersConfigs:n,userRoles:r,viewedUser:i,appsCounters:o,publicRouterPrefix:s,permittedPagesMap:u,experiments:l,domainUrl:f});p?(t.accountNavBar.navBarItems=m,t.accountNavBar.menuItems=b):(t.navBarItems=m,t.menuItems=b)}const At=e=>{let{menu:t,parsedRoutersConfigs:n,viewedUser:r,flowAPI:i}=e;return t.onItemClick((e=>{var t;let{item:o}=e;const a=function(e){let{item:t,viewedUser:n,parsedRoutersConfigs:r}=e;const i=t.link.replace("/"+n.slug+"/","/"+ke+"/"),o=null==r?void 0:r.find((e=>"public"===e.type)),a=null==r?void 0:r.find((e=>"private"===e.type)),s=i.split("/"),u=s.indexOf(ke),l=u>-1?"/"+s.splice(u,s.length).join("/"):"/"+s[s.length-1],c=(null==o?void 0:o.patterns)||{},f=(null==a?void 0:a.patterns)||{};return c[l]||f[l]}({item:o,parsedRoutersConfigs:n,viewedUser:r}),{appDefinitionId:s,appPageId:u}=a.appData;null==(t=i.bi)||t.report({evid:866,src:69,endpoint:"members-app-uou",params:{pageName:u,component:"ma-navigation",originAppId:s,action:"menu-item-click"}})}))};function It(e){let{wixCodeApi:t,menu:n,parsedRoutersConfigs:r,viewedUserRoles:i,currentUser:o,viewedUser:a,appsCounters:s,parsedConfigItems:u,memoryStorage:l,publicRouterPrefix:c,permittedPagesMap:f,experiments:p,isMobile:d,flowAPI:h}=e;const v=d&&void 0!==n.options&&void 0===n.items,g=v?n.options||[]:n.items||[],m=Be+"-"+n.id;let b=JSON.parse(l.getItem(m));if(!b){const e=JSON.stringify(g);l.setItem(m,e),b=g}const _=Ot({menuItems:b,parsedRoutersConfigs:r,viewedUserRoles:i,currentUser:o,viewedUser:a,appsCounters:s,parsedConfigItems:u,publicRouterPrefix:c,permittedPagesMap:f,experiments:p});At({menu:n,parsedRoutersConfigs:r,flowAPI:h,viewedUser:a}),v?(n.options=_,wt({menu:n,options:_,viewedUser:a,wixCodeApi:t})):n.items=_}const Rt=e=>{var t,n;return"https://editor.wix.com/html/editor/web/renderer/render/document/"+(null==(n=(null==(t=(null==e?void 0:e.window.referrer).split("?"))?void 0:t[0]).split("/"))?void 0:n.pop())};function Et(e){let{$w:t,wixCodeApi:n,parsedRoutersConfigs:r=[],viewedUserRoles:i=[],currentUser:o,viewedUser:a,appsCounters:s,parsedConfigItems:u,memoryStorage:l,publicRouterPrefix:c,permittedPagesMap:f={},experiments:p,isMobile:d,flowAPI:h}=e;const v=t(Ge),g=t(Je);v.forEach((e=>It({wixCodeApi:n,menu:e,parsedRoutersConfigs:r,viewedUserRoles:i,currentUser:o,viewedUser:a,appsCounters:s,parsedConfigItems:u,memoryStorage:l,publicRouterPrefix:c,permittedPagesMap:f,experiments:p,isMobile:d,flowAPI:h}))),g.forEach((e=>It({wixCodeApi:n,menu:e,parsedRoutersConfigs:r,viewedUserRoles:i,currentUser:o,viewedUser:a,appsCounters:s,parsedConfigItems:u,memoryStorage:l,publicRouterPrefix:c,permittedPagesMap:f,experiments:p,isMobile:d,flowAPI:h})))}var Mt=n(213),Nt=n.n(Mt);class Dt{constructor(e,t){this.httpClient=e,this.experiments=t,Nt()(this,"adminGroupId","00000000-0000-0000-0000-000000000001"),Nt()(this,"restrictedPagesContext","Pages"),Nt()(this,"permittedPagesExperiment",Ee.RestrictedMemberPagePermissions)}async getPermittedPagesMap(e,t){const n=Object.values(e);if(!this.shouldFetchPermittedPages(n,t))return{};const r=await this.fetchRestrictedPagesPermission();if(!this.hasRestrictedPages(r,n))return this.getPermittedPagesMapFallback(Object.keys(e),!0);const i=this.getNonRestrictedPages(r,n),o=this.getRestrictedMemberPages(r,n),a=await this.checkPermissionsForRestrictedPages(r.id,o);return this.toPermittedPagesMap(e,i,a)}toPermittedPagesMap(e,t,n){return Object.entries(e).reduce(((e,r)=>{let[i,o]=r;return t.includes(o)?{...e,[i]:!0}:{...e,[i]:n[o]}}),{})}getRestrictedMemberPages(e,t){return e.resourceIds.filter((e=>t.includes(e)))}getNonRestrictedPages(e,t){return t.filter((t=>!e.resourceIds.includes(t)))}getPermittedPagesMapFallback(e,t){return e.reduce(((e,n)=>({...e,[n]:t})),{})}async checkPermissionsForRestrictedPages(e,t){var n;const r="/_api/members-groups-web/v1/permissions/"+e,i={params:{resourceId:t}},o=this.getPermittedPagesMapFallback(t,!1),a=await(null==(n=this.httpClient)?void 0:n.get(r,i).then((e=>{let{data:t}=e;return t.isPermitted})).catch((()=>null)));return null!=a?a:o}async fetchRestrictedPagesPermission(){var e,t;const n="/_api/members-groups-web/v1/groups/"+this.adminGroupId+"/permissions",r=await(null==(e=this.httpClient)?void 0:e.get(n).then((e=>{let{data:t}=e;return t.permissions})).catch((()=>null)));return null!=(t=null==r?void 0:r.find((e=>{let{context:t}=e;return this.restrictedPagesContext===t})))?t:null}hasRestrictedPages(e,t){return!(null==e||!e.resourceIds.length)&&t.some((t=>e.resourceIds.includes(t)))}shouldFetchPermittedPages(e,t){var n;const r=null==(n=this.experiments)?void 0:n.enabled(this.permittedPagesExperiment);return null!=r&&r&&e.length>0&&"Site"===t}}const Ut=e=>{const t={};return e.forEach((e=>{var n;Object.entries(null!=(n=e.pages)?n:{}).forEach((e=>{let[n,r]=e;t[n]=r}))})),t};class kt{constructor(e){this.storage=e}hasCurrentUser(e){const t=this.getCurrentUserCacheKey(e);return this.hasItemInStorage(t)}getCurrentUser(e){const t=this.getCurrentUserCacheKey(e);return this.getItemFromStorage(t)}setCurrentUser(e,t){const n=this.getCurrentUserCacheKey(e);return this.setItemToStorage(n,t)}hasViewedUser(e,t){const n=this.getViewedUserCacheKey(e,t);return this.hasItemInStorage(n)}getViewedUser(e,t){const n=this.getViewedUserCacheKey(e,t);return this.getItemFromStorage(n)}setViewedUser(e,t,n){const r=this.getViewedUserCacheKey(e,t);return this.setItemToStorage(r,n)}hasRoles(e,t){const n=this.getRolesCacheKey(e,t);return this.hasItemInStorage(n)}getRoles(e,t){const n=this.getRolesCacheKey(e,t);return this.getItemFromStorage(n)}setRoles(e,t,n){const r=this.getRolesCacheKey(e,t);return this.setItemToStorage(r,n)}hasNumbers(e,t){const n=this.getNumbersCacheKey(e,t);return this.hasItemInStorage(n)}getNumbers(e,t){const n=this.getNumbersCacheKey(e,t);return this.getItemFromStorage(n)}setNumbers(e,t,n){const r=this.getNumbersCacheKey(e,t);return this.setItemToStorage(r,n)}hasItemInStorage(e){return!!this.storage.getItem(e)}getItemFromStorage(e){const t=this.storage.getItem(e);return t?JSON.parse(t):null}setItemToStorage(e,t){return this.storage.setItem(e,JSON.stringify(t))}getCurrentUserCacheKey(e){return"cu-"+e}getViewedUserCacheKey(e,t){return"vu-"+t+"-"+e}getRolesCacheKey(e,t){return t?"roles-"+t+"-"+e:"roles-"+e}getNumbersCacheKey(e,t){return"numbers-"+t+"-"+e}}function jt(e){var t;const n=e.find((e=>"public"===JSON.parse(e.config).type));if(!n)return;const r=JSON.parse(n.config),i=n.prefix,o=Object.keys(null!=(t=r.patterns)?t:{}),a=o.find((e=>!0===r.patterns[e].socialHome));if(a)return{routerPrefix:i,patternKey:a,pageData:r.patterns[a]};if(o.length>0){const e=o[0];return{routerPrefix:i,patternKey:e,pageData:r.patterns[e]}}}const Tt=()=>{};class Lt{constructor(e){let{appRouters:t,routerReturnedData:n,wixCodeApi:r,cacheService:i,flowAPI:o}=e;Nt()(this,"wixLocation",void 0),Nt()(this,"wixSite",void 0),Nt()(this,"isMobile",void 0),Nt()(this,"appRouters",void 0),Nt()(this,"routerReturnedData",void 0),Nt()(this,"wixCodeApi",void 0),Nt()(this,"cacheService",void 0),Nt()(this,"flowAPI",void 0),this.wixLocation=r.location,this.wixSite=r.site,this.isMobile="Mobile"===r.window.formFactor,this.appRouters=t,this.routerReturnedData=n,this.wixCodeApi=r,this.cacheService=i,this.flowAPI=o}async matchRoute(e){let{appDefinitionId:t,sectionId:n,onSuccess:r=Tt,onError:i=Tt}=e;t&&n||i("Error: please provide app ID and section ID for navigation");let o=!1;if(this.appRouters.forEach((e=>{if(o)return;const i=JSON.parse(e.config);return i.patterns&&Object.keys(i.patterns).forEach((a=>{if(o)return;const s=i.patterns[a];s.appData&&s.appData.appDefinitionId===t&&s.appData.appPageId===n&&(o=!0,r(e.prefix,a))}))})),!o){const e=((await this.wixSite.getSiteStructure()).pages||[]).filter((e=>e.applicationId===t&&!e.prefix)).pop();return e?(o=!0,r("",e.url)):i("Error: can not resolve route for app "+t+" and page "+n)}}getRouterOptions(e){const t=(e.appRouters||[]).map((e=>({...e,config:JSON.parse(e.config)}))),n=t.map((e=>e.config));return{publicRouterPrefix:t.find((e=>"public"===e.config.type)).prefix,parsedRoutersConfigs:n}}getMenuRenderOptions(e){let{config:t,userService:n,appsCounters:r,enablePreview:i,flowAPI:o}=e;const{$w:a,appParams:s}=t,{parsedRoutersConfigs:u,publicRouterPrefix:l}=this.getRouterOptions(s),c=n.getViewedUser();return{$w:a,wixCodeApi:this.wixCodeApi,publicRouterPrefix:l,parsedRoutersConfigs:u,appsCounters:r,memoryStorage:ot(),parsedConfigItems:ze(t.config),currentUser:n.getCurrentUser(),viewedUser:i?{...c,id:"00000000-0000-0000-0000-000000000000"}:c,viewedUserRoles:n.getRoles()[c.id]||[],isMobile:this.isMobile,experiments:t.essentials.experiments,flowAPI:o}}static hasSocialApp(e){const{applicationId:t}=e;return Ne.indexOf(t)>-1}async hasSocialPages(e,t){if(!this.appRouters)throw t&&t("App routers not initialised"),new Error("App routers not initialised");const n=this.appRouters.filter((e=>{const t=JSON.parse(e.config);return"public"===t.type&&t.patterns&&Object.keys(t.patterns).length>0})),{pages:r}=await this.wixSite.getSiteStructure(),i=r.filter(Lt.hasSocialApp);return e&&e(n.length>0||i.length>0),n.length>0||i.length>0}async getViewedUser(e,t){var n;const r=null==(n=this.routerReturnedData)?void 0:n.memberData.memberContactId;if(r)return e&&e(r),r;throw t&&t("Error getting viewed user"),new Error("Error getting viewed user")}async navigateToSection(e,t){let{appDefinitionId:n,sectionId:r,tpaInnerRoute:i="",memberId:o=""}=e;await this.matchRoute({appDefinitionId:n,sectionId:r,onSuccess:(e,t)=>{var n,r;e&&0!==e.indexOf("/")&&(e="/"+e),i&&"/"!==i.charAt(0)&&(i="/"+i),null==(n=(r=this.wixLocation).to)||n.call(r,""+e+(o?t.replace(ke,o):t)+i)},onError:e=>{throw t&&t(e),new Error(e)}})}async getSectionUrl(e,t){let{appDefinitionId:n,sectionId:r,memberId:i="",memberSlug:o}=e;return new Promise(((e,a)=>{const s=o||i;this.matchRoute({appDefinitionId:n,sectionId:r,onSuccess:(n,r)=>{n&&0===n.indexOf("/")&&(n=n.substring(1)),n||0!==r.indexOf("/")||(r=r.substring(1));let i=this.wixLocation.baseUrl;"/"!==i.slice(-1)&&(i+="/");const o=Object.keys(this.wixLocation.query).map((e=>e+"="+this.wixLocation.query[e])).join("&");t&&t(""+i+n+(s?r.replace(ke,s):r)+(o?"?"+o:"")),e(""+i+n+(s?r.replace(ke,s):r)+(o?"?"+o:""))},onError:()=>{console.error("Route not found for app",n,"and section",r),t&&t(this.wixLocation.url),a(this.wixLocation.url)}})}))}async getNavigatableRoles(e){const t=jt(this.appRouters);if(t){var n,r;return{navigatableMembersRoles:null!=(n=null==(r=t.pageData.appData)?void 0:r.visibleForRoles)?n:[],isNavigationAllowed:!0}}return{navigatableMembersRoles:[],isNavigationAllowed:!1}}async navigateToMember(e,t){let{memberId:n,memberSlug:r}=e;const i=r||n;if(!n)throw t&&t("Error: please provide site member ID"),new Error("Error: please provide site member ID");const o=jt(this.appRouters);if(o){var a,s;const e="/"+o.routerPrefix+o.patternKey.replace(ke,i);null==(a=(s=this.wixLocation).to)||a.call(s,e)}}async getMemberPagePrefix(e,t,n){let{type:r="public"}=e;if(!this.appRouters)throw n&&n("Can not get prefix for type "+r+" - no routers"),new Error("Can not get prefix for type "+r+" - no routers");const i=this.appRouters.filter((e=>JSON.parse(e.config).type===r)).pop();if(!i)throw n&&n("Can not get prefix for type "+r),new Error("Can not get prefix for type "+r);return t&&t({type:r,prefix:i.prefix}),{type:r,prefix:i.prefix}}setNotificationCount(e){gt().forEach((t=>{var n;null!=(n=t.navBarItems)&&n.length&&(t.navBarItems=[{...t.navBarItems[0],displayCount:e}])}))}async enterPublicProfilePreviewMode(e){var t,n;let{config:r,userService:i}=e;const{appParams:o,essentials:a}=r,{httpClient:s}=a,u=i.getViewedUser(),l=null==(t=this.wixCodeApi)||null==(n=t.site)||null==n.getAppToken?void 0:n.getAppToken(o.appDefinitionId),c=this.cacheService.hasNumbers(l,u.id)?this.cacheService.getNumbers(l,u.id):i.fetchMenuCounters(u,s),f=this.getMenuRenderOptions({config:r,userService:i,appsCounters:c,enablePreview:!0,flowAPI:this.flowAPI});return nt("renderMembersMenuItems",(()=>Et(f)))()}leavePublicProfilePreviewMode(e){var t,n;let{config:r,userService:i}=e;const{appParams:o,essentials:a}=r,{httpClient:s}=a,u=i.getViewedUser(),l=null==(t=this.wixCodeApi)||null==(n=t.site)||null==n.getAppToken?void 0:n.getAppToken(o.appDefinitionId),c=this.cacheService.hasNumbers(l,u.id)?this.cacheService.getNumbers(l,u.id):i.fetchMenuCounters(u,s),f=this.getMenuRenderOptions({config:r,userService:i,appsCounters:c,enablePreview:!1,flowAPI:this.flowAPI});return nt("renderMembersMenuItems",(()=>Et(f)))()}clearMenus(e){let{config:t}=e;return function(e){const t=e(Ge),n=e(Je);t.forEach((e=>{e.items=[]})),n.forEach((e=>{e.items=[]}))}(null==t?void 0:t.$w)}}let Vt,Bt,Ft,Kt,Gt;const qt=async(e,t,n,r,i,o)=>{let{appDefinitionId:a,routerReturnedData:s,appRouters:u=[]}=e,{storage:l}=t;if(Ft=dt(n,o,i),Gt=(e=>new kt(e.memory))(l),Kt=((e,t)=>new Dt(e,t))(r,i.experiments),Bt=new Lt({appRouters:u,routerReturnedData:s,wixCodeApi:n,cacheService:Gt,flowAPI:i}),function(e){it=e}(l.memory),await Ft.setCurrentUser(n.user.currentUser,r),!s)return Promise.resolve();const c=null==n.site.getAppToken?void 0:n.site.getAppToken(a),f=s.memberData&&s.memberData.slugs||[],p=s.memberData&&s.memberData.memberContactId||s.userId,d=f.find((e=>e.primary)),h={id:p,slug:d&&d.name||p};Ft.setViewedUser(h),Ft.setRoles(s.roles||{}),s.roles&&Gt.setRoles(c,p,s.roles)},Jt=async(e,t,n)=>{if(t)return{currentUserCounters:void 0,viewedUserCounters:void 0};const r=Ft.getCurrentUser(),i=Ft.getViewedUser(),o=async t=>{if(Gt.hasNumbers(e,t.id))return Gt.getNumbers(e,t.id);const r=await Ft.fetchMenuCounters(t,n);return Gt.setNumbers(e,t.id,r),r},a=i.id===r.id,s=o(r),[u,l]=await Promise.all([s,a?s:i.id?o(i):{}]);return{currentUserCounters:u,viewedUserCounters:l}},zt=async(e,t)=>{const n=Ft.getCurrentUser(),r=Ft.getViewedUser();if(Gt.hasRoles(e,null==r?void 0:r.id))return Gt.getRoles(e,null==r?void 0:r.id);const i=await Ft.fetchRoles(r.id,n.id,t);return Gt.setRoles(e,null==r?void 0:r.id,i),i};function Wt(e,t,n){const{wixCodeApi:r,$w:i,essentials:{experiments:o}}=e,a=Ft.getViewedUser(),s=Ft.getCurrentUser(),u="Mobile"===r.window.formFactor,l=ot(),{permittedPagesMap:c,parsedRoutersConfigs:f,viewedUserRoles:p,parsedConfigItems:d,counters:{viewedUserCounters:h},publicRouterPrefix:v}=t;nt("renderMembersMenuItems",(()=>Et({$w:i,wixCodeApi:r,parsedRoutersConfigs:f,viewedUserRoles:p,viewedUser:a,currentUser:s,appsCounters:h,parsedConfigItems:d,memoryStorage:l,publicRouterPrefix:v,permittedPagesMap:c,experiments:o,isMobile:u,flowAPI:n})))()}function Ht(e,t,n){const{$w:r,essentials:{experiments:i},wixCodeApi:o}=e,a=Ft.getCurrentUser(),s="Mobile"===o.window.formFactor,u=ot(),{permittedPagesMap:l,parsedRoutersConfigs:c,counters:{currentUserCounters:f},publicRouterPrefix:p,currentUserRoles:d}=t;nt("renderLoginMenuItems",(()=>function(e){let{$w:t,parsedRoutersConfigs:n=[],currentUserRoles:r,currentUser:i,appsCounters:o,memoryStorage:a,publicRouterPrefix:s,permittedPagesMap:u={},experiments:l,isMobile:c,wixCodeApi:f,flowAPI:p}=e;const d=(null==p?void 0:p.environment.isPreview)?Rt(f):null==f?void 0:f.location.baseUrl;if(i.loggedIn){const e=t(Ke),f=t(qe);e.forEach((e=>Ct({menu:e,parsedRoutersConfigs:n,currentUserRoles:r,currentUser:i,appsCounters:o,memoryStorage:a,publicRouterPrefix:s,permittedPagesMap:u,experiments:l,isMobile:c,domainUrl:d}))),f.forEach((e=>Ct({menu:e,parsedRoutersConfigs:n,currentUserRoles:r,currentUser:i,appsCounters:o,memoryStorage:a,publicRouterPrefix:s,permittedPagesMap:u,experiments:l,isMobile:c,domainUrl:d}))),mt([...gt(),...e,...f])}}({$w:r,parsedRoutersConfigs:c,currentUserRoles:d,currentUser:a,appsCounters:f,memoryStorage:u,publicRouterPrefix:p,permittedPagesMap:l,experiments:i,isMobile:s,wixCodeApi:o,flowAPI:n})))()}function $t(e,t,n){Ht(e,t,n),Wt(e,t,n)}const Xt=e=>{Vt=e},Yt=(e,t)=>Ft.setCurrentUser(e,t),Qt=(e,t,n)=>{const r=((e,t)=>{const{prefix:n,path:r}=e.location,i=t.find((e=>{let{config:{type:t}}=e;return"public"===t}));if((null==i?void 0:i.prefix)===n){const[,...e]=r;return"/"+n+"/"+ke+"/"+e.join("/")}return"/"+n+"/"+r.join("/")})(t,n),i=e=>{if(e.onChange){var t,n;const i=null==(t=e.options)?void 0:t.find((e=>{let{link:t}=e;return t===r}));e.value=null!=(n=null==i?void 0:i.value)?n:e.value}};e(Ge).forEach(i),e(Je).forEach(i)},Zt=async e=>{let{controllerConfig:t,appData:n,flowAPI:r}=e;const{wixCodeApi:i,essentials:{httpClient:o},$w:a}=t,s=t,u=!!a(Ke).length,l=!!a(qe).length,c=!!a(Ge).length,f=!!a(Je).length;if(!(u||l||c||f))return{async pageReady(){await(null==n?void 0:n.initApplication())}};const p="Editor"===i.window.viewMode;return Xt(s),{async pageReady(){const e=await(null==n?void 0:n.initApplication());i.user.onLogin((t=>nt("onLogin",(()=>Yt(t,o).then((()=>$t(s,e,r)))))())),p?r.environment.isMobile&&Qt(a,i,e.parsedRouters):$t(s,e,r)}}};class en{constructor(e){this.controllerConfig=e}async hasSocialPages(e,t){const n=await this.getRoutes(e);if(!n.length)return Promise.resolve(!1);const r=n.some((e=>!e.private));return null==e||e(r),Promise.resolve(r)}getRoutes(e){var t;const{config:n}=this.controllerConfig,r=null!=(t=n.routes)?t:[];return null==e||e(r),Promise.resolve(r)}async navigateToSection(e,t){let{memberId:n="",tpaInnerRoute:r="",widgetId:i,appDefinitionId:o}=e;const{location:a}=this.controllerConfig.wixCodeApi;if(!i){const e=await this.getPageUrlByAppDefId(o,t);return null==a.to||a.to(e),Promise.resolve()}const s=await this.findRouteByWidgetId(i,t),u=await this.getMembersAreaSectionURL({suffix:s.path,memberId:n,tpaInnerRoute:r,onError:t});return null==a.to||a.to(u),Promise.resolve()}async navigateToMember(e,t){let{memberId:n,memberSlug:r}=e;if(!n)throw null==t||t(Ve.MissingMemberId),new Error(Ve.MissingMemberId);const i=await this.getNavigatableHomePage(t),{location:o}=this.controllerConfig.wixCodeApi;if(i){const e=await this.getMembersAreaSectionURL({suffix:i.suffix,memberId:r||n,onError:t});null==o.to||o.to(e)}return null==t||t(Ve.CannotNavigateToMemberNoPublicPage),Promise.resolve()}async getNavigatableRoles(e){const t=await this.getNavigatableHomePage(e);if(t){var n;return{navigatableMembersRoles:null!=(n=t.visibleForRoles)?n:[],isNavigationAllowed:!0}}return{navigatableMembersRoles:[],isNavigationAllowed:!1}}async getSectionUrl(e,t){let{widgetId:n,memberId:r="",tpaInnerRoute:i="",appDefinitionId:o}=e;if(!n)return this.getPageUrlByAppDefId(o,t);const a=await this.findRouteByWidgetId(n,t);return this.getMembersAreaSectionURL({suffix:a.path,memberId:r,tpaInnerRoute:i,onError:t})}async getMemberPagePrefix(e,t,n){return{prefix:await this.getMembersAreaPagePrefix(n)}}setNotificationCount(e){return gt().forEach((t=>{var n;null!=(n=t.navBarItems)&&n.length&&(t.navBarItems=[{...t.navBarItems[0],displayCount:e}])})),Promise.resolve()}async getPageUrlByAppDefId(e,t){const{pages:n}=await this.getSiteStructure(),r=n.find((t=>t.applicationId===e&&!t.prefix));if(null==r||!r.url)throw null==t||t(Ve.CannotFindPageToNavigateTo),new Error(Ve.CannotFindPageToNavigateTo);return r.url}async getNavigatableHomePage(e){const t=(await this.getRoutes()).filter((e=>!e.private));if(!t.length)return;const n=t.find((e=>e.home)),r=await this.getMembersAreaPagePrefix(e);if(n)return{prefix:r,suffix:n.path,visibleForRoles:n.vfr};{const e=t[0];return{prefix:r,suffix:e.path,visibleForRoles:e.vfr}}}getSiteStructure(){const{site:e}=this.controllerConfig.wixCodeApi;return e.getSiteStructure()}async getMembersAreaPagePrefix(e){const{prefixes:t}=await this.getSiteStructure(),n=t.find((e=>{let{applicationId:t}=e;return t===De}));if(!n)throw null==e||e(Ve.MissingMembersAreaPage),new Error(Ve.MissingMembersAreaPage);return n.prefix}async getMembersAreaSectionURL(e){let{suffix:t,memberId:n,tpaInnerRoute:r,onError:i}=e;const o=n?"/"+n+"/"+t:"/"+t,a=await this.getMembersAreaPagePrefix(i);let s=r;return"/"!==(null==r?void 0:r.charAt(0))&&(s="/"+r),""+a+o+s}async findRouteByWidgetId(e,t){const n=(await this.getRoutes()).find((t=>t.widgetId===e));if(!n){const n=Ve.RouteNotFound+" "+e;throw null==t||t(n),new Error(n)}return n}}let tn=null;const nn=e=>{tn=e},rn=()=>{if(!tn)throw new Error(Ve.ControllerConfigNotInitialized);return tn.wixCodeApi.site.getPublicAPI(De)},on=()=>{if(!tn)throw new Error(Ve.ControllerConfigNotInitialized);return new en(tn)},an=async e=>{let{controllerConfig:t,appData:n}=e;return nn(t),{async pageReady(){await(null==n?void 0:n.initApplication())}}};var sn=async e=>{const{config:t}=e.controllerConfig,n=(e=>e.isMembersAreaV2?an:Zt)(t);return n(e)};var un=async e=>{let{controllerConfig:t,appData:n,flowAPI:r}=e;const{wixCodeApi:i,essentials:{httpClient:o}}=t,a="Editor"===i.window.viewMode,s=t;return Xt(s),{async pageReady(){const e=await(null==n?void 0:n.initApplication());i.user.onLogin((t=>nt("onLogin",(()=>Yt(t,o).then((()=>Ht(s,e,r)))))())),a?r.environment.isMobile&&Qt($w,i,e.parsedRouters):Ht(s,e,r)}}};var ln=async e=>{let{controllerConfig:t,appData:n,flowAPI:r}=e;const{wixCodeApi:i,essentials:{httpClient:o}}=t,a="Editor"===i.window.viewMode,s=t;return Xt(s),{async pageReady(){const e=await(null==n?void 0:n.initApplication());i.user.onLogin((t=>nt("onLogin",(()=>Yt(t,o).then((()=>Wt(s,e,r)))))())),a?r.environment.isMobile&&Qt($w,i,e.parsedRouters):Wt(s,e,r)}}};const cn=(e,t,n)=>{let r=null;return{getAppData:()=>(r||(r=async function(e){var t;let{wixCodeApi:n,appParams:r,flowApi:i}=e;const{httpClient:o}=i,a=Ft.getCurrentUser(),s=Ft.getRoles(),u=Ft.getViewedUser(),l=a.loggedIn&&0===Object.keys(s).length,c=null==n.site.getAppToken?void 0:n.site.getAppToken(r.appDefinitionId),f="backend"===n.window.rendering.env,p=(r.appRouters||[]).map((e=>({...e,config:JSON.parse(e.config)}))),d=p.map((e=>e.config)),h=()=>Promise.all([Jt(c,f,o),l?zt(c,o):{},Kt.getPermittedPagesMap(Ut(p),n.window.viewMode)]);let v;i.environment.isSSR?(v=await h(),n.window.warmupData.set(Le,v)):v=n.window.warmupData.get(Le)||await h();const[g,m,b]=v;l&&Ft.setRoles(m);const _=ze(r),y=Ft.getRoles()[a.id]||[],w=Ft.getRoles()[u.id]||[],P=p.find((e=>"public"===e.config.type)),S=null!=(t=null==P?void 0:P.prefix)?t:"";return{counters:g,permittedPagesMap:b,parsedRouters:p,parsedRoutersConfigs:d,parsedConfigItems:_,currentUserRoles:y,viewedUserRoles:w,publicRouterPrefix:S}}({appParams:e,wixCodeApi:t,flowApi:n})),r)}},fn=()=>(null==tn?void 0:tn.config.isMembersAreaV2)?(async()=>({hasSocialPages:(e,t)=>nt("publicApi.hasSocialPages",(()=>on().hasSocialPages(e,t)))(),getViewedUser:(e,t)=>nt("publicApi.getViewedUser",(async()=>(await rn()).getViewedUser(e,t)))(),navigateToSection:(e,t)=>nt("publicApi.navigateToSection",(()=>on().navigateToSection(e,t)))(),navigateToMember:(e,t)=>nt("publicApi.navigateToMember",(()=>on().navigateToMember(e,t)))(),getNavigatableRoles:e=>nt("publicApi.getNavigatableRoles",(()=>on().getNavigatableRoles(e)))(),getSectionUrl:(e,t)=>nt("publicApi.getSectionUrl",(()=>on().getSectionUrl(e,t)))(),getMemberPagePrefix:(e,t,n)=>nt("publicApi.getMemberPagePrefix ",(()=>on().getMemberPagePrefix(e,t,n)))(),setNotificationCount:e=>nt("publicApi.setNotificationCount",(()=>on().setNotificationCount(e)))(),enterPublicProfilePreviewMode:()=>nt("publicApi.enterPublicProfilePreviewMode",(async()=>(await rn()).enterPublicProfilePreviewMode()))(),leavePublicProfilePreviewMode:()=>nt("publicApi.leavePublicProfilePreviewMode",(async()=>(await rn()).leavePublicProfilePreviewMode()))(),clearMenus:()=>nt("publicApi.clearMenus",(async()=>(await rn()).clearMenus()))(),getRoutes:e=>nt("publicApi.getRoutes",(()=>on().getRoutes(e)))()}))():{hasSocialPages:(e,t)=>nt("publicApi.hasSocialPages",(()=>Bt.hasSocialPages(e,t)))(),getViewedUser:(e,t)=>nt("publicApi.getViewedUser",(()=>Bt.getViewedUser(e,t)))(),navigateToSection:(e,t)=>nt("publicApi.navigateToSection",(()=>Bt.navigateToSection(e,t)))(),navigateToMember:(e,t)=>nt("publicApi.navigateToMember",(()=>Bt.navigateToMember(e,t)))(),getNavigatableRoles:e=>nt("publicApi.getNavigatableRoles",(()=>Bt.getNavigatableRoles(e)))(),getSectionUrl:(e,t)=>nt("publicApi.getSectionUrl",(()=>Bt.getSectionUrl(e,t)))(),getMemberPagePrefix:(e,t,n)=>nt("publicApi.getMemberPagePrefix ",(()=>Bt.getMemberPagePrefix(e,t,n)))(),setNotificationCount:e=>nt("publicApi.setNotificationCount",(()=>Bt.setNotificationCount(e)))(),enterPublicProfilePreviewMode:()=>nt("publicApi.enterPublicProfilePreviewMode",(()=>Bt.enterPublicProfilePreviewMode({userService:Ft,config:Vt})))(),leavePublicProfilePreviewMode:()=>nt("publicApi.leavePublicProfilePreviewMode",(()=>Bt.leavePublicProfilePreviewMode({userService:Ft,config:Vt})))(),clearMenus:()=>nt("publicApi.clearMenus",(()=>Bt.clearMenus({config:Vt})))(),getRoutes:()=>{throw new Error("getRoutes is only supported in members area v2")}},pn=async(e,t,n,r,i)=>{((e,t)=>{const n=Math.random();tt=.1>=n,Ze=t.monitoring.createMonitor("https://fe0974951f45411fbe57fbbd7c30bbf2@sentry.wixpress.com/28"),Ze&&Ze.setUserContext({msid:t.bi.metaSiteId}),et=t.fedOpsLoggerFactory.getLoggerForWidget({appName:"santa-members-viewer-app",appId:e.appDefinitionId})})(e,r);const{httpClient:o}=i,a=cn(e,n,i),s=nt("initAppForPage",(()=>qt(e,t,n,o,i,r)))();return{initApplication:async()=>(await s,a.getAppData())}},dn=()=>fn();var hn={disabled:{on:"disable",off:"enable"},hidden:{on:"hide",off:"show"},collapsed:{on:"collapse",off:"expand"},deleted:{on:"delete",off:"restore"}},vn=_,gn=function(e,t,n){return void 0===n&&(n=[]),function(r,i){if(!i)throw new Error("No selector found "+r);var o=n.length>0?(0,vn.get)(e(r),n):e(r),a=[],s="data"in i;s&&function(e,t,n){if(void 0!==t){var r={};e.onItemReady(n.action((function(e,i,o){var a=gn(e,n),s=t(i,a,o);if(s){var u=mn(e,n)(s);r[i._id]=u}}))),e.onItemRemoved(n.action((function(e){r[e._id]()})))}}(o,i.item,t);var u=function(e){return"currentState"in e}(i);if(u&&i.currentState){var l=t.reaction(i.currentState,(function(e){o.changeState(e)}),{fireImmediately:!0});a.push(l)}for(var c=function(i,l){if(void 0===l)return"continue";if(s&&"item"===i)return"continue";if(u&&"currentState"===i)return"continue";if(i.startsWith("on"))return o[i](t.action(l)),"continue";var c=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(n,[i]);if(function(e){return"object"==typeof e}(l)){var f=gn(e,t,c)(r,l);return a.push(f),"continue"}if(i){var p=t.reaction(l,(function(t){if(a=o,(s=i)in hn&&hn[s].on in a&&hn[s].off in a){var n=function(e){return hn[e]}(i)[t?"on":"off"];o[n]&&o[n]()}else(0,vn.set)(e(r),c,t);var a,s}),{fireImmediately:!0});a.push(p)}},f=0,p=Object.entries(i);f<p.length;f++){var d=p[f];c(d[0],d[1])}return function(){return a.forEach((function(e){return e()}))}}},mn=function(e,t){return function(n){for(var r=gn(e,t),i=[],o=0,a=Object.entries(n);o<a.length;o++){var s=a[o],u=s[0],l=s[1];if(l){var c=r(u,l);i.push(c)}}return function(){return i.forEach((function(e){return e()}))}}},bn=function(e){return function(t){if(!t)throw new Error("Trying to initialize state without $w.");return{$bindAll:mn(t,e),$bind:gn(t,e)}}},_n=function(e,t){var n,r;return null!==(r=null===(n=t.observable)||void 0===n?void 0:n.call(t,e))&&void 0!==r?r:e},yn=function(e){return function(t){if(!t)throw new Error("Trying to initialize state without default state.");return{state:_n(t,e)}}};function wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Pn={};function Sn(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:Pn}var On=Object.assign,xn=Object.getOwnPropertyDescriptor,Cn=Object.defineProperty,An=Object.prototype,In=[];Object.freeze(In);var Rn={};Object.freeze(Rn);var En="undefined"!=typeof Proxy,Mn=Object.toString();function Nn(){En||wn("Proxy not available")}function Dn(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Un=function(){};function kn(e){return"function"==typeof e}function jn(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function Tn(e){return null!==e&&"object"==typeof e}function Ln(e){if(!Tn(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===Mn}function Vn(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function Bn(e,t,n){Cn(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Fn(e,t,n){Cn(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Kn(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Tn(e)&&!0===e[n]}}function Gn(e){return e instanceof Map}function qn(e){return e instanceof Set}var Jn=void 0!==Object.getOwnPropertySymbols;var zn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Jn?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Wn(e){return null===e?null:"object"==typeof e?""+e:e}function Hn(e,t){return An.hasOwnProperty.call(e,t)}var $n=Object.getOwnPropertyDescriptors||function(e){var t={};return zn(e).forEach((function(n){t[n]=xn(e,n)})),t};function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}function Yn(e,t,n){return t&&Xn(e.prototype,t),n&&Xn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}function Zn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,er(e,t)}function er(e,t){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},er(e,t)}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ir=Symbol("mobx-stored-annotations");function or(e){return Object.assign((function(t,n){ar(t,n,e)}),e)}function ar(e,t,n){Hn(e,ir)||Bn(e,ir,Qn({},e[ir])),function(e){return e.annotationType_===hr}(n)||(e[ir][t]=n)}var sr=Symbol("mobx administration"),ur=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ui.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Di(this)},t.reportChanged=function(){Mi(),Ui(this),Ai.stateVersion=Ai.stateVersion<Number.MAX_SAFE_INTEGER?Ai.stateVersion+1:Number.MIN_SAFE_INTEGER,Ni()},t.toString=function(){return this.name_},e}(),lr=Kn("Atom",ur);function cr(e,t,n){void 0===t&&(t=Un),void 0===n&&(n=Un);var r,i=new ur(e);return t!==Un&&io(to,i,t,r),n!==Un&&ro(i,n),i}var fr={identity:function(e,t){return e===t},structural:function(e,t){return Pa(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return Pa(e,t,1)}};function pr(e,t,n){return _o(e)?e:Array.isArray(e)?Jr.array(e,{name:n}):Ln(e)?Jr.object(e,void 0,{name:n}):Gn(e)?Jr.map(e,{name:n}):qn(e)?Jr.set(e,{name:n}):"function"!=typeof e||Yi(e)||mo(e)?e:Vn(e)?vo(e):Xi(n,e)}function dr(e){return e}var hr="override";function vr(e,t){return{annotationType_:e,options_:t,make_:gr,extend_:mr}}function gr(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Yi(n.value))return 1;var o=br(e,this,t,n,!1);return Cn(r,t,o),2}function mr(e,t,n,r){var i=br(e,this,t,n);return e.defineProperty_(t,i,r)}function br(e,t,n,r,i){var o,a,s,u,l,c,f,p;void 0===i&&(i=Ai.safeDescriptors),p=r,t.annotationType_,p.value;var d,h=r.value;null!=(o=t.options_)&&o.bound&&(h=h.bind(null!=(d=e.proxy_)?d:e.target_));return{value:ti(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),h,null!=(u=null==(l=t.options_)?void 0:l.autoAction)&&u,null!=(c=t.options_)&&c.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function _r(e,t){return{annotationType_:e,options_:t,make_:yr,extend_:wr}}function yr(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!Hn(e.target_,t)||!mo(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(mo(n.value))return 1;var o=Pr(e,this,t,n,!1,!1);return Cn(r,t,o),2}function wr(e,t,n,r){var i,o=Pr(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function Pr(e,t,n,r,i,o){var a;void 0===o&&(o=Ai.safeDescriptors),a=r,t.annotationType_,a.value;var s,u=r.value;(mo(u)||(u=vo(u)),i)&&((u=u.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0);return{value:u,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function Sr(e,t){return{annotationType_:e,options_:t,make_:Or,extend_:xr}}function Or(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function xr(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,Qn({},this.options_,{get:n.get,set:n.set}),r)}function Cr(e,t){return{annotationType_:e,options_:t,make_:Ar,extend_:Ir}}function Ar(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Ir(e,t,n,r){var i,o;return function(e,t,n,r){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:pr,r)}var Rr="true",Er=Mr();function Mr(e){return{annotationType_:Rr,options_:e,make_:Nr,extend_:Dr}}function Nr(e,t,n,r){var i,o,a,s;if(n.get)return $r.make_(e,t,n,r);if(n.set){var u=ti(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Ai.safeDescriptors||e.isPlainObject_,set:u})?0:2:(Cn(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return Vn(n.value)?(null!=(s=this.options_)&&s.autoBind?vo.bound:vo).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?Xi.bound:Xi).make_(e,t,n,r);var l,c=!1===(null==(i=this.options_)?void 0:i.deep)?Jr.ref:Jr;"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_));return c.make_(e,t,n,r)}function Dr(e,t,n,r){var i,o,a;if(n.get)return $r.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Ai.safeDescriptors||e.isPlainObject_,set:ti(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Jr.ref:Jr).extend_(e,t,n,r)}var Ur={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function kr(e){return e||Ur}Object.freeze(Ur);var jr=Cr("observable"),Tr=Cr("observable.ref",{enhancer:dr}),Lr=Cr("observable.shallow",{enhancer:function(e,t,n){return null==e||oa(e)||Ko(e)||$o(e)||Qo(e)?e:Array.isArray(e)?Jr.array(e,{name:n,deep:!1}):Ln(e)?Jr.object(e,void 0,{name:n,deep:!1}):Gn(e)?Jr.map(e,{name:n,deep:!1}):qn(e)?Jr.set(e,{name:n,deep:!1}):void 0}}),Vr=Cr("observable.struct",{enhancer:function(e,t){return Pa(e,t)?t:e}}),Br=or(jr);function Fr(e){return!0===e.deep?pr:!1===e.deep?dr:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:pr;var t,n,r}function Kr(e,t,n){if(!jn(t))return _o(e)?e:Ln(e)?Jr.object(e,t,n):Array.isArray(e)?Jr.array(e,t):Gn(e)?Jr.map(e,t):qn(e)?Jr.set(e,t):"object"==typeof e&&null!==e?e:Jr.box(e,t);ar(e,t,jr)}On(Kr,Br);var Gr,qr,Jr=On(Kr,{box:function(e,t){var n=kr(t);return new si(e,Fr(n),n.name,!0,n.equals)},array:function(e,t){var n=kr(t);return(!1===Ai.useProxies||!1===n.proxy?ma:Do)(e,Fr(n),n.name)},map:function(e,t){var n=kr(t);return new Ho(e,Fr(n),n.name)},set:function(e,t){var n=kr(t);return new Yo(e,Fr(n),n.name)},object:function(e,t,n){return lo(!1===Ai.useProxies||!1===(null==n?void 0:n.proxy)?na({},n):function(e,t){var n,r;return Nn(),e=na(e,t),null!=(r=(n=e[sr]).proxy_)?r:n.proxy_=new Proxy(e,Po)}({},n),e,t)},ref:or(Tr),shallow:or(Lr),deep:Br,struct:or(Vr)}),zr="computed",Wr=Sr(zr),Hr=Sr("computed.struct",{equals:fr.structural}),$r=function(e,t){if(jn(t))return ar(e,t,Wr);if(Ln(e))return or(Sr(zr,e));var n=Ln(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new ci(n)};Object.assign($r,Wr),$r.struct=or(Hr);var Xr,Yr=0,Qr=1,Zr=null!=(Gr=null==(qr=xn((function(){}),"name"))?void 0:qr.configurable)&&Gr,ei={value:"action",configurable:!0,writable:!1,enumerable:!1};function ti(e,t,n,r){function i(){return ni(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,Zr&&(ei.value=e,Cn(i,"name",ei)),i}function ni(e,t,n,r,i){var o=function(e,t,n,r){var i=!1,o=0;0;var a=Ai.trackingDerivation,s=!t||!a;Mi();var u=Ai.allowStateChanges;s&&(_i(),u=ii(!0));var l=wi(!0),c={runAsAction_:s,prevDerivation_:a,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:o,actionId_:Qr++,parentActionId_:Yr};return Yr=c.actionId_,c}(0,t);try{return n.apply(r,i)}catch(e){throw o.error_=e,e}finally{!function(e){Yr!==e.actionId_&&wn(30);Yr=e.parentActionId_,void 0!==e.error_&&(Ai.suppressReactionErrors=!0);oi(e.prevAllowStateChanges_),Pi(e.prevAllowStateReads_),Ni(),e.runAsAction_&&yi(e.prevDerivation_);0;Ai.suppressReactionErrors=!1}(o)}}function ri(e,t){var n=ii(e);try{return t()}finally{oi(n)}}function ii(e){var t=Ai.allowStateChanges;return Ai.allowStateChanges=e,t}function oi(e){Ai.allowStateChanges=e}Xr=Symbol.toPrimitive;var ai,si=function(e){function t(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=fr.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}Zn(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==Ai.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(vi(this),So(this)){var t=xo(this,{object:this,type:Eo,newValue:e});if(!t)return Ai.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Ai.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Co(this)&&Io(this,{type:Eo,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return Oo(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Eo,newValue:this.value_,oldValue:void 0}),Ao(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Wn(this.get())},n[Xr]=function(){return this.valueOf()},t}(ur);ai=Symbol.toPrimitive;var ui,li,ci=function(){function e(e){this.dependenciesState_=ui.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ui.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new pi(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=li.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||wn(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=ti("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?fr.structural:fr.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==ui.UP_TO_DATE_)return;e.lowestObserverState_=ui.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===ui.UP_TO_DATE_&&(e.dependenciesState_=ui.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&wn(32,this.name_,this.derivation),0!==Ai.inBatch||0!==this.observers_.size||this.keepAlive_){if(Di(this),hi(this)){var e=Ai.trackingContext;this.keepAlive_&&!e&&(Ai.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===ui.STALE_)return;e.lowestObserverState_=ui.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===ui.POSSIBLY_STALE_?t.dependenciesState_=ui.STALE_:t.dependenciesState_===ui.UP_TO_DATE_&&(e.lowestObserverState_=ui.UP_TO_DATE_)}))}(this),Ai.trackingContext=e}}else hi(this)&&(this.warnAboutUntrackedRead_(),Mi(),this.value_=this.computeValue_(!1),Ni());var t=this.value_;if(di(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&wn(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else wn(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===ui.NOT_TRACKING_,n=this.computeValue_(!0),r=t||di(e)||di(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=ii(!1);if(e)t=gi(this,this.derivation,this.scope_);else if(!0===Ai.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new pi(e)}return oi(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(mi(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return Qi((function(){var o=n.get();if(!r||t){var a=_i();e({observableKind:"computed",debugObjectName:n.name_,type:Eo,object:n,newValue:o,oldValue:i}),yi(a)}r=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Wn(this.get())},t[ai]=function(){return this.valueOf()},e}(),fi=Kn("ComputedValue",ci);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(ui||(ui={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(li||(li={}));var pi=function(e){this.cause=void 0,this.cause=e};function di(e){return e instanceof pi}function hi(e){switch(e.dependenciesState_){case ui.UP_TO_DATE_:return!1;case ui.NOT_TRACKING_:case ui.STALE_:return!0;case ui.POSSIBLY_STALE_:for(var t=wi(!0),n=_i(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(fi(a)){if(Ai.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return yi(n),Pi(t),!0}if(e.dependenciesState_===ui.STALE_)return yi(n),Pi(t),!0}}return Si(e),yi(n),Pi(t),!1}}function vi(e){}function gi(e,t,n){var r=wi(!0);Si(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Ai.runId;var i,o=Ai.trackingDerivation;if(Ai.trackingDerivation=e,Ai.inBatch++,!0===Ai.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new pi(e)}return Ai.inBatch--,Ai.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=ui.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var u=t[o];0===u.diffValue_&&Ri(u,e),u.diffValue_=0}for(;i--;){var l=n[i];1===l.diffValue_&&(l.diffValue_=0,Ii(l,e))}r!==ui.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),Pi(r),i}function mi(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Ri(t[n],e);e.dependenciesState_=ui.NOT_TRACKING_}function bi(e){var t=_i();try{return e()}finally{yi(t)}}function _i(){var e=Ai.trackingDerivation;return Ai.trackingDerivation=null,e}function yi(e){Ai.trackingDerivation=e}function wi(e){var t=Ai.allowStateReads;return Ai.allowStateReads=e,t}function Pi(e){Ai.allowStateReads=e}function Si(e){if(e.dependenciesState_!==ui.UP_TO_DATE_){e.dependenciesState_=ui.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=ui.UP_TO_DATE_}}var Oi=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},xi=!0,Ci=!1,Ai=function(){var e=Sn();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(xi=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Oi).version&&(xi=!1),xi?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Oi):(setTimeout((function(){Ci||wn(35)}),1),new Oi)}();function Ii(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Ri(e,t){e.observers_.delete(t),0===e.observers_.size&&Ei(e)}function Ei(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Ai.pendingUnobservations.push(e))}function Mi(){Ai.inBatch++}function Ni(){if(0==--Ai.inBatch){Li();for(var e=Ai.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof ci&&n.suspend_())}Ai.pendingUnobservations=[]}}function Di(e){var t=Ai.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Ai.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&Ai.inBatch>0&&Ei(e),!1)}function Ui(e){e.lowestObserverState_!==ui.STALE_&&(e.lowestObserverState_=ui.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===ui.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=ui.STALE_})))}var ki=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ui.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=li.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Ai.pendingReactions.push(this),Li())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Mi(),this.isScheduled_=!1;var e=Ai.trackingContext;if(Ai.trackingContext=this,hi(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Ai.trackingContext=e,Ni()}},t.track=function(e){if(!this.isDisposed_){Mi();0,this.isRunning_=!0;var t=Ai.trackingContext;Ai.trackingContext=this;var n=gi(this,e,void 0);Ai.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&mi(this),di(n)&&this.reportExceptionInDerivation_(n.cause),Ni()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Ai.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";Ai.suppressReactionErrors||console.error(n,e),Ai.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Mi(),mi(this),Ni()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[sr]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){wn("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var i=function(e){switch(e.length){case 0:return Ai.trackingDerivation;case 1:return ba(e[0]);case 2:return ba(e[0],e[1])}}(n);if(!i)return wn("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===li.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled");i.isTracing_=e?li.BREAK:li.LOG}(this,e)},e}();var ji=100,Ti=function(e){return e()};function Li(){Ai.inBatch>0||Ai.isRunningReactions||Ti(Vi)}function Vi(){Ai.isRunningReactions=!0;for(var e=Ai.pendingReactions,t=0;e.length>0;){++t===ji&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Ai.isRunningReactions=!1}var Bi=Kn("Reaction",ki);var Fi="action",Ki="autoAction",Gi="<unnamed action>",qi=vr(Fi),Ji=vr("action.bound",{bound:!0}),zi=vr(Ki,{autoAction:!0}),Wi=vr("autoAction.bound",{autoAction:!0,bound:!0});function Hi(e){return function(t,n){return kn(t)?ti(t.name||Gi,t,e):kn(n)?ti(t,n,e):jn(n)?ar(t,n,e?zi:qi):jn(t)?or(vr(e?Ki:Fi,{name:t,autoAction:e})):void 0}}var $i=Hi(!1);Object.assign($i,qi);var Xi=Hi(!0);function Yi(e){return kn(e)&&!0===e.isMobxAction}function Qi(e,t){var n,r;void 0===t&&(t=Rn);var i,o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)i=new ki(o,(function(){this.track(u)}),t.onError,t.requiresObservable);else{var a=eo(t),s=!1;i=new ki(o,(function(){s||(s=!0,a((function(){s=!1,i.isDisposed_||i.track(u)})))}),t.onError,t.requiresObservable)}function u(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Xi,zi),$i.bound=or(Ji),Xi.bound=or(Wi);var Zi=function(e){return e()};function eo(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Zi}var to="onBO",no="onBUO";function ro(e,t,n){return io(no,e,t,n)}function io(e,t,n,r){var i="function"==typeof r?ba(t,n):ba(t),o=kn(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var oo="never",ao="always",so="observed";function uo(e){!0===e.isolateGlobalState&&function(){if((Ai.pendingReactions.length||Ai.inBatch||Ai.isRunningReactions)&&wn(36),Ci=!0,xi){var e=Sn();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Ai=new Oi}}();var t,n,r=e.useProxies,i=e.enforceActions;if(void 0!==r&&(Ai.useProxies=r===ao||r!==oo&&"undefined"!=typeof Proxy),"ifavailable"===r&&(Ai.verifyProxies=!0),void 0!==i){var o=i===ao?ao:i===so;Ai.enforceActions=o,Ai.allowStateChanges=!0!==o&&o!==ao}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Ai[t]=!!e[t])})),Ai.allowStateReads=!Ai.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=Ti,Ti=function(e){return t((function(){return n(e)}))})}function lo(e,t,n,r){var i=$n(t),o=na(e,r)[sr];Mi();try{zn(i).forEach((function(e){o.extend_(e,i[e],!n||(!(e in n)||n[e]))}))}finally{Ni()}return e}var co=0;function fo(){this.message="FLOW_CANCELLED"}fo.prototype=Object.create(Error.prototype);var po=_r("flow"),ho=_r("flow.bound",{bound:!0}),vo=Object.assign((function(e,t){if(jn(t))return ar(e,t,po);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++co,o=$i(r+" - runid: "+i+" - init",n).apply(this,t),a=void 0,s=new Promise((function(t,n){var s=0;function u(e){var t;a=void 0;try{t=$i(r+" - runid: "+i+" - yield "+s++,o.next).call(o,e)}catch(e){return n(e)}c(t)}function l(e){var t;a=void 0;try{t=$i(r+" - runid: "+i+" - yield "+s++,o.throw).call(o,e)}catch(e){return n(e)}c(t)}function c(e){if(!kn(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(u,l);e.then(c,n)}e=n,u(void 0)}));return s.cancel=$i(r+" - runid: "+i+" - cancel",(function(){try{a&&go(a);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(Un,Un),go(n),e(new fo)}catch(t){e(t)}})),s};return i.isMobXFlow=!0,i}),po);function go(e){kn(e.cancel)&&e.cancel()}function mo(e){return!0===(null==e?void 0:e.isMobXFlow)}function bo(e,t){return!!e&&(void 0!==t?!!oa(e)&&e[sr].values_.has(t):oa(e)||!!e[sr]||lr(e)||Bi(e)||fi(e))}function _o(e){return bo(e)}function yo(e,t){void 0===t&&(t=void 0),Mi();try{return e.apply(t)}finally{Ni()}}function wo(e){return e[sr]}vo.bound=or(ho);var Po={has:function(e,t){return wo(e).has_(t)},get:function(e,t){return wo(e).get_(t)},set:function(e,t,n){var r;return!!jn(t)&&(null==(r=wo(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!jn(t)&&(null==(n=wo(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=wo(e).defineProperty_(t,n))||r},ownKeys:function(e){return wo(e).ownKeys_()},preventExtensions:function(e){wn(13)}};function So(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Oo(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Dn((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function xo(e,t){var n=_i();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&wn(14),t);i++);return t}finally{yi(n)}}function Co(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Ao(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Dn((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Io(e,t){var n=_i(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);yi(n)}}var Ro="splice",Eo="update",Mo={get:function(e,t){var n=e[sr];return t===sr?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?Hn(Uo,t)?Uo[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[sr];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){wn(15)}},No=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new ur(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Oo(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ao(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&wn("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&wn(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&ga(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=In),So(this)){var o=xo(this,{object:this.proxy_,type:Ro,index:e,removedCount:t,added:n});if(!o)return In;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=Co(this),o=i||r?{observableKind:"array",object:this.proxy_,type:Eo,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Io(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=Co(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Ro,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Io(this,o)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&wn(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(So(this)){var i=xo(this,{type:Eo,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var o=new Array(e+1-n.length),a=0;a<o.length-1;a++)o[a]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e}();function Do(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Nn();var i=new No(n,t,r,!1);Fn(i.values_,sr,i);var o=new Proxy(i.values_,Mo);if(i.proxy_=o,e&&e.length){var a=ii(!0);i.spliceWithArray_(0,0,e),oi(a)}return o}var Uo={clear:function(){return this.splice(0)},replace:function(e){var t=this[sr];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[sr];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[sr].spliceWithArray_(e,t,n)},push:function(){for(var e=this[sr],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[sr].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[sr],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Ai.trackingDerivation&&wn(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ai.trackingDerivation&&wn(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[sr],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function ko(e,t){"function"==typeof Array.prototype[e]&&(Uo[e]=t(e))}function jo(e){return function(){var t=this[sr];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function To(e){return function(t,n){var r=this,i=this[sr];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Lo(e){return function(){var t=this,n=this[sr];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}ko("concat",jo),ko("flat",jo),ko("includes",jo),ko("indexOf",jo),ko("join",jo),ko("lastIndexOf",jo),ko("slice",jo),ko("toString",jo),ko("toLocaleString",jo),ko("every",To),ko("filter",To),ko("find",To),ko("findIndex",To),ko("flatMap",To),ko("forEach",To),ko("map",To),ko("some",To),ko("reduce",Lo),ko("reduceRight",Lo);var Vo,Bo,Fo=Kn("ObservableArrayAdministration",No);function Ko(e){return Tn(e)&&Fo(e[sr])}var Go={},qo="add",Jo="delete";Vo=Symbol.iterator,Bo=Symbol.toStringTag;var zo,Wo,Ho=function(){function e(e,t,n){var r=this;void 0===t&&(t=pr),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[sr]=Go,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,kn(Map)||wn(18),this.keysAtom_=cr("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,ri(!0,(function(){r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!Ai.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new si(this.has_(e),dr,"ObservableMap.key?",!1);this.hasMap_.set(e,r),ro(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(So(this)){var r=xo(this,{type:n?Eo:qo,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,So(this))&&!xo(this,{type:Jo,object:this,name:e}))return!1;if(this.has_(e)){var n=Co(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Jo,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return yo((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Io(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==Ai.UNCHANGED){var r=Co(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Eo,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&Io(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,yo((function(){var r,i=new si(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=Co(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:qo,object:this,name:e,newValue:t}:null;r&&Io(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return xa({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return xa({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Vo]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=rr(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return $o(e)&&(e=new Map(e)),yo((function(){Ln(e)?function(e){var t=Object.keys(e);if(!Jn)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return An.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):Gn(e)?(e.constructor!==Map&&wn(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&wn(20,e)})),this},t.clear=function(){var e=this;yo((function(){bi((function(){for(var t,n=rr(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return yo((function(){for(var n,r=function(e){if(Gn(e)||$o(e))return e;if(Array.isArray(e))return new Map(e);if(Ln(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return wn(21,e)}(e),i=new Map,o=!1,a=rr(t.data_.keys());!(n=a()).done;){var s=n.value;if(!r.has(s))if(t.delete(s))o=!0;else{var u=t.data_.get(s);i.set(s,u)}}for(var l,c=rr(r.entries());!(l=c()).done;){var f=l.value,p=f[0],d=f[1],h=t.data_.has(p);if(t.set(p,d),t.data_.has(p)){var v=t.data_.get(p);i.set(p,v),h||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var g=t.data_.keys(),m=i.keys(),b=g.next(),_=m.next();!b.done;){if(b.value!==_.value){t.keysAtom_.reportChanged();break}b=g.next(),_=m.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return Ao(this,e)},t.intercept_=function(e){return Oo(this,e)},Yn(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Bo,get:function(){return"Map"}}]),e}(),$o=Kn("ObservableMap",Ho);var Xo={};zo=Symbol.iterator,Wo=Symbol.toStringTag;var Yo=function(){function e(e,t,n){void 0===t&&(t=pr),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[sr]=Xo,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,kn(Set)||wn(22),this.atom_=cr(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;yo((function(){bi((function(){for(var t,n=rr(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=rr(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,So(this))&&!xo(this,{type:qo,object:this,newValue:e}))return this;if(!this.has(e)){yo((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=Co(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:qo,object:this,newValue:e}:null;n,r&&Io(this,i)}return this},t.delete=function(e){var t=this;if(So(this)&&!xo(this,{type:Jo,object:this,oldValue:e}))return!1;if(this.has(e)){var n=Co(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Jo,object:this,oldValue:e}:null;return yo((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Io(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return xa({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return xa({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Qo(e)&&(e=new Set(e)),yo((function(){Array.isArray(e)||qn(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&wn("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return Ao(this,e)},t.intercept_=function(e){return Oo(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[zo]=function(){return this.values()},Yn(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Wo,get:function(){return"Set"}}]),e}(),Qo=Kn("ObservableSet",Yo),Zo=Object.create(null),ea="remove",ta=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=Er),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new ur("ObservableObject.keys"),this.isPlainObject_=Ln(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof ci)return n.set(t),!0;if(So(this)){var r=xo(this,{type:Eo,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==Ai.UNCHANGED){var i=Co(this),o=i?{type:Eo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&Io(this,o)}return!0},t.get_=function(e){return Ai.trackingDerivation&&!Hn(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),Hn(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!Ai.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new si(e in this.target_,dr,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(sa(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[ir])&&n[e])return;wn(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==An;){var i=xn(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}aa(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);sa(this,n,e);var i=n.extend_(this,e,t,r);return i&&aa(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{Mi();var r=this.delete_(e);if(!r)return r;if(So(this)){var i=xo(this,{object:this.proxy_||this.target_,name:e,type:qo,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=Qn({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else Cn(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Ni()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{Mi();var i=this.delete_(e);if(!i)return i;if(So(this)){var o=xo(this,{object:this.proxy_||this.target_,name:e,type:qo,newValue:t});if(!o)return null;t=o.newValue}var a=ia(e),s={configurable:!Ai.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else Cn(this.target_,e,s);var u=new si(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{Ni()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{Mi();var r=this.delete_(e);if(!r)return r;if(So(this))if(!xo(this,{object:this.proxy_||this.target_,name:e,type:qo,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=ia(e),o={configurable:!Ai.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else Cn(this.target_,e,o);this.values_.set(e,new ci(t)),this.notifyPropertyAddition_(e,void 0)}finally{Ni()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!Hn(this.target_,e))return!0;if(So(this)&&!xo(this,{object:this.proxy_||this.target_,name:e,type:ea}))return null;try{var n,r;Mi();var i,o=Co(this),a=this.values_.get(e),s=void 0;if(!a&&o)s=null==(i=xn(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof si&&(s=a.value_),Ui(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var u={type:ea,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};0,o&&Io(this,u)}}finally{Ni()}return!0},t.observe_=function(e,t){return Ao(this,e)},t.intercept_=function(e){return Oo(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=Co(this);if(i){var o=i?{type:qo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&Io(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),zn(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function na(e,t){var n;if(Hn(e,sr))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new ta(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Mr(e):void 0}(t));return Bn(e,sr,i),e}var ra=Kn("ObservableObjectAdministration",ta);function ia(e){return Zo[e]||(Zo[e]={get:function(){return this[sr].getObservablePropValue_(e)},set:function(t){return this[sr].setObservablePropValue_(e,t)}})}function oa(e){return!!Tn(e)&&ra(e[sr])}function aa(e,t,n){var r;null==(r=e.target_[ir])||delete r[n]}function sa(e,t,n){}var ua,la,ca=ha(0),fa=0,pa=function(){};ua=pa,la=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(ua.prototype,la):void 0!==ua.prototype.__proto__?ua.prototype.__proto__=la:ua.prototype=la;var da=function(e,t,n){function r(t,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var a=new No(r,n,i,!0);if(a.proxy_=tr(o),Fn(tr(o),sr,a),t&&t.length){var s=ii(!0);o.spliceWithArray(0,0,t),oi(s)}return Object.defineProperty(tr(o),"0",ca),o}Zn(r,e);var i=r.prototype;return i.concat=function(){this[sr].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Ko(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return xa({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Yn(r,[{key:"length",get:function(){return this[sr].getArrayLength_()},set:function(e){this[sr].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(pa,Symbol.toStringTag,Symbol.iterator);function ha(e){return{enumerable:!1,configurable:!0,get:function(){return this[sr].get_(e)},set:function(t){this[sr].set_(e,t)}}}function va(e){Cn(da.prototype,""+e,ha(e))}function ga(e){if(e>fa){for(var t=fa;t<e+100;t++)va(t);fa=e}}function ma(e,t,n){return new da(e,t,n)}function ba(e,t){if("object"==typeof e&&null!==e){if(Ko(e))return void 0!==t&&wn(23),e[sr].atom_;if(Qo(e))return e.atom_;if($o(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||wn(25,t,ya(e)),n}if(oa(e)){if(!t)return wn(26);var r=e[sr].values_.get(t);return r||wn(27,t,ya(e)),r}if(lr(e)||fi(e)||Bi(e))return e}else if(kn(e)&&Bi(e[sr]))return e[sr];wn(28)}function _a(e,t){return e||wn(29),void 0!==t?_a(ba(e,t)):lr(e)||fi(e)||Bi(e)||$o(e)||Qo(e)?e:e[sr]?e[sr]:void wn(24,e)}function ya(e,t){var n;if(void 0!==t)n=ba(e,t);else{if(Yi(e))return e.name;n=oa(e)||$o(e)||Qo(e)?_a(e):ba(e)}return n.name_}Object.entries(Uo).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&Bn(da.prototype,t,n)})),ga(1e3);var wa=An.toString;function Pa(e,t,n){return void 0===n&&(n=-1),Sa(e,t,n)}function Sa(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=wa.call(e);if(a!==wa.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Oa(e),t=Oa(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!(kn(u)&&u instanceof u&&kn(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!Sa(e[c],t[c],n-1,r,i))return!1}else{var f,p=Object.keys(e);if(c=p.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!Hn(t,f=p[c])||!Sa(e[f],t[f],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function Oa(e){return Ko(e)?e.slice():Gn(e)||$o(e)||qn(e)||Qo(e)?Array.from(e.entries()):e}function xa(e){return e[Symbol.iterator]=Ca,e}function Ca(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===Sn()[e]&&wn("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:ya},$mobx:sr});var Aa,Ia,Ra=(Ia={configure:function(){uo({isolateGlobalState:!0})},observable:Jr,action:$i,reaction:function(e,t,n){var r;void 0===n&&(n=Rn);var i,o,a,s,u=null!=(r=n.name)?r:"Reaction",l=$i(u,n.onError?(i=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){i.call(this,e)}}):t),c=!n.scheduler&&!n.delay,f=eo(n),p=!0,d=!1,h=n.compareStructural?fr.structural:n.equals||fr.default,v=new ki(u,(function(){p||c?g():d||(d=!0,f(g))}),n.onError,n.requiresObservable);function g(){if(d=!1,!v.isDisposed_){var t=!1;v.track((function(){var n=ri(!1,(function(){return e(v)}));t=p||!h(a,n),s=a,a=n})),(p&&n.fireImmediately||!p&&t)&&l(a,s,v),p=!1}}return v.schedule_(),v.getDisposer_()}},(Aa={initState:yn(Ia),initBind:bn(Ia)}).initState);const Ea=e=>function(t){void 0===t&&(t={});const n="function"==typeof e.factory?e.factory(t):e;return function(e,t){return Object.defineProperty(t,"updateDefaults",{value:function(t){return e.updateDefaults(t)}}),t}(n,n.logger())},Ma=Ea;var Na=e,Da=t,Ua=i,ka={initState:Ra,initBind:Aa.initBind,observable:Jr};const ja=!1;var Ta=null,La={enabled:!1,icuEnabled:!1},Va=null,Ba=null;const Fa=o.exports,Ka=function(e){var t=e.initAppForPage,n=e.sentryConfig,r=void 0===n?null:n,i=e.experimentsConfig,o=void 0===i?null:i,a=e.inEditor,s=void 0!==a&&a,u=e.projectName,l=e.defaultTranslations,c=e.translationsConfig,f=e.biConfig,p=e.biLogger,d=e.appName,h=void 0===d?null:d,v=e.optionalDeps,g=e.localeDistPath,m=e.prepopulatedData,b=e.shouldUseEssentials;return function(e,n,i,a){return Q(void 0,void 0,void 0,(function(){var d,_,y,w;return Z(this,(function(P){switch(P.label){case 0:return d=new z({experimentsConfig:o,projectName:u,sentryConfig:r,platformBI:a.bi,biLoggerFactory:a.biLoggerFactory,essentials:a.essentials,monitoring:a.monitoring,wixAPI:i,appData:e,translationsConfig:c,defaultTranslations:l,inEditor:s,biConfig:f,biLogger:p,appName:h,optionalDeps:v,localeDistPath:g,prepopulatedData:m,shouldUseEssentials:b}),H(d),_=d.init(),$(_),[4,_];case 1:if(P.sent(),!t)return[3,5];P.label=2;case 2:return P.trys.push([2,4,,5]),[4,t(e,n,i,a,d)];case 3:return y=P.sent(),Y(y),[3,5];case 4:throw w=P.sent(),s||(console.error('\u2757\ufe0fError \ud83d\udc49 "'.concat(h,'" app \ud83d\udc49 `viewer.app.ts` module \u2757\n'),w),d.reportError(w)),w;case 5:return[2,X()]}}))}))}}({initAppForPage:o.initAppForPage,sentryConfig:Ta,experimentsConfig:{scopes:["members-area"],centralized:!0},inEditor:!1,biLogger:Ma,multilingualDisabled:ja,projectName:"santa-members-viewer-app",biConfig:null,appName:"Members Area Viewer Script",appDefinitionId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",fedopsConfig:Ba,translationsConfig:La,defaultTranslations:Va,shouldUseEssentials:!0,optionalDeps:{initI18n:null,createHttpClient:null,createExperiments:null},localeDistPath:"assets/locales"}),Ga=(qa={initI18n:null,blocksControllerService:null,createHttpClient:null,createExperiments:null,velocycleMobx:ka},Ja=[{method:sn,wrap:Re,exports:Na,widgetType:"PLATFORM_WIDGET",translationsConfig:La,multilingualDisabled:ja,experimentsConfig:{scopes:["members-area"],centralized:!0},fedopsConfig:Ba,sentryConfig:Ta,persistentAcrossPages:!1,biLogger:Ma,shouldUseEssentials:!0,withErrorBoundary:!1,biConfig:null,controllerFileName:"/home/builduser/work/fa85d65a9160597f/packages/members-viewer-app/src/components/members/controller.ts",appName:"Members Area Viewer Script",appDefinitionId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",projectName:"santa-members-viewer-app",componentName:"members",localeDistPath:"assets/locales",defaultTranslations:Va,id:"members"},{method:un,wrap:Re,exports:Da,widgetType:"PLATFORM_WIDGET",translationsConfig:La,multilingualDisabled:ja,experimentsConfig:{scopes:["members-area"],centralized:!0},fedopsConfig:Ba,sentryConfig:Ta,persistentAcrossPages:!1,biLogger:Ma,shouldUseEssentials:!0,withErrorBoundary:!1,biConfig:null,controllerFileName:"/home/builduser/work/fa85d65a9160597f/packages/members-viewer-app/src/components/members-login-bar/controller.ts",appName:"Members Area Viewer Script",appDefinitionId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",projectName:"santa-members-viewer-app",componentName:"members-login-bar",localeDistPath:"assets/locales",defaultTranslations:Va,id:"members-login-bar"},{method:ln,wrap:Re,exports:Ua,widgetType:"PLATFORM_WIDGET",translationsConfig:La,multilingualDisabled:ja,experimentsConfig:{scopes:["members-area"],centralized:!0},fedopsConfig:Ba,sentryConfig:Ta,persistentAcrossPages:!1,biLogger:Ma,shouldUseEssentials:!0,withErrorBoundary:!1,biConfig:null,controllerFileName:"/home/builduser/work/fa85d65a9160597f/packages/members-viewer-app/src/components/members-menu/controller.ts",appName:"Members Area Viewer Script",appDefinitionId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",projectName:"santa-members-viewer-app",componentName:"members-menu",localeDistPath:"assets/locales",defaultTranslations:Va,id:"members-menu"}],void 0===(za=!0)&&(za=!1),function(e,t){var n=[];e.forEach((function(e){var r,i=e.type,o=(r=i,Ja.find((function(e){return e.id===r})));if(o||function(e){var t,n,r;return(null===(t=e.appParams)||void 0===t?void 0:t.blocksData)||(null===(r=null===(n=e.appParams)||void 0===n?void 0:n.appData)||void 0===r?void 0:r.blocksPreviewData)}(e)&&(o={widgetType:a,method:null,exports:{}}),(null==o?void 0:o.widgetType)!==a&&!za){var s=null==t?void 0:t[i];if(!s)return;if(!o){var u=function(e){return ee(e)?null:e.descriptor}(s);if(!u)throw new Error("Can't resolve controller descriptor for \"".concat(i,'" controller.'));o=u}o.method=function(e){if(ee(e))return e;var t=e[Object.keys(e).find((function(e){return e.toLowerCase().includes("controller")}))||"default"];if("function"!=typeof t)throw new Error("Seems like a bundle you have registered as Controller URL in Dev Center doesn't contain exported controller.\nPlease, verify you are using relevant controller bundle generated by editor flow.");return t}(s),o.wrap=function(e){return ee(e)?null:e.wrap}(s)||void 0,o.exports=s}o&&n.push({controllerDescriptor:o,controllerConfig:e})}));var r=n.map((function(e){var t=e.controllerDescriptor,n=e.controllerConfig;if(t.wrap)return t.wrap(qa,t,n,V,B,X)}));return r});var qa,Ja,za;const Wa=Ga}(),r}()}));
//# sourceMappingURL=viewerScript.bundle.min.js.map