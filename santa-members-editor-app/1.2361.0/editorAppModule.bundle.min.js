!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("_")):"function"==typeof define&&define.amd?define("santa-members-editor-app",["_"],t):"object"==typeof exports?exports["santa-members-editor-app"]=t(require("_")):e["santa-members-editor-app"]=t(e._)}("undefined"!=typeof self?self:this,(function(e){return function(){var t,n,o={9186:function(e,t){t.qq=t.wn=t.xA=t.Kh=t.ZJ=t.tt=t.DI=t.sV=t.dn=void 0,t.dn="14bcded7-0066-7c35-14d7-466cb3f09103",t.sV="140603ad-af8d-84a5-2c80-a0f60cb47351",t.DI="13d21c63-b5ec-5912-8397-c3a5ddb27a97",t.tt="14724f35-6794-cd1a-0244-25fd138f9242",t.ZJ="1380b703-ce81-ff05-f115-39571d94dfcd",t.Kh="14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",t.xA="14dbefd2-01b4-fb61-32a7-3abd44da4908",t.wn="14f25924-5664-31b2-9568-f9c5ed98c9b1",t.qq="148c2287-c669-d849-d153-463c7486a694";var n={}},1721:function(e,t,n){"use strict";n.r(t),n.d(t,{ConsentPolicyAccessor:function(){return f}});var o,i={policy:"getCurrentConsentPolicy",header:"_getConsentPolicyHeader",isMethod:!0},r={policy:"consentPolicy",header:"consentPolicyHeader",isMethod:!1},a={essential:!0,dataToThirdParty:!0,advertising:!0,functional:!0,analytics:!0};function s(){return window}function c(){return self}function l(){return n.g}function u(){return globalThis}function p(e){var t;void 0===e&&(e=void 0),e&&(o=e),o||e||[u,l,c,s].forEach((function(e){try{o||(o=e())}catch(e){}}));try{"object"==typeof o.commonConfig&&o.commonConfig.consentPolicy&&(t=d(o.commonConfig,r)),t||"object"!=typeof o.consentPolicyManager||(t=d(o.consentPolicyManager,i)),t||"object"!=typeof o.Wix||"object"!=typeof o.Wix.Utils||"function"!=typeof o.Wix.Utils.getCurrentConsentPolicy||(t=d(o.Wix.Utils,i))}catch(e){}return t}function d(e,t){return{getCurrentConsentPolicy:function(){var n=e[t.policy];return t.isMethod?n():n},_getConsentPolicyHeader:function(){var n=e[t.header];return t.isMethod?n():n},deleteReference:!t.isMethod}}var f=function(){function e(e){e&&(this.env=e),this.consentPolicyAccess=p(this.env)}return e.prototype.clearReference=function(){this.consentPolicyAccess&&this.consentPolicyAccess.deleteReference&&(this.consentPolicyAccess=void 0)},e.prototype.getCurrentConsentPolicy=function(){this.consentPolicyAccess||(this.consentPolicyAccess=p(this.env));var e=this.consentPolicyAccess&&this.consentPolicyAccess.getCurrentConsentPolicy()||a;return this.clearReference(),e.policy?e.policy:e},e.prototype.getConsentPolicyHeader=function(e){void 0===e&&(e=!1),this.consentPolicyAccess||(this.consentPolicyAccess=p(this.env));var t=this.consentPolicyAccess&&this.consentPolicyAccess._getConsentPolicyHeader()||{"consent-policy":""};return this.clearReference(),e?t["consent-policy"]:t},e}()},439:function(e,t,n){e.exports=n(1541)},1410:function(e,t,n){"use strict";var o=n(4545),i=n(2525),r=n(8051),a=n(3542),s=n(2496),c=n(6600),l=n(6440),u=n(9652);e.exports=function(e){return new Promise((function(t,n){var p=e.data,d=e.headers,f=e.responseType;o.isFormData(p)&&delete d["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+h)}var y=s(e.baseURL,e.url);function b(){if(g){var o="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,r={data:f&&"text"!==f&&"json"!==f?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:o,config:e,request:g};i(t,n,r),g=null}}if(g.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(b)},g.onabort=function(){g&&(n(u("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(u("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},o.isStandardBrowserEnv()){var v=(e.withCredentials||l(y))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}"setRequestHeader"in g&&o.forEach(d,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete d[t]:g.setRequestHeader(t,e)})),o.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),f&&"json"!==f&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){g&&(g.abort(),n(e),g=null)})),p||(p=null),g.send(p)}))}},1541:function(e,t,n){"use strict";var o=n(4545),i=n(9309),r=n(1153),a=n(8313);function s(e){var t=new r(e),n=i(r.prototype.request,t);return o.extend(n,r.prototype,t),o.extend(n,t),n}var c=s(n(6276));c.Axios=r,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(7455),c.CancelToken=n(8348),c.isCancel=n(8396),c.all=function(e){return Promise.all(e)},c.spread=n(2001),c.isAxiosError=n(3766),e.exports=c,e.exports.default=c},7455:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},8348:function(e,t,n){"use strict";var o=n(7455);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new o(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},8396:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},1153:function(e,t,n){"use strict";var o=n(4545),i=n(3542),r=n(2840),a=n(700),s=n(8313),c=n(7802),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new r,response:new r}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,r=[];if(this.interceptors.response.forEach((function(e){r.push(e.fulfilled,e.rejected)})),!o){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(r),i=Promise.resolve(e);u.length;)i=i.then(u.shift(),u.shift());return i}for(var p=e;n.length;){var d=n.shift(),f=n.shift();try{p=d(p)}catch(e){f(e);break}}try{i=a(p)}catch(e){return Promise.reject(e)}for(;r.length;)i=i.then(r.shift(),r.shift());return i},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),o.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,o){return this.request(s(o||{},{method:e,url:t,data:n}))}})),e.exports=u},2840:function(e,t,n){"use strict";var o=n(4545);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){o.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},2496:function(e,t,n){"use strict";var o=n(8953),i=n(8228);e.exports=function(e,t){return e&&!o(t)?i(e,t):t}},9652:function(e,t,n){"use strict";var o=n(7014);e.exports=function(e,t,n,i,r){var a=new Error(e);return o(a,t,n,i,r)}},700:function(e,t,n){"use strict";var o=n(4545),i=n(9765),r=n(8396),a=n(6276);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7014:function(e){"use strict";e.exports=function(e,t,n,o,i){return e.config=t,n&&(e.code=n),e.request=o,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},8313:function(e,t,n){"use strict";var o=n(4545);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],r=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return o.isPlainObject(e)&&o.isPlainObject(t)?o.merge(e,t):o.isPlainObject(t)?o.merge({},t):o.isArray(t)?t.slice():t}function l(i){o.isUndefined(t[i])?o.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}o.forEach(i,(function(e){o.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),o.forEach(r,l),o.forEach(a,(function(i){o.isUndefined(t[i])?o.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),o.forEach(s,(function(o){o in t?n[o]=c(e[o],t[o]):o in e&&(n[o]=c(void 0,e[o]))}));var u=i.concat(r).concat(a).concat(s),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return o.forEach(p,l),n}},2525:function(e,t,n){"use strict";var o=n(9652);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},9765:function(e,t,n){"use strict";var o=n(4545),i=n(6276);e.exports=function(e,t,n){var r=this||i;return o.forEach(n,(function(n){e=n.call(r,e,t)})),e}},6276:function(e,t,n){"use strict";var o=n(3158),i=n(4545),r=n(7730),a=n(7014),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==o&&"[object process]"===Object.prototype.toString.call(o))&&(l=n(1410)),l),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||o&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(s)})),e.exports=u},9309:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},3542:function(e,t,n){"use strict";var o=n(4545);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(o.isURLSearchParams(t))r=t.toString();else{var a=[];o.forEach(t,(function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,(function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),r=a.join("&")}if(r){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},8228:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},8051:function(e,t,n){"use strict";var o=n(4545);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,i,r,a){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.isString(i)&&s.push("path="+i),o.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8953:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},3766:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},6440:function(e,t,n){"use strict";var o=n(4545);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=o.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},7730:function(e,t,n){"use strict";var o=n(4545);e.exports=function(e,t){o.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))}},6600:function(e,t,n){"use strict";var o=n(4545),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,a={};return e?(o.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=o.trim(e.substr(0,r)).toLowerCase(),n=o.trim(e.substr(r+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},2001:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7802:function(e,t,n){"use strict";var o=n(2799),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var r={},a=o.version.split(".");function s(e,t){for(var n=t?t.split("."):a,o=e.split("."),i=0;i<3;i++){if(n[i]>o[i])return!0;if(n[i]<o[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function a(e,t){return"[Axios v"+o.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,s){if(!1===e)throw new Error(a(o," has been removed in "+t));return i&&!r[o]&&(r[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var o=Object.keys(e),i=o.length;i-- >0;){var r=o[i],a=t[r];if(a){var s=e[r],c=void 0===s||a(s,r,e);if(!0!==c)throw new TypeError("option "+r+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+r)}},validators:i}},4545:function(e,t,n){"use strict";var o=n(9309),i=Object.prototype.toString;function r(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,o){c(t[o])&&c(n)?t[o]=e(t[o],n):c(n)?t[o]=e({},n):r(n)?t[o]=n.slice():t[o]=n}for(var o=0,i=arguments.length;o<i;o++)u(arguments[o],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?o(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},5208:function(e){var t;"undefined"!=typeof self&&self,t=()=>(()=>{"use strict";var e={"../editor-platform-sdk-types/dist/esm/common.js":
/*!*******************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/common.js ***!
  \*******************************************************/(e,t,n)=>{var o,i,r,a;n.r(t),n.d(t,{DeviceType:()=>i,LinkTypes:()=>o,TPAComponentType:()=>r,WidgetInstallationType:()=>a}),function(e){e.NoLink="NoLink",e.PageLink="PageLink",e.AnchorLink="AnchorLink",e.ExternalLink="ExternalLink",e.DocumentLink="DocumentLink",e.PhoneLink="PhoneLink",e.EmailLink="EmailLink",e.LoginToWixLink="LoginToWixLink",e.DynamicPageLink="DynamicPageLink",e.EdgeAnchorLink="EdgeAnchorLinks",e.PopupLink="PopupLink",e.FormSubmitButtonLink="FormSubmitButtonLink"}(o||(o={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(i||(i={})),function(e){e.Page="PAGE",e.Widget="WIDGET"}(r||(r={})),function(e){e.Open="open",e.Closed="closed"}(a||(a={}))},"../editor-platform-sdk-types/dist/esm/definitions/appEditorApi.js":
/*!*************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/appEditorApi.js ***!
  \*************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/consentPolicy.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/consentPolicy.js ***!
  \**************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/index.js":
/*!******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/index.js ***!
  \******************************************************************/(e,t,n)=>{n.r(t),n.d(t,{EditorType:()=>r.EditorType,InstallInitiator:()=>r.InstallInitiator,InstallationOriginType:()=>r.InstallationOriginType,MediaType:()=>o.MediaType,NotificationPresetTypes:()=>i.NotificationPresetTypes,NotificationType:()=>i.NotificationType,PagesPanelTabType:()=>a.PagesPanelTabType,PanelResolveType:()=>a.PanelResolveType,PanelType:()=>a.PanelType,PremiumIntent:()=>s.PremiumIntent,customizeActions:()=>a.customizeActions}),n(/*! ./appEditorApi */"../editor-platform-sdk-types/dist/esm/definitions/appEditorApi.js"),n(/*! ./consentPolicy */"../editor-platform-sdk-types/dist/esm/definitions/consentPolicy.js");var o=n(/*! ./media */"../editor-platform-sdk-types/dist/esm/definitions/media.js"),i=(n(/*! ./monitoring */"../editor-platform-sdk-types/dist/esm/definitions/monitoring.js"),n(/*! ./notifications */"../editor-platform-sdk-types/dist/esm/definitions/notifications.js")),r=n(/*! ./origin */"../editor-platform-sdk-types/dist/esm/definitions/origin.js"),a=(n(/*! ./pageDefinition */"../editor-platform-sdk-types/dist/esm/definitions/pageDefinition.js"),n(/*! ./panels */"../editor-platform-sdk-types/dist/esm/definitions/panels.js")),s=n(/*! ./premiumIntent */"../editor-platform-sdk-types/dist/esm/definitions/premiumIntent.js");n(/*! ./responsiveLayout */"../editor-platform-sdk-types/dist/esm/definitions/responsiveLayout.js"),n(/*! ./info */"../editor-platform-sdk-types/dist/esm/definitions/info.js")},"../editor-platform-sdk-types/dist/esm/definitions/info.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/info.js ***!
  \*****************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/media.js":
/*!******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/media.js ***!
  \******************************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{MediaType:()=>o}),function(e){e.Image="IMAGE",e.Video="VIDEO",e.Document="DOCUMENT"}(o||(o={}))},"../editor-platform-sdk-types/dist/esm/definitions/monitoring.js":
/*!***********************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/monitoring.js ***!
  \***********************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/notifications.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/notifications.js ***!
  \**************************************************************************/(e,t,n)=>{var o,i;n.r(t),n.d(t,{NotificationPresetTypes:()=>i,NotificationType:()=>o}),function(e){e.Success="success",e.Error="error",e.Warning="warning",e.Info="info"}(o||(o={})),function(e){e.REPEATER_EDITOR_MAX_ITEMS="repeaterMaxItemsEditorLimitation"}(i||(i={}))},"../editor-platform-sdk-types/dist/esm/definitions/origin.js":
/*!*******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/origin.js ***!
  \*******************************************************************/(e,t,n)=>{var o,i,r;n.r(t),n.d(t,{EditorType:()=>o,InstallInitiator:()=>i,InstallationOriginType:()=>r}),function(e){e.Classic="CLASSIC",e.Responsive="RESPONSIVE",e.ADI="ADI",e.ADI_MA="ADI_MA",e.ADI_TEMPLATE="ADI_TEMPLATE"}(o||(o={})),function(e){e.Editor="EDITOR",e.App="APP",e.Dependency_Service="Dependency_Service"}(i||(i={})),function(e){e.AppMarket="APP_MARKET",e.AddPanel="ADD_PANEL",e.AppPanel="APP_PANEL",e.PageSettingsPanel="PAGE_SETTINGS_PANEL",e.PresetService="PRESET_SERVICE",e.SITE_CREATION="SITE_CREATION",e.SILENT_INSTALL_SITE_CREATION="SILENT_INSTALL_SITE_CREATION",e.SILENT_INSTALL="SILENT_INSTALL",e.ADD_SECTION_PANEL="ADD_SECTION_PANEL",e.ADD_PAGE_PANEL="ADD_PAGE_PANEL",e.COPY_PASTE="COPY_PASTE",e.INTRO_FUNNEL="INTRO_FUNNEL",e.PAGES_PANEL="PAGES_PANEL",e.PAGE_SETTINGS_PANEL="PAGE_SETTINGS_PANEL",e.IMPORT_PANEL="IMPORT_PANEL",e.MY_BUSINESS="MY_BUSINESS",e.IFRAME_JS_SDK="IFRAME_JS_SDK"}(r||(r={}))},"../editor-platform-sdk-types/dist/esm/definitions/pageDefinition.js":
/*!***************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/pageDefinition.js ***!
  \***************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/definitions/panels.js":
/*!*******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/panels.js ***!
  \*******************************************************************/(e,t,n)=>{var o,i,r,a;n.r(t),n.d(t,{PagesPanelTabType:()=>r,PanelResolveType:()=>i,PanelType:()=>o,customizeActions:()=>a}),function(e){e.Settings="settings",e.Layout="layout",e.Design="design",e.Upgrade="upgrade",e.Add="add"}(o||(o={})),function(e){e.MAIN_ACTION="mainActionClicked",e.SECONDARY_ACTION="secActionClicked",e.CLOSE_ACTION="closeActionClicked"}(i||(i={})),function(e){e.PageInfo="PAGE_INFO",e.Layout="LAYOUT",e.Permissions="PERMISSIONS",e.SEO="SEO"}(r||(r={})),function(e){e.Custom="Custom"}(a||(a={}))},"../editor-platform-sdk-types/dist/esm/definitions/premiumIntent.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/premiumIntent.js ***!
  \**************************************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{PremiumIntent:()=>o}),function(e){e.Neutral="NEUTRAL",e.Free="FREE",e.Paid="PAID"}(o||(o={}))},"../editor-platform-sdk-types/dist/esm/definitions/responsiveLayout.js":
/*!*****************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/definitions/responsiveLayout.js ***!
  \*****************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/editor-app.js":
/*!***********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/editor-app.js ***!
  \***********************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/events/EventType.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/EventType.js ***!
  \*****************************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{EventType:()=>o,customEventTypes:()=>i,generalEventTypes:()=>r}),function(e){e.appMenuReorder="appMenuReorder",e.componentDeleted="componentDeleted",e.componentGfppClicked="componentGfppClicked",e.appActionClicked="appActionClicked",e.connectedComponentPasted="connectedComponentPasted",e.connectedComponentDuplicated="connectedComponentDuplicated",e.concurrentPanelEdit="concurrentPanelEdit",e.widgetPasted="widgetPasted",e.widgetDuplicated="widgetDuplicated",e.widgetAdded="widgetAdded",e.controllerAdded="controllerAdded",e.controllerSettingsButtonClicked="controllerSettingsButtonClicked",e.controllerGfppClicked="controllerGfppClicked",e.stateChanged="stateChanged",e.stateAdded="stateAdded",e.stateDuplicated="stateDuplicated",e.pageDeleted="pageDeleted",e.siteWasPublished="siteWasPublished",e.siteWasFirstSaved="siteWasFirstSaved",e.siteWasSaved="siteWasSaved",e.startConfiguration="startConfiguration",e.welcomeSectionMainActionClicked="welcomeSectionMainActionClicked",e.widgetGfppClicked="widgetGfppClicked",e.appUpgradeCompleted="appUpgradeCompleted",e.instanceChanged="instanceChanged",e.componentSelectionChanged="componentSelectionChanged",e.globalDesignPresetChanged="globalDesignPresetChanged",e.developerModeChanged="developerModeChanged",e.developerModeStatusChanged="developerModeStatusChanged",e.focusedPageChanged="focusedPageChanged",e.componentAddedToStage="componentAddedToStage",e.connectedComponentAddedToStage="connectedComponentAddedToStage",e.anyComponentAddedToStage="anyComponentAddedToStage",e.appUpdateCompleted="appUpdateCompleted",e.componentAnimationChanged="componentAnimationChanged",e.componentDataChanged="componentDataChanged",e.componentDesignChanged="componentDesignChanged",e.componentStyleChanged="componentStyleChanged",e.switchedFromPreview="switchedFromPreview",e.componentArrangementChanged="componentArrangementChanged",e.componentDragEnded="componentDragEnded",e.componentResizeStarted="componentResizeStarted",e.componentRotateEnded="componentRotateEnded",e.sitePublishedDialogClosed="sitePublishedDialogClosed",e.pageBackgroundChanged="pageBackgroundChanged",e.mobileTextScaleChanged="mobileTextScaleChanged",e.componentCropSaved="componentCropSaved",e.toggleBackToTopButtonOn="toggleBackToTopButtonOn",e.componentBehaviorChanged="componentBehaviorChanged",e.componentPropsChanged="componentPropsChanged",e.switchedToMobileView="switchedToMobileView",e.switchedToDesktopView="switchedToDesktopView",e.textEditBoxClosed="textEditBoxClosed",e.hideMobileElement="hideMobileElement",e.showMobileElement="showMobileElement",e.pageRenamed="pageRenamed",e.addDynamicPageClicked="addDynamicPageClicked",e.consentPolicyChanged="consentPolicyChanged",e.pageDuplicated="pageDuplicated",e.pageAdded="pageAdded",e.undo="undo",e.redo="redo",e.addElementsCompClicked="addElementsCompClicked",e.addElementsAllCompsClicked="addElementsAllCompsClicked",e.addElementsResetClicked="addElementsResetClicked",e.appVisitedInDashboard="appVisitedInDashboard",e.componentAddedToApp="componentAddedToApp",e.documentOperationError="documentOperationError",e.solveAddWidgetLimitation="solveAddWidgetLimitation",e.componentConnected="componentConnected",e.componentDisconnected="componentDisconnected",e.panelHeaderButtonClicked="panelHeaderButtonClicked",e.themeChanged="themeChanged",e.viewStateChanged="viewStateChanged",e.revokeApp="revokeApp",e.grantApp="grantApp"}(o||(o={}));const i=[o.componentSelectionChanged,o.focusedPageChanged,o.anyComponentAddedToStage,o.appUpdateCompleted,o.componentAnimationChanged,o.componentDataChanged,o.componentDesignChanged,o.componentStyleChanged,o.switchedFromPreview,o.componentArrangementChanged,o.componentDragEnded,o.componentResizeStarted,o.componentRotateEnded,o.sitePublishedDialogClosed,o.pageBackgroundChanged,o.mobileTextScaleChanged,o.componentCropSaved,o.toggleBackToTopButtonOn,o.componentBehaviorChanged,o.componentPropsChanged,o.switchedToMobileView,o.switchedToDesktopView,o.textEditBoxClosed,o.hideMobileElement,o.showMobileElement,o.undo,o.redo,o.appVisitedInDashboard,o.developerModeStatusChanged,o.componentConnected,o.componentDisconnected,o.solveAddWidgetLimitation,o.pageDuplicated,o.pageAdded,o.themeChanged,o.viewStateChanged],r=[o.appMenuReorder,o.componentDeleted,o.componentGfppClicked,o.appActionClicked,o.connectedComponentPasted,o.connectedComponentDuplicated,o.concurrentPanelEdit,o.widgetPasted,o.widgetDuplicated,o.widgetAdded,o.controllerAdded,o.controllerSettingsButtonClicked,o.controllerGfppClicked,o.stateChanged,o.stateAdded,o.stateDuplicated,o.pageDeleted,o.siteWasPublished,o.siteWasFirstSaved,o.siteWasSaved,o.startConfiguration,o.welcomeSectionMainActionClicked,o.widgetGfppClicked,o.appUpgradeCompleted,o.instanceChanged,o.globalDesignPresetChanged,o.developerModeChanged,o.connectedComponentAddedToStage,o.pageRenamed,o.addDynamicPageClicked,o.consentPolicyChanged,o.addElementsCompClicked,o.addElementsAllCompsClicked,o.addElementsResetClicked,o.componentAddedToApp,o.documentOperationError,o.panelHeaderButtonClicked,o.grantApp,o.revokeApp]},"../editor-platform-sdk-types/dist/esm/events/EventsInterfaceMap.js":
/*!**************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/EventsInterfaceMap.js ***!
  \**************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/events/eventInterfaces.js":
/*!***********************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/eventInterfaces.js ***!
  \***********************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/events/index.js":
/*!*************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/events/index.js ***!
  \*************************************************************/(e,t,n)=>{n.r(t),n.d(t,{EventType:()=>o.EventType,customEventTypes:()=>o.customEventTypes,generalEventTypes:()=>o.generalEventTypes}),n(/*! ./eventInterfaces */"../editor-platform-sdk-types/dist/esm/events/eventInterfaces.js");var o=n(/*! ./EventType */"../editor-platform-sdk-types/dist/esm/events/EventType.js");n(/*! ./EventsInterfaceMap */"../editor-platform-sdk-types/dist/esm/events/EventsInterfaceMap.js")},"../editor-platform-sdk-types/dist/esm/index.js":
/*!******************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/index.js ***!
  \******************************************************/(e,t,n)=>{n.r(t),n.d(t,{DeviceType:()=>i.DeviceType,EditorType:()=>r.EditorType,EventType:()=>a.EventType,InstallInitiator:()=>r.InstallInitiator,InstallationOriginType:()=>r.InstallationOriginType,LinkTypes:()=>i.LinkTypes,MediaType:()=>r.MediaType,MemberKind:()=>o.MemberKind,NotificationPresetTypes:()=>r.NotificationPresetTypes,NotificationType:()=>r.NotificationType,PagesPanelTabType:()=>r.PagesPanelTabType,PanelResolveType:()=>r.PanelResolveType,PanelType:()=>r.PanelType,PremiumIntent:()=>r.PremiumIntent,TPAComponentType:()=>i.TPAComponentType,WidgetInstallationType:()=>i.WidgetInstallationType,customEventTypes:()=>a.customEventTypes,customizeActions:()=>r.customizeActions,generalEventTypes:()=>a.generalEventTypes}),n(/*! ./editor-app */"../editor-platform-sdk-types/dist/esm/editor-app.js");var o=n(/*! ./manifest */"../editor-platform-sdk-types/dist/esm/manifest.js"),i=n(/*! ./common */"../editor-platform-sdk-types/dist/esm/common.js"),r=n(/*! ./definitions */"../editor-platform-sdk-types/dist/esm/definitions/index.js"),a=n(/*! ./events */"../editor-platform-sdk-types/dist/esm/events/index.js");n(/*! ./tpaStyleParams */"../editor-platform-sdk-types/dist/esm/tpaStyleParams.js"),n(/*! ./sdk */"../editor-platform-sdk-types/dist/esm/sdk/index.js")},"../editor-platform-sdk-types/dist/esm/manifest.js":
/*!*********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/manifest.js ***!
  \*********************************************************/(e,t,n)=>{var o;n.r(t),n.d(t,{MemberKind:()=>o}),function(e){e.MEMBER="member",e.FUNCTION="function"}(o||(o={}))},"../editor-platform-sdk-types/dist/esm/sdk/app-settings.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/app-settings.js ***!
  \*****************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/document/application.js":
/*!*************************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/document/application.js ***!
  \*************************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/document/index.js":
/*!*******************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/document/index.js ***!
  \*******************************************************************/(e,t,n)=>{n.r(t),n(/*! ./application */"../editor-platform-sdk-types/dist/esm/sdk/document/application.js")},"../editor-platform-sdk-types/dist/esm/sdk/editor/index.js":
/*!*****************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/editor/index.js ***!
  \*****************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/editorSDK.js":
/*!**************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/editorSDK.js ***!
  \**************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/event-listeners.js":
/*!********************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/event-listeners.js ***!
  \********************************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/extra.js":
/*!**********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/extra.js ***!
  \**********************************************************/(e,t,n)=>{n.r(t)},"../editor-platform-sdk-types/dist/esm/sdk/index.js":
/*!**********************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/sdk/index.js ***!
  \**********************************************************/(e,t,n)=>{n.r(t),n(/*! ./editorSDK */"../editor-platform-sdk-types/dist/esm/sdk/editorSDK.js"),n(/*! ./extra */"../editor-platform-sdk-types/dist/esm/sdk/extra.js"),n(/*! ./event-listeners */"../editor-platform-sdk-types/dist/esm/sdk/event-listeners.js"),n(/*! ./editor */"../editor-platform-sdk-types/dist/esm/sdk/editor/index.js"),n(/*! ./app-settings */"../editor-platform-sdk-types/dist/esm/sdk/app-settings.js"),n(/*! ./document */"../editor-platform-sdk-types/dist/esm/sdk/document/index.js")},"../editor-platform-sdk-types/dist/esm/tpaStyleParams.js":
/*!***************************************************************!*\
  !*** ../editor-platform-sdk-types/dist/esm/tpaStyleParams.js ***!
  \***************************************************************/(e,t,n)=>{n.r(t)}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
n.r(o),n.d(o,{DeviceType:()=>e.DeviceType,EditorType:()=>e.EditorType,EventType:()=>e.EventType,InstallInitiator:()=>e.InstallInitiator,InstallationOriginType:()=>e.InstallationOriginType,LinkTypes:()=>e.LinkTypes,MediaType:()=>e.MediaType,MemberKind:()=>e.MemberKind,NotificationPresetTypes:()=>e.NotificationPresetTypes,NotificationType:()=>e.NotificationType,PagesPanelTabType:()=>e.PagesPanelTabType,PanelResolveType:()=>e.PanelResolveType,PanelType:()=>e.PanelType,PremiumIntent:()=>e.PremiumIntent,TPAComponentType:()=>e.TPAComponentType,WidgetInstallationType:()=>e.WidgetInstallationType,customEventTypes:()=>e.customEventTypes,customizeActions:()=>e.customizeActions,generalEventTypes:()=>e.generalEventTypes});var e=n(/*! @wix/editor-platform-sdk-types */"../editor-platform-sdk-types/dist/esm/index.js")})(),o})(),e.exports=t()},6433:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultCommonConfig=t.BrandToHostMap=t.DefaultBrand=t.EventContextMap=t.BackofficeDomains=t.LoggerVersion=void 0,t.LoggerVersion="2.0.985|C",t.BackofficeDomains=[".wix.com",".editorx.com"],function(e){e.msid="_msid",e.clientId="_client_id",e.uuid="_uuid",e.visitorId="_visitorId",e.siteMemberId="_siteMemberId",e.brandId="_brandId",e.siteBranchId="_siteBranchId",e.ms="_ms",e.lv="_lv"}(t.EventContextMap||(t.EventContextMap={})),t.DefaultBrand="wix",t.BrandToHostMap={wix:"wix",editorx:"editorx"},t.DefaultCommonConfig={brand:t.DefaultBrand}},7765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ok=t.object=t.defined=void 0;var o=n(6539);t.defined=function(e,t){if(void 0===e)throw new o.AssertionError(t)};t.object=function(e,t){if(void 0!==e&&("object"!=typeof e||Array.isArray(e)||null===e))throw new o.AssertionError(t)};t.ok=function(e,t){if(!e)throw new o.AssertionError(t)}},3599:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCookie=t.sendBeacon=t.getWindowSize=t.getDesktopSize=t.now=void 0,t.now=function(){return"undefined"!=typeof performance&&performance&&performance.now?performance.now():-1},t.getDesktopSize=function(e){var t=e.screen&&e.screen.width||0,n=e.screen&&e.screen.height||0;return"".concat(t,"x").concat(n)},t.getWindowSize=function(e){var t=0,n=0;return e.innerWidth?(t=e.innerWidth,n=e.innerHeight):e.document&&(e.document.documentElement&&e.document.documentElement.clientWidth?(t=e.document.documentElement.clientWidth,n=e.document.documentElement.clientHeight):e.document.body&&e.document.body.clientWidth&&(t=e.document.body.clientWidth,n=e.document.body.clientHeight)),"".concat(t,"x").concat(n)},t.sendBeacon=function(e,t){return!("undefined"==typeof navigator||!navigator||!navigator.sendBeacon)&&navigator.sendBeacon(e,t)},t.readCookie=function(e){if("undefined"==typeof document)return null;for(var t=0,n=document.cookie.split(";");t<n.length;t++){for(var o=n[t].split("="),i=o[0],r=o[1];" "===i[0];)i=i.substr(1);if(i===e)return r}return""}},5997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBranchId=t.getBrand=t.getCommonConfigValue=void 0;var o=n(47),i=n(6433);t.getCommonConfigValue=function(e,t){return void 0===t&&(t=(0,o.getGlobal)((function(e){return e.Wix&&e.Wix.Utils&&e.Wix.Utils.commonConfig||e.commonConfig}))),(t=t&&"function"==typeof t.getAll?t.getAll():t)&&void 0!==t[e]?t[e]:i.DefaultCommonConfig[e]};t.getBrand=function(e){return(0,t.getCommonConfigValue)("brand",e())};t.getBranchId=function(e){return(0,t.getCommonConfigValue)("branchId",e())}},47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=t.getWindowIfTop=t.isBackoffice=t.isWebWorker=t.getHost=t.setHost=void 0;var o,i,r=n(6433);function a(e){if("undefined"!=typeof window&&window)try{return window.top===window.self?e?e(window):window:null}catch(e){return null}return null}function s(e,t){return void 0===t&&(t=null),"undefined"!=typeof self&&self&&e(self)||t}t.setHost=function(e){o=e},t.getHost=function(e){return void 0===e&&(e=r.DefaultBrand),o||(void 0===i&&(i=s((function(e){return e.location&&e.location.hostname&&(e.location.hostname.match(/\.(wix|editorx)\.com$/)||[])[1]||null}),null)),t=i||r.BrandToHostMap[e]||r.BrandToHostMap[r.DefaultBrand],"frog.".concat(t,".com"));var t},t.isWebWorker=function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},t.isBackoffice=function(){return a((function(e){var t=e.document;return r.BackofficeDomains.some((function(e){return-1!==t.location.host.indexOf(e)}))}))},t.getWindowIfTop=a,t.getGlobal=s},6539:function(e,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.APINotSupportedError=t.AssertionError=void 0;var i=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return o(t,e),t}(Error);t.AssertionError=i;var r=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return o(t,e),t}(Error);t.APINotSupportedError=r},4100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonDefaults=t.getUserDefaults=t.transformDefaults=void 0;var o=n(6433),i=n(3599),r=n(5997),a=n(8046);t.transformDefaults=function(e){return Object.keys(e).reduce((function(t,n){var i=o.EventContextMap[n]||n;return o.EventContextMap[n]&&void 0!==e[n]?t[i]=e[n]:t[n]=e[n],t}),{})};t.getUserDefaults=function(){return(0,a.getCookies)({clientId:"_wixCIDX",uuid:{name:"_wixUIDX",transform:function(e){return"string"==typeof e&&e.split("|")[1]}}})};t.getCommonDefaults=function(e,n){return(0,t.transformDefaults)({brandId:function(){return(0,r.getBrand)(e)},siteBranchId:function(){return(0,r.getBranchId)(e)},ms:function(){return Math.round((0,i.now)())},lv:o.LoggerVersion})}},8322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listen=void 0;var o=n(47);function i(e){setTimeout((function(){return(0,o.getWindowIfTop)((function(t){return e(t.location.href)}))}))}function r(e){(0,o.getWindowIfTop)((function(t){var n=t.history;return["pushState","replaceState"].forEach((function(t){!function(e,t,n){if(e&&e[t]){var o=e[t];e[t]=function(){return n.apply(null,arguments),o.apply(e,arguments)}}}(n,t,(function(t,n,o){return e(o)}))}))}))}function a(e){(0,o.getWindowIfTop)((function(t){return t.addEventListener("popstate",(function(){return e(t.location.href)}))}))}t.listen=function(e){(0,o.getWindowIfTop)((function(t){var n=t.document.referrer;[i,r,a].forEach((function(t){return t((function(t){e(n,t),n=t}))}))}))}},4116:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.getTransformers=t.getPublisher=t.postMessagePublisher=t.xhrPublisher=t.fetchPublisher=t.beaconPublisher=t.imagePublisher=t.resolvePublisher=void 0;var r=n(8046),a=n(47),s=n(6539),c=n(7737),l=n(2340),u=function(e){return e.useBatch?"POST":"GET"};function p(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var o=(0,r.buildBiUrl)(e,t,n);return(0,l.beaconTransport)(o,t,!!n.useBatch).catch((function(){var e=u(n);return n.useBatch?(0,l.fetchTransport)(o,t,e).catch((function(n){return n instanceof s.APINotSupportedError?(0,l.xhrTransport)(o,t,e):Promise.reject(n)})):(0,l.pixelTransport)(o,n.image)}))}}function d(e,t){return void 0===e&&(e={}),function(n,o){void 0===o&&(o={});var i=(0,r.buildBiUrl)(e,n,o),a=u(o);return(0,l.fetchTransport)(i,n,a,t).catch((function(e){return e instanceof s.APINotSupportedError?(0,l.xhrTransport)(i,n,a):Promise.reject(e)}))}}function f(e,t){return void 0===e&&(e={}),function(e){return(0,l.postMessageTransport)(e,t)}}t.resolvePublisher=function(e,t){var n,o;return e.publishMethod===c.PublishMethods.PostMessage?(n=f,o=t&&t[c.PublishMethods.PostMessage]):e.publishMethod===c.PublishMethods.Fetch?(n=d,o=t&&t[c.PublishMethods.Fetch]):n=(0,a.isWebWorker)()?d:p,n(e,o)},t.imagePublisher=function(e){return void 0===e&&(e={}),function(t,n){if(void 0===n&&(n={}),n.useBatch)throw new s.APINotSupportedError("Can't use image publisher to send batched events.");var o=(0,r.buildBiUrl)(e,t,n);return(0,l.pixelTransport)(o,n.image)}},t.beaconPublisher=p,t.fetchPublisher=d,t.xhrPublisher=function(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var o=(0,r.buildBiUrl)(e,t,n),i=u(n);return(0,l.xhrTransport)(o,t,i)}},t.postMessagePublisher=f,t.getPublisher=function(e,n){return(0,t.resolvePublisher)(e,n)};t.getTransformers=function(e,t){var n,r;t&&("function"!=typeof t&&t.postMessage&&e.publishMethod===c.PublishMethods.PostMessage?r=t.postMessage:"function"==typeof t&&(n=t));return{eventTransformer:n,payloadTransformer:function(t,n){if(n.useBatch){var a=function(t){return(null==t?void 0:t.endpoint)||n.endpoint||e.endpoint};t.e=t.e.map((function(e){var t=e.context,n=i(e,["context"]);return o(o({},n),{f:o(o({},n.f),{_rp:a(t)})})}))}return r?r(t):t}}}},8821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.track=void 0;var o=n(8046),i=n(8322),r=n(47),a=n(3599),s="__isTrackingPageViews__",c="p",l=19,u=3;function p(e){var t=function(e){return e({endpoint:c}).updateDefaults({src:l,evid:u,vsi:(0,o.guid)()}).logger()}(e),n=1;(0,i.listen)((function(e,o){var i=(0,r.getWindowIfTop)((function(e){return{sr:(0,a.getDesktopSize)(e),wr:(0,a.getWindowSize)(e)}})),s=i.sr,c=i.wr;t.log({from:e,to:o,fis:n,sr:s,wr:c}),n=0}))}t.track=function(e,t){void 0===t&&(t={force:!1}),(t.force||!(0,r.isWebWorker)()&&(0,r.isBackoffice)()&&(0,r.getWindowIfTop)((function(e){return!e[s]})))&&((0,r.getWindowIfTop)((function(e){return e[s]=!0})),p(e))}},2340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postMessageTransport=t.xhrTransport=t.fetchTransport=t.pixelTransport=t.beaconTransport=void 0;var o=n(3599),i=n(6539);t.beaconTransport=function(e,t,n){return void 0===n&&(n=!1),new Promise((function(i,r){return(0,o.sendBeacon)(e,n?JSON.stringify(t):void 0)?i():r(new Error("Transport Error: Cannot send bi using beacon"))}))},t.pixelTransport=function(e,t){return new Promise((function(n,o){var i=t||new window.Image(0,0);i.onload=function(){return n()},i.onerror=function(){return o(new Error("Transport Error: Cannot send bi using pixel"))},i.src=e}))},t.fetchTransport=function(e,t,n,o){if(void 0===n&&(n="GET"),void 0===o){if("undefined"==typeof fetch)return Promise.reject(new i.APINotSupportedError("fetch"));o=fetch}var r={method:n,credentials:"include"};return"POST"===n?r.body=JSON.stringify(t):r.keepalive=!0,o(e,r).then((function(e){if(!e.ok)throw Error("Transport Error: Cannot send bi using fetch. Status: ".concat(e.status))}))},t.xhrTransport=function(e,t,n){return void 0===n&&(n="GET"),new Promise((function(o,i){var r=new XMLHttpRequest;r.open(n,"".concat(location.protocol).concat(e)),r.onload=o,r.onerror=function(){i(new Error("Transport Error: Cannot send bi using xhr."))},r.withCredentials=!0,"POST"===n?r.send(JSON.stringify(t)):r.send()}))},t.postMessageTransport=function(e,t){void 0===t&&(t=self.postMessage);var n=[e];return"undefined"==typeof WorkerGlobalScope&&n.push("*"),t.apply(self,n)}},8046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guid=t.buildBiUrl=t.getCookies=void 0;var o=n(3599),i=n(47),r=0;t.getCookies=function(e){return Object.keys(e).reduce((function(t,n){var i="string"==typeof e[n]?{name:e[n]}:e[n],r=i.name,a=i.transform,s=(void 0===a?function(e){return e}:a)((0,o.readCookie)(r));return s&&(t[n]=s),t}),{})},t.buildBiUrl=function(e,t,n){var o=e.host,a=void 0===o?"":o,s=e.endpoint,c=void 0===s?"":s;void 0===n&&(n={}),a=(a="function"==typeof a?a():a)||(0,i.getHost)(),c=n.endpoint||c,n.useBatch||(t._=""+(new Date).getTime()+r++);var l=n.useBatch?[]:Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}),[]);return["//".concat(a,"/").concat(c)].concat(l.length?l.join("&"):[]).join("?")},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},647:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.createBatchQueue=t.manager=t.factory=t.Factory=t.setHost=t.EventCategories=t.PublishMethods=void 0;var s=n(1746),c=n(1721),l=a(n(7765)),u=n(4116),p=n(5997),d=n(47),f=n(7737),g=n(4100),m=n(7737);Object.defineProperty(t,"PublishMethods",{enumerable:!0,get:function(){return m.PublishMethods}}),Object.defineProperty(t,"EventCategories",{enumerable:!0,get:function(){return m.EventCategories}});var h=n(47);Object.defineProperty(t,"setHost",{enumerable:!0,get:function(){return h.setHost}});var y=function(){function e(t){void 0===t&&(t={}),this.options=t,this.commonConfigGetter=function(){},this.initialized=!1,l.ok(!t.publishMethod||-1!==Object.keys(f.PublishMethods).map((function(e){return f.PublishMethods[e]})).indexOf(t.publishMethod),'Unsupported publish method "'.concat(t.publishMethod,'"')),e.consentPolicyAccessor=e.consentPolicyAccessor||new c.ConsentPolicyAccessor,this.loggerClientFactory=(0,s.factory)()}return e.prototype.initFactory=function(){var t=this;if(this.initialized)return this.loggerClientFactory;this.initialized=!0,this.updateDefaults((0,g.getCommonDefaults)(this.commonConfigGetter,e.consentPolicyAccessor)),this.withUserContext((0,g.getUserDefaults)());var n=o(o({},this.options),{host:this.options.host||function(){return(0,d.getHost)((0,p.getBrand)(t.commonConfigGetter))}}),i=(0,u.getPublisher)(n,this.publishFunctions),r=(0,u.getTransformers)(n,this.transformer),a=r.eventTransformer,s=r.payloadTransformer,c=this.loggerClientFactory.addPublisher(i).withConsentPolicyGetter((function(){return e.consentPolicyAccessor.getCurrentConsentPolicy()}));return a&&c.withEventTransformer(a),s&&c.withPayloadTransformer(s),c},e.prototype.withTransformer=function(e){return l.defined(e,"Transformer must be provided"),l.ok("function"==typeof e||e&&"function"==typeof e[f.PublishMethods.PostMessage],"Valid transformer must be provided"),this.transformer=e,this},e.prototype.withPublishFunction=function(e){return l.defined(e,"Publish functions object must be provided"),l.ok(this.options.publishMethod&&this.options.publishMethod!==f.PublishMethods.Auto,"Publish function can be used only when using a custom publish method"),l.ok(e&&"function"==typeof e[this.options.publishMethod],"Valid publish function must be provided"),this.publishFunctions=e,this},e.prototype.withUserContext=function(e){return l.defined(e,"User context object must be provided"),this.updateDefaults((0,g.transformDefaults)(e)),this},e.prototype.withUoUContext=function(e){return l.defined(e,"UoU context object must be provided"),this.updateDefaults((0,g.transformDefaults)(e)),this},e.prototype.withNonEssentialContext=function(e){return l.defined(e,"Non-essential context object must be provided"),this.loggerClientFactory.updateNonEssentialDefaults((0,g.transformDefaults)(e)),this},e.prototype.withCommonConfigGetter=function(e){return l.defined(e,"Common config getter must be provided"),l.ok("function"==typeof e,"Common config getter must be a function"),this.commonConfigGetter=e,this},e.prototype.updateDefaults=function(e){return this.loggerClientFactory.updateDefaults(e),this},e.prototype.setMuted=function(e){return this.loggerClientFactory.setMuted(e),this},e.prototype.setEvents=function(e){return this.loggerClientFactory.setEvents(e),this},e.prototype.setGlobalBatchQueue=function(e){return this.loggerClientFactory.setGlobalBatchQueue(e),this},e.prototype.onError=function(e){return this.loggerClientFactory.setPublisherFailHandler(e),this},e.prototype.logger=function(e){void 0===e&&(e={});var t=this.options,n=t.endpoint,i=t.useBatch;return this.initFactory().logger(o({endpoint:n,useBatch:i},e))},e}();t.Factory=y;t.factory=function(e){return void 0===e&&(e={}),new y(e)},t.manager=s.manager,t.createBatchQueue=s.createBatchQueue,t.BiLoggerClientFactory=s.BiLoggerFactory},6832:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.EventCategories=t.createBatchQueue=t.manager=t.setHost=t.factory=void 0;var a=n(1746),s=r(n(8821)),c=r(n(647));t.factory=function(e){void 0===e&&(e={});var t=e.trackSession||void 0===e.trackSession;return t&&s.track(c.factory,{force:"force"===t}),c.factory(e)},t.setHost=c.setHost,t.manager=a.manager,t.createBatchQueue=a.createBatchQueue,t.EventCategories=c.EventCategories,t.BiLoggerClientFactory=c.BiLoggerClientFactory,t.default={factory:t.factory,setHost:c.setHost,manager:a.manager,createBatchQueue:a.createBatchQueue,EventCategories:c.EventCategories,BiLoggerClientFactory:c.BiLoggerClientFactory}},7737:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=t.EventCategories=t.PublishMethods=void 0,function(e){e.Auto="auto",e.PostMessage="postMessage",e.Fetch="fetch"}(t.PublishMethods||(t.PublishMethods={})),function(e){e.Essential="essential",e.Functional="functional",e.Analytics="analytics"}(t.EventCategories||(t.EventCategories={})),function(e){e[e.Unsupported=0]="Unsupported"}(t.Errors||(t.Errors={}))},6223:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name=n.constructor.name,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports.defined=function(e,t){if(void 0===e)throw new n(t)},e.exports.object=function(e,o){if(void 0!==e&&("object"!==(void 0===e?"undefined":t(e))||Array.isArray(e)||null===e))throw new n(o)},e.exports.ok=function(e,t){if(!e)throw new n(t)},e.exports.func=function(e,t){if(void 0!==e&&"function"!=typeof e)throw new n(t)},e.exports.boolean=function(e,t){if(void 0!==e&&"boolean"!=typeof e)throw new n(t)},e.exports.number=function(e,t){if(void 0!==e&&"number"!=typeof e)throw new n(t)},e.exports.array=function(e,t){if("function"==typeof Array.isArray){if(!Array.isArray(e))throw new n(t)}else if("[object Array]"!==Object.prototype.toString.call(e))throw new n(t)},e.exports.AssertionError=n},619:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=n(6223),a=n(7898),s=n(6374),c=n(7751),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=[],this._validators=[],this._defaults={},this._nonEssentialDefaults={},this._events={},this._isMuted=!1,this._eventTransformer=null,this._payloadTransformer=null,this._consentPolicyGetter=null,this._maxBatchSize=null,this._batchQueue=null}return i(e,[{key:"addPublisher",value:function(e){return r.defined(e,"Publisher must be provided"),r.ok("function"==typeof e,"Expected a publisher function"),this._publishers.push(e),this}},{key:"addValidator",value:function(e){return r.defined(e,"Validator must be provided"),r.ok("object"===(void 0===e?"undefined":o(e))&&e,"Expected a validator object"),r.ok(e.execute&&e.match,"Provided validator does not match the interface"),this._validators.push(e),this}},{key:"setDefaults",value:function(e){return r.defined(e,"Defaults must be provided"),r.object(e,"Defaults must be an object"),this._defaults=e,this}},{key:"updateDefaults",value:function(e){return r.defined(e,"Defaults must be provided"),r.object(e,"Defaults must be an object"),Object.assign(this._defaults,e),this}},{key:"updateNonEssentialDefaults",value:function(e){return r.defined(e,"Non-essential Defaults must be provided"),r.object(e,"Non-essential Defaults must be an object"),Object.assign(this._nonEssentialDefaults,e),this}},{key:"setEvents",value:function(e){return r.defined(e,"Events must be provided"),r.object(e,"Events must be an object"),this._events=e,this}},{key:"setDefaultValueTimeout",value:function(e){return r.defined(e,"Default Value Timeout must be provided"),this._defaultValueTimeout=e,this}},{key:"setDefaultContinueOnFail",value:function(e){return r.defined(e,"Default Continue On Fail must be provided"),this._defaultContinueOnFail=e,this}},{key:"setPublisherFailHandler",value:function(e){return r.defined(e,"Publisher Fail Handler must be provided"),this._onPublisherFailHandler=e,this}},{key:"setMuted",value:function(e){return r.defined(e,"Is Muted must be provided"),r.boolean(e,"Is Muted must be a boolean"),this._isMuted=e,this}},{key:"setMaxBatchSize",value:function(e){return r.defined(e,"Max Batch Size must be provided"),r.number(e,"Max Batch Size must be a number"),r.ok(e>0,"Max Batch Size must be higher than 0"),this._maxBatchSize=e,this}},{key:"setGlobalBatchQueue",value:function(e){return r.defined(e,"Global Batch Queue must be provided"),r.ok(e instanceof c,"Global Batch Queue must be an instance of BatchQueue"),this._globalBatchQueue=e,this}},{key:"withEventTransformer",value:function(e){return r.defined(e,"Event Transformer must be provided"),r.func(e,"Event Transformer must be a function"),this._eventTransformer=e,this}},{key:"withPayloadTransformer",value:function(e){return r.defined(e,"Payload Transformer must be provided"),r.func(e,"Payload Transformer must be a function"),this._payloadTransformer=e,this}},{key:"withConsentPolicyGetter",value:function(e){return r.defined(e,"Consent Policy Getter must be provided"),r.func(e,"Consent Policy Getter must be a function"),this._consentPolicyGetter=e,this}},{key:"logger",value:function(e){var t=this,n=new a({publishers:this._publishers,validators:this._validators,defaults:this._defaults,events:this._events,defaultValueTimeout:this._defaultValueTimeout,defaultContinueOnFail:this._defaultContinueOnFail,onPublisherFailHandler:this._onPublisherFailHandler,isMuted:function(){return t._isMuted},eventTransformer:this._eventTransformer,payloadTransformer:this._payloadTransformer,consentPolicyGetter:this._consentPolicyGetter,nonEssentialDefaults:this._nonEssentialDefaults,maxBatchSize:this._maxBatchSize,globalBatchQueue:this._globalBatchQueue},e);return s.manager.notifyLoggerCreated(n),n}}]),e}();e.exports=l},6374:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=n(6223),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}return o(e,[{key:"reset",value:function(){this._handlers=[]}},{key:"onLoggerCreated",value:function(e){var t=this;return i.defined(e,"Handler must be provided."),i.func(e,"Handler must be a function."),this._handlers.push(e),function(){var n=t._handlers.indexOf(e);-1!==n&&t._handlers.splice(n,1)}}},{key:"notifyLoggerCreated",value:function(e){this._handlers.forEach((function(t){return t(e)}))}}]),e}();e.exports={manager:new r,BiLoggerManager:r}},7898:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=n(6223),a=n(7532),s=a.mapValues,c=a.filterValues,l=n(2603),u=n(6756),p=n(7751),d=n(9155),f=d.shouldMuteByCategory,g=d.shouldMuteNonEssentials,m=d.getPolicy,h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=t.publishers,this._validators=t.validators||[],this._defaults=t.defaults,this._ownDefaults={},this._events=t.events||{},this._context=n||{},this._defaultValueTimeout=t.defaultValueTimeout||5e3,this._defaultContinueOnFail=t.defaultContinueOnFail||!1,this._onPublisherFailHandler=t.onPublisherFailHandler||e._defaultPublisherFailHandler,this._isMuted=t.isMuted||function(){return!1},this._eventTransformer=t.eventTransformer||function(e){return e},this._payloadTransformer=t.payloadTransformer||function(e){return e},this._consentPolicyGetter=t.consentPolicyGetter||function(){return null},this._nonEssentialDefaults=t.nonEssentialDefaults||{},this._maxBatchSize=t.maxBatchSize||100,this._globalBatchQueue=t.globalBatchQueue}return i(e,[{key:"report",value:function(e){r.defined(e,"Data must be provided"),r.object(e,"Data must be an object");var t=e.src,n=e.evid,i=e.params,a=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["src","evid","params"]);return this.log(o({src:t,evid:n},i),a)}},{key:"log",value:function(e,t,n){var i=this;r.defined(e,"Event object or event key must be provided.");var a=this._extractEventAndContext(e,t,n),s=a.event,c=a.context,l=m(this._consentPolicyGetter),u=o({},this._context,c);if(this._isMuted()||f(l,u.category))return Promise.resolve();if(u.useBatch){var p=this._initQueue(u,l),d=function(e){var t=i._eventTransformer(e,u);return p.feed(t,u)};if(this._globalBatchQueue)return this._getDefaults(this._defaults).then((function(e){var t=o({},e,i._getDynamicNonEssentialDefaults(l),i._getStaticNonEssentialDefaults(l),s,i._getPolicyFields(l,u.category));return d(t)}));var g=o({},this._getDynamicDefaults(this._defaults),this._getDynamicNonEssentialDefaults(l),s,this._getPolicyFields(l,u.category));return d(g)}return this._getDefaults(this._defaults).then((function(e){var t=Object.assign(e,i._getDynamicNonEssentialDefaults(l),i._getStaticNonEssentialDefaults(l),s,i._getPolicyFields(l,u.category));if(!(0===i._validators.length||i._validators.some((function(e){return e.match(t)&&(e.execute(t)||!0)}))))throw new Error("No validator accepted the event. Source: "+t.src+" Evid: "+(t.evid||t.evtId));var n=i._eventTransformer(t,u);return n=i._payloadTransformer(n,u),i._send(n,u)}))}},{key:"flush",value:function(){return this._queue?this._queue.flush():Promise.resolve()}},{key:"updateDefaults",value:function(e){return r.defined(e,"Defaults must be provided"),r.object(e,"Defaults must be an object"),Object.assign(this._ownDefaults,e),this}},{key:"_send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all(this._publishers.map((function(i){var r=o({},e);return Promise.resolve().then((function(){return i(r,n)})).catch((function(n){return t._onPublisherFailHandler(n,{publisherName:i.name,payload:e})}))}))).then((function(){}))}},{key:"_extractEventAndContext",value:function(e,t,n){var i=void 0,a={};if("string"!=typeof e)i=e,a=t||a;else{if(!(i=this._events[e]))throw new r.AssertionError("Event with key '"+e+"' not found in event map.");t&&(i=o({},i,t),a=n||a)}return{event:i,context:a}}},{key:"_initQueue",value:function(e,t){var n=this;if(this._queue)return this._queue;this._queue=this._globalBatchQueue||new p;return this._queue.init({delayMs:!0===e.useBatch?300:e.useBatch,maxBatchSize:this._maxBatchSize,useThrottle:!!this._globalBatchQueue,optimizeBatch:!!this._globalBatchQueue},(function(o){n._globalBatchQueue||(o.g=Object.assign(n._getStaticDefaults(n._defaults),n._getStaticNonEssentialDefaults(t)));var i=n._payloadTransformer(o,e);return n._send(i,e)})),this._queue}},{key:"_handleDefaultsError",value:function(e){return this._defaultContinueOnFail?(u.error(e),null):Promise.reject(e)}},{key:"_getDynamicNonEssentialDefaults",value:function(e){if(!g(e))return this._getDynamicDefaults(this._nonEssentialDefaults)}},{key:"_getStaticNonEssentialDefaults",value:function(e){if(!g(e))return this._getStaticDefaults(this._nonEssentialDefaults)}},{key:"_withOwnDefaults",value:function(e){return Object.assign({},e,this._ownDefaults)}},{key:"_getDynamicDefaults",value:function(e){e=this._withOwnDefaults(e);var t=c(e,(function(e){return"function"==typeof e}));return s(t,(function(e){return e()}))}},{key:"_getStaticDefaults",value:function(e){return e=this._withOwnDefaults(e),c(e,(function(e){return"function"!=typeof e}))}},{key:"_getDefaults",value:function(e){var t=this;if(!(e=this._withOwnDefaults(e)))return Promise.resolve({});var n=s(e,(function(e,n){if("function"==typeof e)try{e=e()}catch(e){return t._handleDefaultsError(e)}return e&&"function"==typeof e.then?l.timedPromise(e,{message:"Cannot get default value '"+n+" for BI Event'",timeout:t._defaultValueTimeout}).catch((function(e){return t._handleDefaultsError(e)})):e}));return l.allAsObject(n)}},{key:"_encodePolicyValue",value:function(e,t){return e?"boolean"==typeof e[t]?e[t]?1:0:e[t]:1}},{key:"_getPolicyFields",value:function(e,t){return{_isca:this._encodePolicyValue(e,"analytics"),_iscf:this._encodePolicyValue(e,"functional"),_ispd:e.__default?1:0,_ise:"essential"===t?1:0}}}],[{key:"_defaultPublisherFailHandler",value:function(e,t){return t.publisherName}}]),e}();e.exports=h},9155:function(e){"use strict";var t={functional:!0,analytics:!0,__default:!0},n=function(e){return!1===e.functional||!1===e.analytics};e.exports={shouldMuteNonEssentials:n,shouldMuteByCategory:function(e,t){return"essential"!==t&&("functional"===t||"analytics"===t?!1===e[t]:n(e))},getPolicy:function(e){return"function"==typeof e&&e()||t}}},1746:function(e,t,n){"use strict";var o=n(619),i=n(7898),r=n(6374),a=n(7751);e.exports.BiLoggerFactory=o,e.exports.BiLogger=i,e.exports.BiLoggerManager=r.BiLoggerManager,e.exports.factory=function(){return new o},e.exports.manager=r.manager,e.exports.createBatchQueue=function(){return new a}},7751:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var a=n(5854),s=n(6959),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initilized=!1}return o(e,[{key:"_reset",value:function(){var e=this;this._startTime=Date.now(),this._resolve=null,this._promise=new Promise((function(t){return e._resolve=t}))}},{key:"init",value:function(e,t){var n=this,o=e.delayMs,i=e.maxBatchSize,r=e.useThrottle,c=e.optimizeBatch;this._initilized||(this._maxBatchSize=i,this._optimizeBatch=c,this._queue=[],this._flushHandler=t,this._flushDebounced=r?s((function(){return n.flush()}),o):a((function(){return n.flush()}),o),this._initilized=!0,this._reset())}},{key:"flush",value:function(){if(!this._queue.length)return Promise.resolve();var e=this._queue.splice(0,this._queue.length),t=this._resolve,n=this._startTime;this._reset();var o=function(e,t){return{dt:Date.now()-t,e:e,g:{}}}(e,n);return this._optimizeBatch&&(o=function(e){var t={},n=e.e.length,o=e.e.map((function(e){var n=Object.keys(e.f).map((function(n){var o=e.f[n],i=n+"|"+o;return t[i]=t[i]||0,t[i]++,[n,o,i]}));return r({},e,{f:n})})),a={};return o=o.map((function(e){var o=e.f.reduce((function(e,o){var r=i(o,3),s=r[0],c=r[1],l=r[2];return t[l]===n?a[s]=c:e[s]=c,e}),{});return r({},e,{f:o})})),r({},e,{e:o,g:a})}(o)),this._flushHandler(o).then(t)}},{key:"feed",value:function(e,t){return this._queue.push(function(e,t,n){return{dt:Date.now()-n,f:e,context:t}}(e,t,this._startTime)),this._queue.length===this._maxBatchSize?this.flush():(this._flushDebounced(),this._promise)}}]),e}();e.exports=c},7532:function(e){"use strict";e.exports.mapValues=function(e,t){return e?Object.keys(e).reduce((function(n,o){return n[o]=t(e[o],o,e),n}),{}):{}},e.exports.filterValues=function(e,t){return e?Object.keys(e).reduce((function(n,o){return t(e[o],o,e)&&(n[o]=e[o]),n}),{}):{}}},5854:function(e){"use strict";e.exports=function(e,t,n){var o=void 0;return function(){var i=this,r=arguments,a=n&&!o;clearTimeout(o),o=setTimeout((function(){o=null,n||e.apply(i,r)}),t),a&&e.apply(i,r)}}},6756:function(e){"use strict";e.exports={error:function(){var e;console&&console.error&&(e=console).error.apply(e,arguments)}}},2603:function(e){"use strict";e.exports.timedPromise=function(e,t){var n=t.message,o=t.timeout,i=new Promise((function(e,t){setTimeout(t,o,n?"Timeout: "+n:"Timeout")}));return Promise.race([e,i])},e.exports.allAsObject=function(e){var t=Object.keys(e);return Promise.all(t.map((function(t){return e[t]}))).then((function(e){return e.reduce((function(e,n,o){return e[t[o]]=n,e}),{})}))}},6959:function(e){"use strict";e.exports=function(e,t){var n=void 0;return function(){for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];n||(n=setTimeout((function(){e.apply(void 0,i),n=null}),t))}}},8144:function(e,t,n){var o;/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */e=n.nmd(e),function(i){var r=t,a=(e&&e.exports,"object"==typeof n.g&&n.g);a.global!==a&&a.window;var s=function(e){this.message=e};(s.prototype=new Error).name="InvalidCharacterError";var c=function(e){throw new s(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,p={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,o,i,r=e.length%3,a="",s=-1,u=e.length-r;++s<u;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,o=e.charCodeAt(++s),a+=l.charAt((i=t+n+o)>>18&63)+l.charAt(i>>12&63)+l.charAt(i>>6&63)+l.charAt(63&i);return 2==r?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),a+=l.charAt((i=t+n)>>10)+l.charAt(i>>4&63)+l.charAt(i<<2&63)+"="):1==r&&(i=e.charCodeAt(s),a+=l.charAt(i>>2)+l.charAt(i<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(u,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,o,i=0,r="",a=-1;++a<t;)o=l.indexOf(e.charAt(a)),n=i%4?64*n+o:o,i++%4&&(r+=String.fromCharCode(255&n>>(-2*i&6)));return r},version:"1.0.0"};void 0===(o=function(){return p}.call(t,n,t,e))||(e.exports=o)}()},9456:function(e,t){var n="undefined"!=typeof self?self:this,o=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function p(e){var t=new FileReader,n=u(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,o=l(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=u(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=r(e),t=a(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},c.prototype.delete=function(e){delete this.map[r(e)]},c.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},c.prototype.set=function(e,t){this.map[r(e)]=a(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),s(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),s(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),s(e)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var n,o,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),g.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function h(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(i))}})),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},f.call(m.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];y.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function v(e,o){return new Promise((function(i,r){var a=new m(e,o);if(a.signal&&a.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),o=n.shift().trim();if(o){var i=n.join(":").trim();t.append(o,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;i(new y(o,n))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&n.blob&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",l)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}v.polyfill=!0,e.fetch||(e.fetch=v,e.Headers=c,e.Request=m,e.Response=y),t.Headers=c,t.Request=m,t.Response=y,t.fetch=v,Object.defineProperty(t,"__esModule",{value:!0})}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var i=o;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},3158:function(e){var t,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,c=[],l=!1,u=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=a(p);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},4819:function(e,t,n){var o=n(8633),i=n(2516),r=i;r.v1=o,r.v4=i,e.exports=r},26:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var o=n||0,i=t;return i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+"-"+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]+i[e[o++]]}},1814:function(e,t,n){var o,i=n.g.crypto||n.g.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);o=function(){return i.getRandomValues(r),r}}if(!o){var a=new Array(16);o=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}e.exports=o},8633:function(e,t,n){var o=n(1814),i=n(26),r=o(),a=[1|r[0],r[1],r[2],r[3],r[4],r[5]],s=16383&(r[6]<<8|r[7]),c=0,l=0;e.exports=function(e,t,n){var o=t&&n||0,r=t||[],u=void 0!==(e=e||{}).clockseq?e.clockseq:s,p=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:l+1,f=p-c+(d-l)/1e4;if(f<0&&void 0===e.clockseq&&(u=u+1&16383),(f<0||p>c)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,l=d,s=u;var g=(1e4*(268435455&(p+=122192928e5))+d)%4294967296;r[o++]=g>>>24&255,r[o++]=g>>>16&255,r[o++]=g>>>8&255,r[o++]=255&g;var m=p/4294967296*1e4&268435455;r[o++]=m>>>8&255,r[o++]=255&m,r[o++]=m>>>24&15|16,r[o++]=m>>>16&255,r[o++]=u>>>8|128,r[o++]=255&u;for(var h=e.node||a,y=0;y<6;++y)r[o+y]=h[y];return t||i(r)}},2516:function(e,t,n){var o=n(1814),i=n(26);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||i(a)}},9479:function(t){"use strict";t.exports=e},3213:function(e,t,n){var o=n(6174);e.exports=function(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},7662:function(e,t,n){var o=n(8114).default;e.exports=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6174:function(e,t,n){var o=n(8114).default,i=n(7662);e.exports=function(e){var t=i(e,"string");return"symbol"===o(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8114:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1404:function(e,t,n){var o;if("function"==typeof fetch&&(o=void 0!==n.g&&n.g.fetch?n.g.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),"undefined"==typeof window||void 0===window.document){var i=o||n(9456);i.default&&(i=i.default),t.default=i,e.exports=t.default}},2799:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var i=Object.create(null);r.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var s=2&o&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((function(t){a[t]=function(){return e[t]}}));return a.default=function(){return e},r.d(i,a),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var a={};return function(){"use strict";r.r(a),r.d(a,{editorReady:function(){return Rp},exports:function(){return Op},getAppManifest:function(){return Tp},getControllerPresets:function(){return xp},onEvent:function(){return Mp}});var e={};r.r(e),r.d(e,{ALL_MEMBERS_APP_DEF_ID:function(){return Ce},ALWAYS_REGISTERED_APPS:function(){return $e},ALWAYS_REGISTERED_SOCIAL_MA_APPS:function(){return Je},APP_TOKEN:function(){return ae},BLOG_WRITER_ROLE:function(){return de},BLOG_WRITER_ROLES:function(){return pe},CLASSIC_EDITOR_MAIN_SECTION_WIDTH:function(){return ue},CONTROLLER_COMP_CUSTOM_ID:function(){return xe},CONTROLLER_COMP_DEF:function(){return fe},DEFAULT_MENU_ORDER:function(){return Me},LOGIN_COMP_DEF:function(){return ge},LOGIN_COMP_DEF_ECOM:function(){return me},MEMBERS_LIST_APP_DEF_ID:function(){return Xe},MEMBERS_LIST_PAGE_ID:function(){return Ye},MEMBERS_PAGES_GROUP_NAME:function(){return Oe},MEMBERS_PAGES_MIN_HEIGHT:function(){return Ie},MEMBERS_PAGES_PANEL_HELP_ID:function(){return le},MENU_COMP_DEF:function(){return he},MENU_COMP_DEF_HORIZONTAL:function(){return ye},MENU_COMP_DEF_HORIZONTAL_RTL:function(){return ve},MENU_COMP_DEF_RTL:function(){return be},MENU_IDS:function(){return we},MY_ACCOUNT_APP_DEF_ID:function(){return He},MY_ACCOUNT_WIDGET_ID:function(){return We},NEW_PAGE_ROUTE:function(){return Ue},PAGE_INFO_BWP_HELP_ID:function(){return se},PAGE_INFO_GENERIC_HELP_ID:function(){return ce},PERMISSION_STATES:function(){return Ke},PROFILE_PAGE_BOB_APP_DEF_ID:function(){return Ge},PROFILE_WIDGET_APP:function(){return Te},PW_HORIZONTAL_LAYOUT:function(){return Be},PW_RESPONSIVE_LAYOUT:function(){return ke},PW_SIDEBAR_SOSP_BOTTOM_MARGIN:function(){return Ne},PW_SIDEBAR_SOSP_TOP_MARGIN:function(){return Le},PW_VERTICAL_LAYOUT:function(){return je},RENAME_ROUTER_PANEL_HEIGHT:function(){return Re},ROUTERS:function(){return _e},SANTA_MEMBERS_APP_ID:function(){return Fe},SECTION_DEFAULT_LAYOUT:function(){return De},SECTION_DEFAULT_LAYOUT_HORIZONTAL:function(){return Ae},SOCIAL_APPS_IDS:function(){return qe},SOSP_CONTAINER:function(){return Pe},SOSP_CONTAINER_CUSTOM_ID:function(){return Ee},SOSP_CONTAINER_HORIZONTAL:function(){return Se},UNDELETABLE_PAGES:function(){return ze},getMyAccountInstallDefinition:function(){return Ve}});var t={};r.r(t),r.d(t,{getDefinition:function(){return aa},ids:function(){return ra}});var n={};r.r(n),r.d(n,{getDefinition:function(){return ca},ids:function(){return sa}});var o={};r.r(o),r.d(o,{getDefinition:function(){return ua},ids:function(){return la}});var i={};r.r(i),r.d(i,{getDefinition:function(){return da},ids:function(){return pa}});var s={};r.r(s),r.d(s,{getDefinition:function(){return ga},ids:function(){return fa}});var c={};r.r(c),r.d(c,{getDefinition:function(){return ha},ids:function(){return ma}});var l={};r.r(l),r.d(l,{getDefinition:function(){return ba},ids:function(){return ya}});var u={};r.r(u),r.d(u,{getDefinition:function(){return wa},ids:function(){return va}});var p={};r.r(p),r.d(p,{getDefinition:function(){return Sa},ids:function(){return Pa}});var d={};r.r(d),r.d(d,{getDefinition:function(){return Ia},ids:function(){return _a}});var f={};r.r(f),r.d(f,{getDefinition:function(){return Aa},ids:function(){return Da}});var g={};r.r(g),r.d(g,{getDefinition:function(){return xa},ids:function(){return Oa}});var m={};r.r(m),r.d(m,{getDefinition:function(){return Ra},ids:function(){return Ea}});var h={};r.r(h),r.d(h,{getDefinition:function(){return Ta},ids:function(){return Ma}});var y={};r.r(y),r.d(y,{getDefinition:function(){return ka},ids:function(){return Ca}});var b={};r.r(b),r.d(b,{getDefinition:function(){return Na},ids:function(){return La}});var v={};r.r(v),r.d(v,{getDefinition:function(){return Ba},ids:function(){return ja}});var w={};r.r(w),r.d(w,{getDefinition:function(){return Ua},ids:function(){return Ka}});var P={};r.r(P),r.d(P,{getDefinition:function(){return Ha},ids:function(){return Fa}});var S={};r.r(S),r.d(S,{getDefinition:function(){return Ga},ids:function(){return Wa}});var _={};r.r(_),r.d(_,{getDefinition:function(){return qa},ids:function(){return Va}});var I={};r.r(I),r.d(I,{getDefinition:function(){return $a},ids:function(){return za}});var D={};r.r(D),r.d(D,{getDefinition:function(){return Xa},ids:function(){return Ja}});var A={};r.r(A),r.d(A,{getDefinition:function(){return Qa},ids:function(){return Ya}});var O={};r.r(O),r.d(O,{getDefinition:function(){return es},ids:function(){return Za}});var x={};r.r(x),r.d(x,{getDefinition:function(){return ns},ids:function(){return ts}});var E,R,M,T=r(9186);!function(e){e.About="about",e.MyAccount="member_info",e.FollowingFollowers="following_followers",e.MyRewards="My Rewards",e.ForumPosts="member-posts-page",e.ForumComments="member-comments-page",e.Events="events_members_page",e.BlogComments="member-comments-page",e.BlogLikes="member-likes-page",e.BlogPosts="member-posts-page",e.BlogDrafts="member-drafts-page",e.MyPosts="My Posts",e.MyChallenges="My Challenges",e.MyPrograms="My Programs",e.MySubscriptions="My Subscriptions",e.MyBookings="bookings_member_area",e.Notifications="notifications_app",e.MyAddresses="my_addresses",e.MyOrders="order_history",e.MyWallet="my_wallet",e.Settings="settings",e.SharedGallery="Gallery",e.FileShare="wix_file_share_members_page",e.MyWishlist="wishlist",e.ContributorProfile="contributor-profile",e.TestPublic="test-vertical-public-widget",e.TestPrivate="test-vertical-private-widget"}(E||(E={})),function(e){e.About="14dbef06-cc42-5583-32a7-3abd44da4908",e.MyAccount="14cffd81-5215-0a7f-22f8-074b0e2401fb",e.Members="14dbefd2-01b4-fb61-32a7-3abd44da4908",e.Blog="14bcded7-0066-7c35-14d7-466cb3f09103",e.FileShare="1537b24e-29d1-6d8f-b8e1-d6860f2f70b9",e.Followers="14ebe801-d78a-daa9-c9e5-0286a891e46f",e.Forum="14724f35-6794-cd1a-0244-25fd138f9242",e.Addresses="1505b775-e885-eb1b-b665-1e485d9bf90e",e.Bookings="13d21c63-b5ec-5912-8397-c3a5ddb27a97",e.Events="140603ad-af8d-84a5-2c80-a0f60cb47351",e.Stores="1380b703-ce81-ff05-f115-39571d94dfcd",e.Wallet="4aebd0cb-fbdb-4da7-b5d1-d05660a30172",e.Notifications="14f25924-5664-31b2-9568-f9c5ed98c9b1",e.Settings="14f25dc5-6af3-5420-9568-f9c5ed98c9b1",e.SharedGallery="476dc2dd-e16e-43b0-a0aa-1a486c78fbe2",e.Subscriptions="2bef2abe-7abe-43da-889c-53c1500a328c",e.Programs="2936472a-a1ed-4ae5-9f71-614313a9f4e7",e.Rewards="16ed1ac6-01cb-4fb6-a59e-c215cce8fdf6",e.TestVertical="567d5e7e-4224-4488-a24b-d1ee5f691e54",e.ContributorProfile="f9694946-7e53-4ab4-9cc7-21d275993d39"}(R||(R={})),function(e){e.About="14dbefb9-3b7b-c4e9-53e8-766defd30587",e.MyAccount="14dd1af6-3e02-63db-0ef2-72fbc7cc3136",e.MyRewards="c85a2896-9f7c-4cf1-9bf8-95852cc5219a",e.ForumPosts="14f0266c-e0a3-afc6-d07c-5be8e20949cd",e.ForumComments="14f51b00-3ada-272e-b6db-34d5da9dd623",e.Events="405eb115-a694-4e2b-abaa-e4762808bb93",e.FollowingFollowers="14ebe825-b273-0d5f-0fd1-e6293322b83b",e.BlogComments="14f260f9-c2eb-50e8-9b3c-4d21861fe58f",e.BlogLikes="14f26109-514f-f9a8-9b3c-4d21861fe58f",e.BlogPosts="14f26118-b65b-b1c1-b6db-34d5da9dd623",e.BlogDrafts="14f260e4-ea13-f861-b0ba-4577df99b961",e.MyPosts="e5a2773b-0e6b-4cbb-a012-3b4a69e92046",e.MyChallenges="384628b7-c716-4410-8fc5-4e2bd5aad178",e.MyPrograms="c88902a1-7fbf-4ff1-b19a-af39c48bc740",e.MySubscriptions="b29db04a-a8f2-4bfe-bbad-21c99c1054b5",e.MyBookings="14edb332-fdb9-2fe6-0fd1-e6293322b83b",e.Notifications="14f2595a-a352-3ff1-9b3c-4d21861fe58f",e.Settings="14f25dd2-f9b0-edc2-f38e-eded5da094aa",e.MyAddresses="151290e1-62a2-0775-6fbc-02182fad5dec",e.MyOrders="14e121c8-00a3-f7cc-6156-2c82a2ba8fcb",e.MyWallet="6467c15e-af3c-4e8d-b167-41bfb8efc32a",e.SharedGallery="11b7884b-eba1-4a47-b5c8-7afb395f966a",e.FileShare="35a4cb97-c8cd-4ee9-ac3c-89c13c8493d6",e.TestPublic="eed51e05-c783-4506-9fb3-0f5c47d6dea2",e.TestPrivate="cc87eeb5-95a9-4f49-b7c3-5246eb39fee0",e.MyWishlist="a63a5215-8aa6-42af-96b1-583bfd74cff5",e.ContributorProfile="",e.ProfileCard="14cefc05-d163-dbb7-e4ec-cd4f2c4d6ddd"}(M||(M={}));M.About,E.About,R.About,M.MyAccount,E.MyAccount,R.MyAccount,M.MyRewards,E.MyRewards,R.Rewards,M.ForumPosts,E.ForumPosts,R.Forum,M.ForumComments,E.ForumComments,R.Forum,M.Events,E.Events,R.Events,M.FollowingFollowers,E.FollowingFollowers,R.Followers,M.BlogComments,E.BlogComments,R.Blog,M.BlogLikes,E.BlogLikes,R.Blog,M.BlogPosts,E.BlogPosts,R.Blog,M.BlogDrafts,E.BlogDrafts,R.Blog,M.MyPosts,E.MyPosts,R.Blog,M.MyChallenges,E.MyChallenges,R.Programs,M.MyPrograms,E.MyPrograms,R.Programs,M.MySubscriptions,E.MySubscriptions,R.Subscriptions,M.MyBookings,E.MyBookings,R.Bookings,M.Notifications,E.Notifications,R.Notifications,M.MyAddresses,E.MyAddresses,R.Addresses,M.MyOrders,E.MyOrders,R.Stores,M.MyWishlist,E.MyWishlist,R.Stores,M.MyWallet,E.MyWallet,R.Wallet,M.Settings,E.Settings,R.Settings,M.SharedGallery,E.SharedGallery,R.SharedGallery,M.FileShare,E.FileShare,R.FileShare,M.TestPublic,E.TestPublic,R.TestVertical,M.TestPrivate,E.TestPrivate,R.TestVertical,M.ContributorProfile,E.ContributorProfile,R.ContributorProfile,M.ProfileCard,E.MyAccount,R.MyAccount;const C={appDefinitionId:"14dbef06-cc42-5583-32a7-3abd44da4908",pageId:"about",widgetId:M.About},k={appDefinitionId:"14cffd81-5215-0a7f-22f8-074b0e2401fb",pageId:"member_info",widgetId:M.MyAccount},L={appDefinitionId:T.xA},N={appDefinitionId:T.dn,pageId:"member-likes-page",widgetId:M.BlogLikes},j={appDefinitionId:T.dn,pageId:"member-comments-page",widgetId:M.BlogComments},B={appDefinitionId:T.dn,pageId:"member-posts-page",widgetId:M.BlogPosts},K=(M.ContributorProfile,{appDefinitionId:"1537b24e-29d1-6d8f-b8e1-d6860f2f70b9",pageId:"wix_file_share_members_page",widgetId:M.FileShare}),U={appDefinitionId:"14ebe801-d78a-daa9-c9e5-0286a891e46f",pageId:"following_followers",widgetId:M.FollowingFollowers},F={appDefinitionId:T.tt,pageId:"member-comments-page",widgetId:M.ForumComments},H={appDefinitionId:T.tt,pageId:"member-posts-page",widgetId:M.ForumPosts},W={appDefinitionId:"1505b775-e885-eb1b-b665-1e485d9bf90e",pageId:"my_addresses",widgetId:M.MyAddresses},G={appDefinitionId:T.DI,pageId:"bookings_member_area",widgetId:M.MyBookings},V={appDefinitionId:T.dn,pageId:"member-drafts-page",widgetId:M.BlogDrafts},q={appDefinitionId:T.dn,pageId:"My Posts",widgetId:M.MyPosts},z={appDefinitionId:T.sV,pageId:"events_members_page",widgetId:M.Events},$={appDefinitionId:T.ZJ,pageId:"order_history",widgetId:M.MyOrders},J={appDefinitionId:"4aebd0cb-fbdb-4da7-b5d1-d05660a30172",pageId:"my_wallet",widgetId:M.MyWallet},X={appDefinitionId:T.ZJ,pageId:"wishlist",widgetId:M.MyWishlist},Y={appDefinitionId:T.wn,pageId:"notifications_app",widgetId:M.Notifications},Q={appDefinitionId:"14f25dc5-6af3-5420-9568-f9c5ed98c9b1",pageId:"settings",widgetId:M.Settings},Z={appDefinitionId:"476dc2dd-e16e-43b0-a0aa-1a486c78fbe2",pageId:"Gallery",widgetId:M.SharedGallery},ee={appDefinitionId:"2bef2abe-7abe-43da-889c-53c1500a328c",pageId:"My Subscriptions",widgetId:M.MySubscriptions},te={appDefinitionId:"2936472a-a1ed-4ae5-9f71-614313a9f4e7",pageId:"My Challenges",widgetId:M.MyChallenges},ne={appDefinitionId:"2936472a-a1ed-4ae5-9f71-614313a9f4e7",pageId:"My Programs",widgetId:M.MyPrograms},oe={appDefinitionId:"16ed1ac6-01cb-4fb6-a59e-c215cce8fdf6",pageId:"My Rewards",widgetId:M.MyRewards},ie={appDefinitionId:"567d5e7e-4224-4488-a24b-d1ee5f691e54",pageId:"test-vertical-public-widget",widgetId:M.TestPublic},re={appDefinitionId:"567d5e7e-4224-4488-a24b-d1ee5f691e54",pageId:"test-vertical-private-widget",widgetId:M.TestPrivate},ae="",se="890d7956-6c2e-4376-a352-48e029ae7b64",ce="48dc465b-9573-4b0c-8ced-2ab2c2064dd1",le="7710f007-cbdb-4b77-bb8b-fd4d65424ab1",ue=980,pe=["admin","blog_writer","blog_editor"],de="blog_writer",fe={type:"Component",skin:"platform.components.skins.controllerSkin",layout:{width:40,height:40,x:20,y:15,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"platform.components.AppController",data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"Members controller",controllerType:"members"},style:{type:"TopLevelStyle",style:{groups:{},properties:{"alpha-bg":"1","alpha -bgh":"1","alpha - brd":"1","alpha - brdh":"1","alpha - txt":"1","alpha - txth":"1",bg:"#3D9BE9",bgh:"#2B689C","boxShadowToggleOn -shd":"false",brd:"#2B689C",brdh:"#3D9BE9",brw:"0px",fnt:"normal normal normal 14px/1.4em raleway",rd:"20px",shd:"0 1px 4px rgba(0, 0, 0, 0.6);",txt:"#FFFFFF",txth:"#FFFFFF"},propertiesSource:{bg:"value",bgh:"value",brd:"value",brdh:"value",brw:"value",fnt:"value",rd:"value",shd:"value",txt:"value",txth:"value"}},componentClassName:"platform.components.AppController",skin:"platform.components.skins.controllerSkin"}},ge={type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",layout:{width:120,height:40,x:850,y:24,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.LoginSocialBar",data:{type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:null,iconItemsRef:null,language:"en",role:"members_login"},props:{type:"LoginSocialBarProperties",buttonsDirection:"ltr",iconSize:26,dropDownTextAlignment:"left",buttonsAlignment:"right"},style:{type:"TopLevelStyle",style:{properties:{"alpha-bg":"0","alpha-brd":"1","alpha-brd-dd":"0.2","badge-bg":"#E21C21","badge-txt":"color_11",bg:"color_11","bg-dd":"color_11","boxShadowToggleOn-shd":"false","boxShadowToggleOn-shd-dd":"false",brd:"color_15","brd-dd":"color_15",brw:"0","brw-dd":"1px",fillcolor:"color_18",fnt:"font_8","fnt-size-dd":"15px",rd:"0px","rd-dd":"0px",shd:"0 0 0 transparent","shd-dd":"0 0 0 transparent",txt:"color_18","txt-dd":"color_15",txth:"color_19","txth-dd":"color_19","txt-slct-dd":"color_19",avatarAndArrowStrokeWidth:"0",avatarCornerRadius:"100px"},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.LoginSocialBar",pageId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin"}},me={layout:{x:818,y:24,fixedPosition:!1,width:120,height:40,scale:1,rotationInDegrees:0},componentType:"wysiwyg.viewer.components.LoginSocialBar",type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",data:{type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:null,iconItemsRef:null,language:"en",role:"members_login"},props:{type:"LoginSocialBarProperties",buttonsDirection:"ltr",iconSize:26,dropDownTextAlignment:"left",buttonsAlignment:"right"},style:{type:"TopLevelStyle",style:{properties:{"alpha-bg":"0","alpha-brd":"1","alpha-brd-dd":"0.2","badge-bg":"#E21C21","badge-txt":"color_11",bg:"color_11","bg-dd":"color_11","boxShadowToggleOn-shd":"false","boxShadowToggleOn-shd-dd":"false",brd:"color_15","brd-dd":"color_15",brw:"0","brw-dd":"1px",fillcolor:"color_18",fnt:"font_8","fnt-size-dd":"15px",rd:"0px","rd-dd":"0px",shd:"0 0 0 transparent","shd-dd":"0 0 0 transparent",txt:"color_18","txt-dd":"color_15",txth:"color_19","txth-dd":"color_19","txt-slct-dd":"color_19",avatarAndArrowStrokeWidth:"0",avatarCornerRadius:"100px"},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.LoginSocialBar",pageId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin"},connections:{type:"ConnectionList",items:[{type:"WixCodeConnectionItem",role:"loginSocialBar1"},{type:"ConnectionItem",role:"members_login",config:"{}",controllerId:"dataItem-j6gb4xg1"}]},activeModes:{"masterPage-mode-j6gb4xmc":{modeType:"SHOW_ON_SOME_PAGES"}}},he={type:"Component",layout:{width:250,height:94,x:20,y:275,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",data:{type:"CustomMenuDataRef",menuRef:"#MEMBERS_SUB_MENU",role:"members_menu"},props:{type:"VerticalMenuProperties",itemsAlignment:"left",subMenuOpenSide:"right",originalHeight:210,menuItemHeight:40},style:{type:"TopLevelStyle",style:{properties:{SKINS_bgSubmenu:"#FFFFFF",SKINS_fntSubmenu:"font_8",SKINS_submenuBR:"0",SKINS_submenuMargin:"0","alpha-SKINS_bgSubmenu":"1","alpha-bg":"1","alpha-bgh":"1","alpha-bgs":"1","alpha-brd":"0.2","alpha-sep":"1",bg:"color_11",bgh:"color_11",bgs:"color_11","boxShadowToggleOn-shd":"false",brd:"color_15",brw:"1px",fnt:"font_8",rd:"0",sep:"color_15",sepw:"0",shd:"0",textSpacing:"30",txt:"color_15",txth:"color_14",txts:"color_18"},propertiesSource:{SKINS_bgSubmenu:"theme",SKINS_fntSubmenu:"theme",SKINS_submenuBR:"value",SKINS_submenuMargin:"value","alpha-SKINS_bgSubmenu":"value","alpha-bg":"value","alpha-bgh":"value","alpha-bgs":"value","alpha-brd":"value","alpha-sep":"value",bg:"theme",bgh:"theme",bgs:"theme","boxShadowToggleOn-shd":"value",brd:"theme",brw:"value",fnt:"theme",rd:"value",sep:"theme",sepw:"value",shd:"value",textSpacing:"value",txt:"theme",txth:"value",txts:"value"},groups:{}},componentClassName:"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",pageId:"",compId:"i765dc0m",styleType:"custom",skin:"wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSolidColorSkin"},id:"i765dc0m"},ye={...he,componentType:"wysiwyg.viewer.components.menus.DropDownMenu",layout:{width:956,height:40,x:12,y:250,scale:1,rotationInDegrees:0,fixedPosition:!1},style:{type:"TopLevelStyle",style:{properties:{"boxShadowToggleOn-shd":"true","alpha-bgDrop":"1","alpha-brdh":"1","alpha-brd":"0","alpha-brds":"1",bgDrop:"color_11",bg:"color_11",brd:"color_15",brdh:"color_17",brds:"color_18",fnt:"font_8",menuTotalBordersX:"0",pad:"10",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.2)",txt:"color_15",txth:"color_17",txts:"color_18"},propertiesSource:{"boxShadowToggleOn-shd":"value","alpha-bgDrop":"value","alpha-brd":"value","alpha-brdh":"value","alpha-brds":"value",bgDrop:"theme",bg:"theme",brd:"theme",brdh:"theme",brds:"theme",fnt:"theme",menuTotalBordersX:"value",pad:"value",rd:"value",shd:"value",txt:"theme",txth:"theme",txts:"theme"}},styleType:"custom",componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin"},props:{type:"HorizontalMenuProperties",alignButtons:"left",alignText:"left",sameWidthButtons:!1,stretchButtonsToMenuWidth:!1,moreButtonLabel:"More",moreItemHeight:15}},be={...he,props:{...he.props,itemsAlignment:"right"}},ve={...ye,props:{...ye.props,itemsAlignment:"right",alignButtons:"right",alignText:"right"}},we={SUB_MENU_ID:"MEMBERS_SUB_MENU",LOGIN_MENU_ID:"MEMBERS_LOGIN_MENU",LOGIN_ICONS_MENU_ID:"MEMBERS_LOGIN_ICONS_MENU"},Pe={componentType:"wysiwyg.viewer.components.SiteRegionContainer",layout:{x:0,y:0,fixedPosition:!1,width:291,height:451,scale:1,rotationInDegrees:0},type:"Container",components:[],style:{type:"TopLevelStyle",id:"c1",style:{properties:{"alpha-bg":0,"alpha-brd":"1",bg:"color_1","boxShadowToggleOn-shd":!1,brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{bg:"theme",brd:"theme",brw:"value",rd:"value",shd:"value"},groups:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"},activeModes:{}},Se={...Pe,layout:{x:0,y:0,fixedPosition:!1,width:ue,height:290,scale:1,rotationInDegrees:0},style:{type:"TopLevelStyle",style:{properties:{"alpha-bg":1,"alpha-brd":"1",bg:"color_11","boxShadowToggleOn-shd":!1,brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{"alpha-bg":"value","alpha-brd":"value",bg:"theme",brd:"theme",brw:"value",rd:"value",shd:"value","boxShadowToggleOn-shd":"value"},groups:{}},componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",styleType:"system",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"}},_e={PRIVATE:{prefix:"account",group:"members",config:{type:"private"},patterns:{}},SOCIAL:{prefix:"profile",group:"members",config:{type:"public"},patterns:{}}},Ie={desktop:{minHeight:880},mobile:{minHeight:300}},De={x:300,y:60,width:660,height:600},Ae={x:0,y:290,width:ue,height:600},Oe="members_pages_group",xe="CONTROLLER_COMP_CUSTOM_ID",Ee="SOSP_CONTAINER_CUSTOM_ID",Re=395,Me=2,Te={appDefinitionId:"14ce28f7-7eb0-3745-22f8-074b0e2401fb"},Ce="1518f596-5744-ae33-0524-4fe42c3ee64e",ke={type:"LayoutData",componentLayouts:[{type:"ComponentLayout",height:{type:"px",value:250},width:{type:"auto"}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"stretch",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[]},Le=60,Ne=30,je={x:20,y:Le,width:250,height:183},Be={x:0,y:0,width:ue,height:250},Ke={NONE:"none",PASSWORD:"password",MEMBERS:"members"},Ue="new-page",Fe="14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",He="14cffd81-5215-0a7f-22f8-074b0e2401fb",We="14dd1af6-3e02-63db-0ef2-72fbc7cc3136",Ge="b976560c-3122-4351-878f-453f337b7245",Ve=function(e){return void 0===e&&(e={}),{...De,...k,menuOrder:3,social:!1,shouldNavigate:"EDITOR"===e.initiator,showInLoginMenu:!0,showInMemberMenu:!0,urlOverride:"my-account",method:"addApplication"}},qe=[T.dn,T.tt,T.sV,T.qq,"14dbef06-cc42-5583-32a7-3abd44da4908","14ebe801-d78a-daa9-c9e5-0286a891e46f"],ze=["member_info","notifications_app","settings","wishlist"],$e=[C],Je=[U],Xe=L.appDefinitionId,Ye="all_members",Qe=async(e,t)=>e.document.transactions.runAndWaitForApproval(ae,t),Ze="https://d71c47c01a6e4b2a9c1cf460e3f76627@sentry.wixpress.com/27";let et,tt;function nt(e){try{et.interactionStarted(e)}catch(e){var t;const n="Failed to start fedops interaction, reason: "+e;null==(t=tt)||t.captureException(n)}}function ot(e){try{et.interactionEnded(e)}catch(e){var t;const n="Failed to end fedops interaction, reason: "+e;null==(t=tt)||t.captureException(n)}}function it(e,t){var n;null==(n=tt)||n.captureException(t,{tags:{interactionName:e}})}async function rt(e,t){try{nt(e);const n=await t();return ot(e),n}catch(t){throw it(e,t),t}}function at(e,t){var n;void 0===t&&(t={}),null==(n=tt)||n.captureMessage(e,{level:"info",...t})}function st(e){return(t,n)=>rt(t,(t=>function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Qe(e,(()=>t(...o)))})(n))}var ct=function(e,t){return ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ct(e,t)};function lt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ct(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ut=function(){return ut=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ut.apply(this,arguments)};function pt(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))}function dt(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function ft(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var gt;Object.create;!function(e){e.Default="",e.OwnerAccount="owner-account"}(gt||(gt={}));var mt={UseNewApi:"__WIXEXP_USE_NEW_API",ConductionMethod:"__WIXEXP_CONDUCTION_METHOD_",OwnerAccountId:"__WIXEXP_OWNER_ACCOUNT_ID_",LoggedInUserId:"__WIXEXP_LOGGED_IN_USER_ID_"};function ht(e,t,n){var o,i;if("undefined"!=typeof self)if("function"==typeof n){if(void 0!==n(self[t]))return(o={})[e]=n(self[t]),o}else if(typeof self[t]===n)return(i={})[e]=self[t],i;return{}}var yt=function(e){return Object.keys(gt).filter((function(t){return gt[t]===e})).length>0?e:void 0};function bt(e){return function(e){return e.conductionMethod===gt.OwnerAccount&&e.siteOwnerId&&e.loggedInUserId}(e)?{forSiteOwner:{siteOwnerId:e.siteOwnerId,loggedInUserId:e.loggedInUserId}}:{}}var vt=function(e){return"string"==typeof e&&""!==e},wt=function(e){return vt(e.loggedInUserId)&&vt(e.siteOwnerId)?"&requestContext.forSiteOwner.loggedInUserId="+e.loggedInUserId+"&requestContext.forSiteOwner.siteOwnerId="+e.siteOwnerId:""},Pt=function(e){return vt(e.visitorId)&&vt(e.siteOwnerId)?"&requestContext.forSiteVisitors.visitorId="+e.visitorId+"&requestContext.forSiteVisitors.siteOwnerId="+e.siteOwnerId:""},St=function(e){return vt(e.entityId)?"&requestContext.overrideCriteria.entityId="+e.entityId:""};function _t(e){void 0===e&&(e={});var t=e.forSiteOwner,n=e.forSiteVisitors,o=e.overrideCriteria,i="";if(["forSiteOwner","forSiteVisitors"].reduce((function(t,n){return e[n]?t+1:t}),0)>1)throw new Error('Only one of "forSiteOwner" or "forSiteVisitors" is accepted.');return t&&(i+=wt(t)),n&&(i+=Pt(n)),o&&(i+=St(o)),i}function It(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e}var Dt={new:{conductAllInScope:"/_api/wix-laboratory-server/v1/laboratory/platform/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/v1/laboratory/platform/conductExperiment"},old:{conductAllInScope:"/_api/wix-laboratory-server/laboratory/conductAllInScope",conductExperiment:"/_api/wix-laboratory-server/laboratory/conductExperiment"}};function At(e,t){return-1!==e.indexOf(t?Dt.new.conductAllInScope:Dt.old.conductAllInScope)}var Ot=function(e,t,n){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=!1),n?Dt.new.conductExperiment+"?key="+encodeURIComponent(e)+"&fallbackValue="+encodeURIComponent(t):Dt.old.conductExperiment+"?key="+encodeURIComponent(e)+"&fallback="+encodeURIComponent(t)};function xt(e,t,n){var o=""+Ot(t,"",n);return e.includes(o)}var Et=function(){function e(){this.urlMap=new Map,this.pendingUrlMap=new Map}return e.prototype.addUrlRequest=function(e,t){return pt(this,void 0,void 0,(function(){var n=this;return dt(this,(function(o){switch(o.label){case 0:return this.pendingUrlMap.set(e,t),[4,t.then((function(t){return n.addUrlResponse(e,t)}))];case 1:return o.sent(),[2]}}))}))},e.prototype.addUrlResponse=function(e,t){this.urlMap.set(e,t)},e.prototype.getUrlResponse=function(e){return this.urlMap.get(e)},e.prototype.getUrlRequest=function(e){return this.pendingUrlMap.get(e)},e.prototype.getExperimentValue=function(e,t){var n,o;try{for(var i=ft(this.urlMap.keys()),r=i.next();!r.done;r=i.next()){var a=r.value;if(xt(a,e,t))return this.urlMap.get(a);if(At(a,t)){var s=It(this.urlMap.get(a));if("object"==typeof s&&e in s)return s[e]}}}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e}();!function(){function e(){}e.prototype.addUrlRequest=function(){},e.prototype.addUrlResponse=function(){},e.prototype.getUrlResponse=function(){},e.prototype.getUrlRequest=function(){},e.prototype.getExperimentValue=function(){}}();function Rt(){return void 0===self.experimentsCacheV2&&(self.experimentsCacheV2=new Et),self.experimentsCacheV2}var Mt=function(){function e(e){var t;this.experiments=null!==(t=e.experiments)&&void 0!==t?t:{}}return e.prototype.get=function(e){return this.experiments[e]},e.prototype.enabled=function(e){return"true"===this.get(e)},e.prototype.pending=function(){return!1},e.prototype.ready=function(){return Promise.resolve()},e.prototype.all=function(){return this.experiments},e}(),Tt=function(){},Ct=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,o=ut(ut(ut(ut({},ht("useNewApi",mt.UseNewApi,"boolean")),ht("conductionMethod",mt.ConductionMethod,yt)),ht("siteOwnerId",mt.OwnerAccountId,"string")),ht("loggedInUserId",mt.LoggedInUserId,"string"));return n.useNewApi=void 0!==t.useNewApi?t.useNewApi:o.useNewApi||!1,n.experiments=t.experiments||{},n.loaders=new Map,n.baseUrl=(n.useNewApi,t.baseUrl||""),n.requestContext=t.requestContext||bt(o),n.onError=t.onError||Tt,t.scope&&n.load(t.scope),t.scopes&&t.scopes.forEach(n.load.bind(n)),n}return lt(t,e),t.prototype.add=function(e){this.experiments=ut(ut({},this.experiments),e)},t.prototype._addLoader=function(e,t){var n=this;return this.loaders.set(e,t),t.then((function(){n.loaders.delete(e)})),t},t.prototype._getUrlWithFallback=function(e,t){var n=this,o=Rt().getUrlResponse(e);if(void 0!==o)return Promise.resolve(o);var i=Rt().getUrlRequest(e);if(void 0!==i)return i;var r=this.loaders.get(e);if(void 0!==r)return r;var a=function(e){return new Promise((function(t,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="text",o.withCredentials=!0,o.onload=function(){o.status>=200&&o.status<400?t(o.responseText):n(new Error("Failed to load "+e+", status "+o.status))},o.onerror=function(){return n(new Error("Failed to load "+e))},o.send()}))}(e);return Rt().addUrlRequest(e,a),a.catch((function(e){return n.onError(e),t}))},t.prototype.load=function(e){var t=this,n=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),t?Dt.new.conductAllInScope+"?scope="+encodeURIComponent(e):Dt.old.conductAllInScope+"?scope="+encodeURIComponent(e)}(e,this.useNewApi),o=this.useNewApi?_t(this.requestContext):"",i=""+this.baseUrl+n+o,r=this._getUrlWithFallback(i,"{}").then((function(e){return It(e)})).then((function(e){return t.useNewApi?e.values:e})).then((function(e){return t.add(e),e}));return this._addLoader(i,r)},t.prototype.conduct=function(e,t){var n=this,o=Rt().getExperimentValue(e,this.useNewApi);if(void 0!==o)return this._addConductResult(e,o);var i=Ot(e,t,this.useNewApi),r=this.useNewApi?_t(this.requestContext):"",a=""+this.baseUrl+i+r,s=this._getUrlWithFallback(a,null!=t?t:"").then((function(t){return n._addConductResult(e,t)}));return this._addLoader(a,s)},t.prototype.pending=function(){return!!this.loaders.size},t.prototype.ready=function(){return Promise.all(Array.from(this.loaders.values()))},t.prototype._addConductResult=function(e,t){var n,o=this.useNewApi?JSON.parse(t).value:t;return this.add(((n={})[e]=o,n)),Promise.resolve(o)},t}(Mt);let kt;async function Lt(){kt||(kt=new Ct({scope:"members-area"})),await kt.ready()}async function Nt(){return await Lt(),"true"===kt.get("specs.membersArea.ADIHorizontalLayout")}async function jt(){return await Lt(),"true"===kt.get("specs.membersArea.disableParallelAppInstall")}async function Bt(){return await Lt(),"true"===kt.get("specs.membersArea.seoPanelChanges")}let Kt={isDeletingSinglePage:!1,isResponsiveEditor:!1,isADI:!1,integratedAppsMap:{},staticsBaseUrl:"",blogWriterProfilesOnly:!1,isUninstalling:!1,editorSDK:void 0,isSuccessfulEditorReady:!0};const Ut=e=>{Kt={...Kt,integratedAppsMap:e}},Ft=e=>{Kt={...Kt,isUninstalling:e}},Ht=e=>{Kt={...Kt,editorSDK:e}},Wt=()=>Kt.isResponsiveEditor,Gt=()=>Kt.isADI,Vt=()=>Kt.staticsBaseUrl,qt=()=>Kt.integratedAppsMap||{},zt=e=>Kt.integratedAppsMap[e]||[],$t=()=>Kt.blogWriterProfilesOnly,Jt=()=>Kt.isSuccessfulEditorReady,Xt=e=>{Kt.isSuccessfulEditorReady=e},Yt=e=>"utils.timeoutMonitor."+e,Qt=(e,t)=>"Timeout monitor: "+e+" - "+t;async function Zt(e,t,n,o){void 0===o&&(o={});const i=await async function(){return await Lt(),"true"===kt.get("specs.membersArea.enableTimeoutLogs")}(),r=Yt(e);return nt(r),new Promise((async(a,s)=>{let c=!1;i&&at(Qt(e,"Invocation"));const l=setTimeout((()=>{i&&at(Qt(e,"Timeout"),o),console.log("Members Area: Timeout of promise "+e),c=!0}),t);try{const t=await n();c&&i&&at(Qt(e,"Resolved"),o),clearInterval(l),ot(r),a(t)}catch(t){var u;if(c)i&&at(Qt(e,"Rejected"),{...o,extra:{...(null==(u=o)?void 0:u.extra)||{},error:t}});clearInterval(l),ot(r),s(t)}}))}var en=r(3213),tn=r.n(en);const nn=(e,t)=>{const n="undefined"==typeof atob?on:atob,o=t.split(".").pop();if(!o)return;const i=n(o);return JSON.parse(i)[e]};function on(e){return r.g.Buffer.from(e,"base64").toString()}var rn=r(6832),an=r.n(rn),sn=function(e){return{evid:904,src:69,endpoint:"members-app-users",params:e}};let cn,ln,un,pn;!function(e){e.ShowPublicOn="show_public_on",e.ShowPublicOff="show_public_off",e.Profile="profile",e.ProfileAll="profile_all",e.ProfileBlogWriters="profile_blog_writers",e.Followers="followers",e.Members="members",e.BackToOverviewCTA="back_to_overview_cta",e.FindMorePagesCTA="find_more_pages_cta"}(cn||(cn={})),function(e){e.Editor="editor"}(ln||(ln={})),function(e){e.ManageMemberPages="manage_member_pages",e.ActionsMenu="actions_menu",e.EditorProfileSettings="editor_profile_settings",e.ProfileManageMemberPages="editor_profile_manage_member_pages",e.GeneralSettingsPanel="general-settings-panel"}(un||(un={})),function(e){e.ALL="all",e.BWP_ONLY="bwp-only",e.BWP_ALL="bwp-all"}(pn||(pn={}));const dn=(e,t)=>e.appDefinitionId===t.appDefinitionId&&e.pageId===t.pageId,fn=e=>e.reduce(((e,t)=>((e,t)=>!t.some((t=>t.appDefinitionId===e.appDefinitionId&&t.pageId===e.pageId)))(t,e)?[...e,t]:e),[]),gn={[C.appDefinitionId]:cn.Profile,[U.appDefinitionId]:cn.Followers,[L.appDefinitionId]:cn.Members},mn=async e=>{var t;let{editorSDK:n,withClientId:o,options:i}=e;const r=new hn,a=null==i||null==(t=i.origin.info)?void 0:t.type;return await r.init(n,o,a),r};class hn{constructor(){var e=this;tn()(this,"logger",void 0),tn()(this,"baseProps",{}),tn()(this,"init",(async function(t,n,o){void 0===n&&(n=!0);const i=await t.info.getAppInstance("");i||at("missing instance in platform however the editor script will proceed");const r=i?nn("instanceId",i):void 0,a=i?nn("biToken",i):void 0;e.baseProps={app_id:Fe,instance_id:r,biToken:a,originInfo:o},n&&(e.baseProps.client_id=i?nn("uid",i):void 0)})),tn()(this,"logMembersMenuToggle",(e=>{let{pageId:t,pageName:n,toggle_status:o,is_social:i}=e;const r={...this.baseProps,pageId:t,pageName:n,toggleName:"Members Menu",toggle_status:o,is_social:i};return this.logger.report(sn(r))})),tn()(this,"logLoginMenuToggle",(e=>{let{pageId:t,pageName:n,toggle_status:o,is_social:i}=e;const r={...this.baseProps,pageId:t,pageName:n,toggleName:"Login Menu",toggle_status:o,is_social:i};return this.logger.report(sn(r))})),tn()(this,"logInstallationFailure",(e=>{const t={...this.baseProps,errorMsg:e,appInstanceId:this.baseProps.app_id};return delete t.app_id,this.logger.report({evid:821,src:69,endpoint:"members-app-users",params:t})})),tn()(this,"addPageButtonClick",(e=>{let{origin:t,pageName:n,pageId:o,appId:i}=e;return this.logger.report({evid:907,src:69,endpoint:"members-app-users",params:{...this.baseProps,origin:t,pageName:n,pageId:o,appId:i}})})),tn()(this,"loadMembersCustomPages",(e=>{let{pageName:t,pageId:n,appId:o}=e;return this.logger.report({evid:906,src:69,endpoint:"members-app-users",params:{...this.baseProps,pageName:t,pageId:n,appId:o}})})),tn()(this,"verticalTriggeredMaInstallInitiated",(e=>{let{originAppId:t}=e;return this.logger.report({evid:822,src:69,endpoint:"members-app-users",params:{...this.baseProps,originAppId:t}})})),tn()(this,"verticalTriggeredMaInstallSuccess",(e=>{let{originAppId:t}=e;return this.logger.report({evid:823,src:69,endpoint:"members-app-users",params:{...this.baseProps,originAppId:t}})})),tn()(this,"maPageInstalled",(e=>{let{originAppId:t,pageName:n}=e;return this.logger.report({evid:824,src:69,endpoint:"members-app-users",params:{...this.baseProps,originAppId:t,pageName:n}})})),tn()(this,"managePagesActionDelete",(e=>{let{pageId:t,pageName:n,value:o,appId:i}=e;return this.logger.report({evid:825,src:69,endpoint:"members-app-users",params:{...this.baseProps,pageId:t,pageName:n,value:o,appId:i}})})),tn()(this,"managePagesAddMemberPagesClick",(e=>{let{origin:t,referralInfo:n}=e;return this.logger.report({evid:826,src:69,endpoint:"members-app-users",params:{...this.baseProps,origin:t,referralInfo:n}})})),tn()(this,"managesPagesModalTabNavigation",(e=>{let{tabName:t}=e;return this.logger.report({evid:827,src:69,endpoint:"members-app-users",params:{...this.baseProps,tabName:t}})})),tn()(this,"membersProfileSelection",(e=>{let{value:t}=e;return this.logger.report({evid:829,src:69,endpoint:"members-app-users",params:{...this.baseProps,value:t}})})),tn()(this,"memberPagesSettingsOpen",(e=>this.logger.report({evid:908,src:69,endpoint:"members-app-users",params:{...this.baseProps,referralinfo:e}}))),tn()(this,"togglePublicPageAvailability",(e=>{const t=e?cn.ShowPublicOn:cn.ShowPublicOff;return this.memberPagesSettingsAction({value:t})})),tn()(this,"onProfilePageTypeChange",(e=>{const t=e===pn.BWP_ONLY?cn.ProfileBlogWriters:cn.ProfileAll;return this.memberPagesSettingsAction({value:t})})),tn()(this,"onFindMorePagesClick",(()=>this.memberPagesSettingsAction({value:cn.FindMorePagesCTA}))),tn()(this,"onBackToOverviewClick",(()=>this.memberPagesSettingsAction({value:cn.BackToOverviewCTA}))),tn()(this,"onPageToggle",(e=>this.memberPagesSettingsAction({value:gn[e]}))),tn()(this,"memberPagesSettingsSaveConfirm",((e,t,n)=>{if(!n)return this.pagesSettingsSaveConfirm({selection:void 0});const{appsToRemove:o,appsToInstall:i}=e,r=t.filter((e=>e.isInstalled?!o.some((t=>{let{integrationApplication:n}=t;return dn(n,e.integrationApplication)})):i.some((t=>{let{integrationApplication:n}=t;return dn(n,e.integrationApplication)})))).map((e=>{let{integrationApplication:t}=e;return gn[t.appDefinitionId]})).toString();return this.pagesSettingsSaveConfirm({selection:r})})),tn()(this,"pagesSettingsSaveConfirm",(e=>{let{selection:t,modalName:n}=e;return this.logger.report({evid:910,src:69,endpoint:"members-app-users",params:{...this.baseProps,origin:ln.Editor,selection:t,modalName:n}})})),tn()(this,"memberPagesSettingsAction",(e=>{let{value:t}=e;return this.logger.report({evid:909,src:69,endpoint:"members-app-users",params:{...this.baseProps,value:t,origin:ln.Editor}})})),this.logger=an().factory().logger()}}let yn;let bn,vn=new Promise((e=>{yn=e}));const wn=()=>{Xt(!0),yn()},Pn=e=>{bn=e,Xt(!1),yn()};async function Sn(e,t){return new Promise(((n,o)=>{vn=vn.then((async()=>{if(Jt())try{n(await t())}catch(t){at("Rejected promise in enforceSequentiality",{tags:{methodName:e},extra:{error:JSON.stringify(t),stack:JSON.stringify(t&&t.stack)}}),o(t)}else{const t=bn?e+" not executed because of "+bn:"Error occurred in members area platform. "+e+" was not executed.";at(t),o(new Error(t))}}))}))}var _n=r(9479),In=r.n(_n);const{SUB_MENU_ID:Dn,LOGIN_MENU_ID:An,LOGIN_ICONS_MENU_ID:On}=we;function xn(e){return e.menu.create(ae,{menuData:{name:"Login Menu",items:[]},customId:An})}function En(e){return e.menu.create(ae,{menuData:{name:"Login Icons",items:[]},customId:On})}async function Rn(e,t){const n=await e.menu.getById(ae,{menuId:t});n.items=[],await e.menu.update(ae,{menuId:t,menuData:n})}async function Mn(e){const[t,n,o]=await Promise.all([e.menu.getById(ae,{menuId:Dn}),e.menu.getById(ae,{menuId:An}),e.menu.getById(ae,{menuId:On})]),i=[t&&Rn(e,Dn),n&&Rn(e,An),o&&Rn(e,On)].filter((e=>!!e));await Promise.all(i);const r=[t&&e.menu.remove(ae,{menuId:Dn}),n&&e.menu.remove(ae,{menuId:An}),o&&e.menu.remove(ae,{menuId:On})].filter((e=>!!e));await Promise.all(r)}function Tn(){return{members:Dn,login:An,icons:On}}async function Cn(e){let{editorSDK:t,pageRouterData:n,updatedData:o}=e;const i=Tn(),r=kn({editorSDK:t,pageRouterData:n,updatedData:o,menuId:i.members}),a=kn({editorSDK:t,pageRouterData:n,updatedData:o,menuId:i.login}),s=kn({editorSDK:t,pageRouterData:n,updatedData:o,menuId:i.icons});return Promise.all([r,a,s])}async function kn(e){let{editorSDK:t,pageRouterData:n,updatedData:o,menuId:i}=e;const r=n.innerRoute,a=await t.menu.getById(ae,{menuId:i}),s=a.items.find((e=>{var t;return"/"+(null==(t=e.link)?void 0:t.innerRoute)===r}));s&&(In().merge(s,o),await t.menu.update(ae,{menuId:i,menuData:a}))}async function Ln(e){let{editorSDK:t,menuId:n}=e;const o=await t.menu.getById(ae,{menuId:n});if(!o)throw new Error("Could not retrieve the menu "+n);return o.items}function Nn(e){let{editorSDK:t,menuId:n}=e;return t.menu.getById(ae,{menuId:n})}async function jn(e){let{editorSDK:t,menuId:n,pattern:o}=e;const i=await t.menu.getById(ae,{menuId:n}),r=[];for(const e of i.items){var a;(null==(a=e.link)?void 0:a.innerRoute)!==o&&r.push(e)}i.items=r,await t.menu.update(ae,{menuId:n,menuData:i})}async function Bn(e){let{editorSDK:t,pattern:n}=e;const o=Tn();for(const e of Object.values(o))await jn({editorSDK:t,menuId:e,pattern:n})}async function Kn(e){let{editorSDK:t,menuId:n,items:o}=e;const i=await t.menu.getById(ae,{menuId:n});i.items=o,await t.menu.update(ae,{menuId:n,menuData:i})}async function Un(e,t,n,o){const i=await e.routers.getByPage(ae,{pageRef:t}),r=await e.routers.get(ae,{routerRef:i}),a=In().find(r.pages,(e=>e.pageRef.id===t.id)),s=null==a?void 0:a.pageRoles[0],c=In().findKey(r.config.patterns,(e=>e.page===s)),l=In().find(r.config.patterns,(e=>e.page===s));l[n]="string"==typeof o?o:In().assign({},l[n],o);const u=r.config;return In().set(u,"patterns["+c+"]",l),await e.routers.update(ae,{routerRef:i,config:u}),i}async function Fn(e){return await e.routers.getAll(ae)}async function Hn(e,t,n,o){if(void 0===n&&(n=0),n>3)throw new Error("Can not add router, failed after 3 retries, reason: "+o&&(null==o?void 0:o.toString()));const i=async o=>{const i=await e.routers.getByPrefix(ae,{prefix:t.prefix});if(i)return i;let{prefix:r}=t;return r=r.replace(/\-[0-9]$/,""),r+="-"+ ++n,t.prefix=r,Hn(e,t,n,o)},r=await e.routers.add(ae,t).catch(i);return await e.routers.get(ae,{routerRef:r})?r:i("Router was not added although the installation was successful")}async function Wn(e){const t=await e.routers.getAll(ae);for(const n of t){const t=await e.routers.getByPrefix(ae,{prefix:n.prefix});await e.routers.remove(ae,{routerRef:t})}}async function Gn(e){const t=await Fn(e);for(const n of t){const t=await e.routers.getByPrefix(ae,{prefix:n.prefix});for(const o of n.pages)await e.routers.pages.remove(ae,{routerRef:t,pageRef:o.pageRef})}}const Vn=(e,t)=>{var n;const o=null==(n=t.pages.find((t=>{var n;return(null==(n=t.pageRef)?void 0:n.id)===e.id})))?void 0:n.pageRoles;if(null==o||!o.length||!t.config.patterns)return;return Object.keys(t.config.patterns).find((e=>{var n;return o.includes(null==(n=t.config.patterns[e])?void 0:n.page)}))};function qn(e,t){void 0===t&&(t=Ue);let n="/"+t,o=1;for(;e.includes(n);)n="/"+t+"-"+o,o++;return n.substring(1)}function zn(e){let{editorSDK:t,prefix:n}=e;return t.routers.getByPrefix(ae,{prefix:n})}function $n(e){let{editorSDK:t,config:n,routerRef:o}=e;return t.routers.update(ae,{config:n,routerRef:o})}const{APP_TOKEN:Jn}=e;async function Xn(e,t){const n=fe;return e.components.add(Jn,{pageRef:t,componentDefinition:n,customId:xe})}async function Yn(e){const t=(await e.controllers.listControllers(Jn,{})).find((e=>(null==e?void 0:e.controllerRef.id)===xe));return null==t?void 0:t.controllerRef}async function Qn(e){return e.controllers.listAllControllers(Jn)}async function Zn(e,t){const n=await e.controllers.listConnectedComponents(Jn,t);for(const t of n)await e.components.remove(Jn,{componentRef:t})}async function eo(e,t){await e.components.remove(Jn,{componentRef:t.controllerRef})}async function to(e){const t=await async function(e){const t=await Qn(e),n=await Promise.all(t.map((async t=>{let{controllerRef:n}=t;return n.id.includes("_r_")?{controllerRef:await e.components.refComponents.getTemplateComponent(Jn,{componentRef:n})}:{controllerRef:n}}))),o=n.filter(((e,t,n)=>n.findIndex((t=>t.controllerRef.id===e.controllerRef.id))===t));return o}(e);for(const n of t)if(Wt())try{await Zn(e,n),await eo(e,n)}catch(e){at("An error occured when deleting controllers in EditorX. However they are expected to be deleted by the platform",{extra:{e:e}})}else await Zn(e,n),await eo(e,n);const n=[Te.appDefinitionId,Ce];await async function(e,t){const n=await e.components.getAllComponents(or);for(const o of n){const n=await br({editorSDK:e,componentRef:o});n&&(-1!==t.indexOf(n.appDefinitionId)&&await mr({editorSDK:e,componentRef:o}))}}(e,n)}async function no(e){let{editorSDK:t,connectToRef:n,controllerRef:o,role:i,connectionConfig:r={},isPrimary:a=!0}=e;try{await t.controllers.connect(Jn,{connectToRef:n,controllerRef:o,connectionConfig:r,role:i,isPrimary:a})}catch(e){throw at("Failed to connect to controller",{tags:{platformMessage:e.toString()},extra:{args:JSON.stringify({connectToRef:n,controllerRef:o,role:i,connectionConfig:r,isPrimary:a})}}),e}}function oo(e,t){return e.tpa.add.application(ae,t)}function io(e){let{editorSDK:t,appDefinitionId:n}=e;return t.tpa.isApplicationInstalled(ae,{appDefinitionId:n})}function ro(e){let{editorSDK:t,appDefinitionId:n,sectionId:o}=e;return t.tpa.isAppSectionInstalled(ae,{appDefinitionId:n,sectionId:o})}function ao(e){let{editorSDK:t,appDefinitionId:n}=e;return t.tpa.app.getDataByAppDefId(ae,n)}function so(e){let{editorSDK:t,applicationId:n}=e;return t.tpa.app.getAllCompsByApplicationId(ae,n)}const co={componentType:"wysiwyg.viewer.components.SiteRegionContainer",type:"Container",components:[],activeModes:{},layoutResponsive:{type:"LayoutData",componentLayouts:[{type:"ComponentLayout",width:{type:"auto"},height:{type:"auto"}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"stretch",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:30}}}],containerLayouts:[{type:"GridContainerLayout",rows:[{type:"fr",value:1},{type:"px",value:40}],columns:[{type:"fr",value:1}]}]},layout:{x:0,y:0,fixedPosition:!1,width:ue,height:290,scale:1,rotationInDegrees:0},style:{type:"StylesInBreakpoint",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",stylesInBreakpoints:[{styleType:"custom",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",type:"ComponentStyle",style:{properties:{"alpha-bg":"1","alpha-brd":"1",bg:"color_11","boxShadowToggleOn-shd":"false",brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{bg:"theme",brd:"theme",brw:"value",rd:"value",shd:"value"},groups:{}}}]}},lo={"alpha-bg":"0","alpha-brd":"1","alpha-brd-dd":"0.2","badge-bg":"#E21C21","badge-txt":"color_11",bg:"color_11","bg-dd":"color_11","boxShadowToggleOn-shd":"false","boxShadowToggleOn-shd-dd":"false",brd:"color_15","brd-dd":"color_15",brw:"0","brw-dd":"1px",fillcolor:"color_18",fnt:"font_8","fnt-size-dd":"15px",rd:"0px","rd-dd":"0px",shd:"0 0 0 transparent","shd-dd":"0 0 0 transparent",txt:"color_18","txt-dd":"color_15",txth:"color_19","txth-dd":"color_19","txt-slct-dd":"color_19",avatarAndArrowStrokeWidth:"0",avatarCornerRadius:"100px"},uo={type:"LoginSocialBar",loggedInMember:"avatarOnly",loggedOutText:"Log In",showLoggedInText:!1,loggedInText:"Hello",logOutText:"Log Out",menuItemsRef:null,iconItemsRef:null,language:"en",role:"members_login"},po={type:"ConnectionList",items:[{type:"ConnectionItem",controllerId:"login-bar-controller-id",isPrimary:!0,config:"{}",role:"members-login-bar"}]},fo={type:"LoginSocialBarProperties",buttonsDirection:"ltr",iconSize:26,dropDownTextAlignment:"left",buttonsAlignment:"right"},go={width:{type:"percentage",value:100},height:{type:"percentage",value:100}},mo={componentType:"platform.components.AppWidget",style:{skin:"platform.components.skins.AppWidgetSkin",style:{}},type:"Container",layout:{width:120,height:40,x:850,y:24,scale:1,rotationInDegrees:0,fixedPosition:!1},layoutResponsive:{type:"LayoutData",componentLayouts:[{type:"ComponentLayout",width:{type:"px",value:120},height:{type:"px",value:40},minHeight:{type:"px",value:40}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"end",alignSelf:"center",margins:{left:{type:"percentage",value:0},top:{type:"px",value:0},right:{type:"px",value:70},bottom:{type:"px",value:0}}}],containerLayouts:[{type:"GridContainerLayout",rows:[{type:"fr",value:1}],columns:[{type:"fr",value:1}]}]},data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"login-bar-controller",controllerType:"members-login-bar",id:"login-bar-controller-id"},components:[{type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",componentType:"wysiwyg.viewer.components.LoginSocialBar",data:uo,props:fo,style:{type:"StylesInBreakpoint",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",stylesInBreakpoints:[{type:"ComponentStyle",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",componentClassName:"wysiwyg.viewer.components.LoginSocialBar",styleType:"custom",style:{properties:lo,propertiesSource:{},groups:{}}}]},layout:{width:120,height:40,scale:1,rotationInDegrees:0,fixedPosition:!1,x:0,y:0},layoutResponsive:{type:"LayoutData",componentLayouts:[{...go,type:"ComponentLayout",minHeight:{type:"px",value:40}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"start",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[]},connections:po}]},ho="members-menu",yo={type:"ConnectionList",items:[{type:"ConnectionItem",controllerId:"members-menu-controller-id",isPrimary:!0,config:"{}",role:"members-menu"}]},bo={type:"Component",data:{type:"CustomMenuDataRef",menuRef:"#MEMBERS_SUB_MENU",role:"members_menu"},componentType:"wysiwyg.viewer.components.menus.DropDownMenu",layout:{width:956,height:40,scale:1,rotationInDegrees:0,fixedPosition:!1,x:0,y:0},props:{type:"HorizontalMenuProperties",alignButtons:"left",alignText:"left",sameWidthButtons:!1,stretchButtonsToMenuWidth:!1,moreButtonLabel:"More",moreItemHeight:15},style:{styleType:"custom",type:"ComponentStyle",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin",componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",style:{properties:{"boxShadowToggleOn-shd":"true","alpha-bgDrop":"1","alpha-brdh":"1","alpha-brd":"0","alpha-brds":"1",bgDrop:"color_11",brd:"color_15",brdh:"color_17",brds:"color_18",fnt:"font_8",menuTotalBordersX:"0",pad:"10",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.2)",txt:"color_15",txth:"color_17",txts:"color_18"},propertiesSource:{"boxShadowToggleOn-shd":"value","alpha-bgDrop":"value","alpha-brd":"value","alpha-brdh":"value","alpha-brds":"value",bgDrop:"theme",brd:"theme",brdh:"theme",brds:"theme",fnt:"theme",menuTotalBordersX:"value",pad:"value",rd:"value",shd:"value",txt:"theme",txth:"theme",txts:"theme"}}}},vo={...bo,props:{...bo.props,itemsAlignment:"right",alignButtons:"right",alignText:"right"}},wo={componentType:"platform.components.AppWidget",type:"Container",style:{skin:"platform.components.skins.AppWidgetSkin",style:{}},layout:{width:ue,height:40,x:12,y:250,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"members-menu-controller",controllerType:ho,id:"members-menu-controller-id"}},Po={type:"LayoutData",componentLayouts:[{type:"ComponentLayout",height:{type:"px",value:40},width:{type:"percentage",value:100},minHeight:{type:"px",value:40},maxWidth:{type:"px",value:974}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:2,columnStart:1,rowEnd:3,columnEnd:2},justifySelf:"center",alignSelf:"start",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[{type:"GridContainerLayout",rows:[{type:"fr",value:1}],columns:[{type:"fr",value:1}]}]},So={type:"LayoutData",componentLayouts:[{type:"ComponentLayout",height:{type:"px",value:40},minHeight:{type:"px",value:40}}],itemLayouts:[{type:"GridItemLayout",gridArea:{rowStart:1,columnStart:1,rowEnd:2,columnEnd:2},justifySelf:"stretch",alignSelf:"start",margins:{left:{type:"px",value:0},top:{type:"px",value:0},right:{type:"px",value:0},bottom:{type:"px",value:0}}}],containerLayouts:[]},_o={type:"StylesInBreakpoint",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin",stylesInBreakpoints:[{styleType:"custom",type:"ComponentStyle",skin:"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin",componentClassName:"wysiwyg.viewer.components.menus.DropDownMenu",style:{properties:{"boxShadowToggleOn-shd":"true","alpha-bgDrop":"1","alpha-brdh":"1","alpha-brd":"0","alpha-brds":"1",bgDrop:"color_11",brd:"color_15",brdh:"color_17",brds:"color_18",fnt:"font_8",menuTotalBordersX:"0",pad:"10",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.2)",txt:"color_15",txth:"color_17",txts:"color_18"},propertiesSource:{"boxShadowToggleOn-shd":"value","alpha-bgDrop":"value","alpha-brd":"value","alpha-brdh":"value","alpha-brds":"value",bgDrop:"theme",brd:"theme",brdh:"theme",brds:"theme",fnt:"theme",menuTotalBordersX:"value",pad:"value",rd:"value",shd:"value",txt:"theme",txth:"theme",txts:"theme"}}}]},Io={...wo,layoutResponsive:Po,components:[{...bo,layoutResponsive:So,style:_o,connections:yo}]},Do={...wo,layoutResponsive:Po,components:[{...vo,layoutResponsive:So,style:_o,connections:yo}]},Ao=["he","ar"],Oo=e=>Ao.includes(e),xo=async e=>(e=e||window.editorSDK,await e&&e.info&&e.info.getLanguage());var Eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var Ro={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}},Mo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Ro,this.options=t,this.debug=t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")},e.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,Eo({prefix:this.prefix+":"+t+":"},this.options))},e}(),To=new Mo;var Co=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}))},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach((function(){if(t){var o=n.observers[e].indexOf(t);o>-1&&n.observers[e].splice(o,1)}else delete n.observers[e]}))},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){var o;t.apply(t,(o=[e]).concat.apply(o,n))}))},e}(),ko=Co;function Lo(e){return null==e?"":""+e}function No(e,t,n){function o(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var r="string"!=typeof t?[].concat(t):t.split(".");r.length>1;){if(i())return{};var a=o(r.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return i()?{}:{obj:e,k:o(r.shift())}}function jo(e,t,n){var o=No(e,t,Object);o.obj[o.k]=n}function Bo(e,t){var n=No(e,t),o=n.obj,i=n.k;if(o)return o[i]}function Ko(e,t,n){for(var o in t)o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof t[o]||t[o]instanceof String?n&&(e[o]=t[o]):Ko(e[o],t[o],n):e[o]=t[o];return e}function Uo(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Fo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Ho(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Fo[e]})):e}var Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Go(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var Vo=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i.data=n||{},i.options=o,i}return Go(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator;void 0===o&&(o=".");var i=[e,t];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=e.split(".")),Bo(this.data,i)},t.prototype.addResource=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var a=[e,t];n&&(a=a.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=t,t=(a=e.split("."))[1]),this.addNamespaces(t),jo(this.data,a,o),i.silent||this.emit("added",e,t,n,o)},t.prototype.addResources=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"==typeof n[i]&&this.addResource(e,t,i,n[i],{silent:!0});o.silent||this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(o=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=Bo(this.data,a)||{};o?Ko(s,n,i):s=Wo({},s,n),jo(this.data,a,s),r.silent||this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Wo({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(ko),qo=Vo,zo={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,o,i){var r=this;return e.forEach((function(e){r.processors[e]&&(t=r.processors[e].process(t,n,o,i))})),t}},$o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Xo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var Yo=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=o,i.logger=To.create("translator"),i}return Xo(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var o=t.keySeparator||this.options.keySeparator||".",i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var r=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(r[0])>-1)&&(i=r.shift()),e=r.join(o)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}},t.prototype.translate=function(e,t){var n=this;if("object"!==(void 0===t?"undefined":Jo(t))&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var o=t.keySeparator||this.options.keySeparator||".",i=this.extractFromKey(e[e.length-1],t),r=i.key,a=i.namespaces,s=a[a.length-1],c=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(l){var u=t.nsSeparator||this.options.nsSeparator;return s+u+r}return r}var p=this.resolve(e,t),d=p&&p.res,f=p&&p.usedKey||r,g=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays;if(d&&("string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&(!m||"[object Array]"!==g)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,t):"key '"+r+" ("+this.language+")' returned an object instead of string.";if(t.keySeparator||this.options.keySeparator){var h="[object Array]"===g?[]:{};for(var y in d)if(Object.prototype.hasOwnProperty.call(d,y)){var b=""+f+o+y;h[y]=this.translate(b,$o({},t,{joinArrays:!1,ns:a})),h[y]===b&&(h[y]=d[y])}d=h}}else if(m&&"[object Array]"===g)(d=d.join(m))&&(d=this.extendTranslation(d,e,t));else{var v=!1,w=!1;this.isValidLookup(d)||void 0===t.defaultValue||(v=!0,d=t.defaultValue),this.isValidLookup(d)||(w=!0,d=r);var P=t.defaultValue&&t.defaultValue!==d&&this.options.updateMissing;if(w||v||P){this.logger.log(P?"updateKey":"missingKey",c,s,r,P?t.defaultValue:d);var S=[],_=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&_&&_[0])for(var I=0;I<_.length;I++)S.push(_[I]);else"all"===this.options.saveMissingTo?S=this.languageUtils.toResolveHierarchy(t.lng||this.language):S.push(t.lng||this.language);var D=function(e,o){n.options.missingKeyHandler?n.options.missingKeyHandler(e,s,o,P?t.defaultValue:d,P,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,s,o,P?t.defaultValue:d,P,t),n.emit("missingKey",e,s,o,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&t.count?S.forEach((function(e){n.pluralResolver.getPluralFormsOfKey(e,r).forEach((function(t){return D([e],t)}))})):D(S,r))}d=this.extendTranslation(d,e,t),w&&d===r&&this.options.appendNamespaceToMissingKey&&(d=s+":"+r),w&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d},t.prototype.extendTranslation=function(e,t,n){var o=this;n.interpolation&&this.interpolator.init($o({},n,{interpolation:$o({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=$o({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){return o.translate.apply(o,arguments)}),n)),n.interpolation&&this.interpolator.reset();var r=n.postProcess||this.options.postProcess,a="string"==typeof r?[r]:r;return null!=e&&a&&a.length&&!1!==n.applyPostProcessor&&(e=zo.handle(a,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=void 0,i=void 0;return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!t.isValidLookup(o)){var r=t.extractFromKey(e,n),a=r.key;i=a;var s=r.namespaces;t.options.fallbackNS&&(s=s.concat(t.options.fallbackNS));var c=void 0!==n.count&&"string"!=typeof n.count,l=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,u=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language);s.forEach((function(e){t.isValidLookup(o)||u.forEach((function(i){if(!t.isValidLookup(o)){var r=a,s=[r],u=void 0;c&&(u=t.pluralResolver.getSuffix(i,n.count)),c&&l&&s.push(r+u),l&&s.push(r+=""+t.options.contextSeparator+n.context),c&&s.push(r+=u);for(var p=void 0;p=s.pop();)t.isValidLookup(o)||(o=t.getResource(i,e,p,n))}}))}))}})),{res:o,usedKey:i}},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(e,t,n,o)},t}(ko),Qo=Yo;function Zo(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ei=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=To.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Zo(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Zo(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Zo(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=function(e){e&&(n.isWhitelisted(e)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),o.forEach((function(e){i.indexOf(e)<0&&r(n.formatLanguageCode(e))})),i},e}();var ti=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],ni={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}};var oi=function(){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.languageUtils=t,this.options=o,this.logger=To.create("pluralResolver"),this.rules=(n={},ti.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:ni[e.fc]}}))})),n)}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&t.numbers.length>1},e.prototype.getPluralFormsOfKey=function(e,t){var n=this,o=[],i=this.getRule(e);return i?(i.numbers.forEach((function(i){var r=n.getSuffix(e,i);o.push(""+t+r)})),o):o},e.prototype.getSuffix=function(e,t){var n=this,o=this.getRule(e);if(o){var i=o.noAbs?o.plurals(t):o.plurals(Math.abs(t)),r=o.numbers[i];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var a=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_"+r.toString():a():"v2"===this.options.compatibilityJSON||2===o.numbers.length&&1===o.numbers[0]||2===o.numbers.length&&1===o.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+e),""},e}(),ii=oi,ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var ai=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logger=To.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||Ho),e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.prefix=t.prefix?Uo(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Uo(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Uo(t.nestingPrefix):t.nestingPrefixEscaped||Uo("$t("),this.nestingSuffix=t.nestingSuffix?Uo(t.nestingSuffix):t.nestingSuffixEscaped||Uo(")"),this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,t,n){var o=this,i=void 0,r=void 0,a=void 0;function s(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(o.formatSeparator)<0)return Bo(t,e);var i=e.split(o.formatSeparator),r=i.shift().trim(),a=i.join(o.formatSeparator).trim();return o.format(Bo(t,r),a,n)};for(this.resetRegExp(),a=0;(i=this.regexpUnescape.exec(e))&&(r=c(i[1].trim()),e=e.replace(i[0],r),this.regexpUnescape.lastIndex=0,!(++a>=this.maxReplaces)););for(a=0;i=this.regexp.exec(e);){if("string"!=typeof(r=c(i[1].trim()))&&(r=Lo(r)),!r)if("function"==typeof this.options.missingInterpolationHandler){var l=this.options.missingInterpolationHandler(e,i);r="string"==typeof l?l:""}else this.logger.warn("missed to pass in variable "+i[1]+" for interpolating "+e),r="";if(r=this.escapeValue?s(this.escape(r)):s(r),e=e.replace(i[0],r),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return e},e.prototype.nest=function(e,t){var n=void 0,o=void 0,i=ri({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});function r(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var o=n.join(",");o=(o=this.interpolate(o,i)).replace(/'/g,'"');try{i=JSON.parse(o),t&&(i=ri({},t,i))}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}for(i.applyPostProcessor=!1;n=this.nestingRegexp.exec(e);){if((o=t(r.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof o)return o;"string"!=typeof o&&(o=Lo(o)),o||(this.logger.warn("missed to resolve "+n[1]+" for nesting "+e),o=""),e=e.replace(n[0],o),this.regexp.lastIndex=0}return e},e}(),si=ai,ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},li=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function ui(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var pi=function(e){function t(n,o,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return a.backend=n,a.store=o,a.languageUtils=i.languageUtils,a.options=r,a.logger=To.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,r.backend,r),a}return ui(t,e),t.prototype.queueLoad=function(e,t,n){var o=this,i=[],r=[],a=[],s=[];return e.forEach((function(e){var n=!0;t.forEach((function(t){var a=e+"|"+t;o.store.hasResourceBundle(e,t)?o.state[a]=2:o.state[a]<0||(1===o.state[a]?r.indexOf(a)<0&&r.push(a):(o.state[a]=1,n=!1,r.indexOf(a)<0&&r.push(a),i.indexOf(a)<0&&i.push(a),s.indexOf(t)<0&&s.push(t)))})),n||a.push(e)})),(i.length||r.length)&&this.queue.push({pending:r,loaded:{},errors:[],callback:n}),{toLoad:i,pending:r,toLoadLanguages:a,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,n){var o=this,i=e.split("|"),r=li(i,2),a=r[0],s=r[1];t&&this.emit("failedLoading",a,s,t),n&&this.store.addResourceBundle(a,s,n),this.state[e]=t?-1:2,this.queue.forEach((function(n){var i,r,c,l,u,p;i=n.loaded,r=s,l=No(i,[a],Object),u=l.obj,p=l.k,u[p]=u[p]||[],c&&(u[p]=u[p].concat(r)),c||u[p].push(r),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(o.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.queue=this.queue.filter((function(e){return!e.done}))},t.prototype.read=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments[5];return e.length?this.backend[n](e,t,(function(s,c){s&&c&&o<5?setTimeout((function(){i.read.call(i,e,t,n,o+1,2*r,a)}),r):a(s,c)})):a(null,{})},t.prototype.load=function(e,t,n){var o=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=ci({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var r=this.queueLoad(e,t,n);if(!r.toLoad.length)return r.pending.length||n(),null;i.allowMultiLoading&&this.backend.readMulti?this.read(r.toLoadLanguages,r.toLoadNamespaces,"readMulti",null,null,(function(e,t){e&&o.logger.warn("loading namespaces "+r.toLoadNamespaces.join(", ")+" for languages "+r.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&o.logger.log("successfully loaded namespaces "+r.toLoadNamespaces.join(", ")+" for languages "+r.toLoadLanguages.join(", ")+" via multiloading",t),r.toLoad.forEach((function(n){var i=n.split("|"),r=li(i,2),a=r[0],s=r[1],c=Bo(t,[a,s]);if(c)o.loaded(n,e,c);else{var l="loading namespace "+s+" for language "+a+" via multiloading failed";o.loaded(n,l),o.logger.error(l)}}))})):r.toLoad.forEach((function(e){o.loadOne(e)}))},t.prototype.reload=function(e,t){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var o=ci({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),o.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,(function(o,i){o&&n.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",o),!o&&i&&n.logger.log("successfully reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",i),e.forEach((function(e){t.forEach((function(t){var r=Bo(i,[e,t]);if(r)n.loaded(e+"|"+t,o,r);else{var a="reloading namespace "+t+" for language "+e+" via multiloading failed";n.loaded(e+"|"+t,a),n.logger.error(a)}}))}))})):e.forEach((function(e){t.forEach((function(t){n.loadOne(e+"|"+t,"re")}))}))},t.prototype.loadOne=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),i=li(o,2),r=i[0],a=i[1];this.read(r,a,"read",null,null,(function(o,i){o&&t.logger.warn(n+"loading namespace "+a+" for language "+r+" failed",o),!o&&i&&t.logger.log(n+"loaded namespace "+a+" for language "+r,i),t.loaded(e,o,i)}))},t.prototype.saveMissing=function(e,t,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(e,t,n,o,null,ci({},r,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,o)},t}(ko),di=pi,fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function gi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var mi=function(e){function t(n,o,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return a.cache=n,a.store=o,a.services=i,a.options=r,a.logger=To.create("cacheConnector"),a.cache&&a.cache.init&&a.cache.init(i,r.cache,r),a}return gi(t,e),t.prototype.load=function(e,t,n){var o=this;if(!this.cache)return n&&n();var i=fi({},this.cache.options,this.options.cache),r="string"==typeof e?this.services.languageUtils.toResolveHierarchy(e):e;i.enabled?this.cache.load(r,(function(e,t){if(e&&o.logger.error("loading languages "+r.join(", ")+" from cache failed",e),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(var a in t[i])if(Object.prototype.hasOwnProperty.call(t[i],a)&&"i18nStamp"!==a){var s=t[i][a];s&&o.store.addResourceBundle(i,a,s)}n&&n()})):n&&n()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(ko),hi=mi;function yi(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}var bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function wi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}function Si(){}var _i=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=wi(this,e.call(this));if(i.options=yi(n),i.services={},i.logger=To,i.modules={external:[]},o&&!i.isInitialized&&!n.isClone){var r;if(!i.options.initImmediate)return r=i.init(n,o),wi(i,r);setTimeout((function(){i.init(n,o)}),0)}return i}return Pi(t,e),t.prototype.init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function o(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),this.options=vi({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};return e[1]&&(t.defaultValue=e[1]),e[2]&&(t.tDescription=e[2]),t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,yi(t)),this.format=this.options.interpolation.format,n||(n=Si),!this.options.isClone){this.modules.logger?To.init(o(this.modules.logger),this.options):To.init(null,this.options);var i=new ei(this.options);this.store=new qo(this.options.resources,this.options);var r=this.services;r.logger=To,r.resourceStore=this.store,r.resourceStore.on("added removed",(function(e,t){r.cacheConnector.save()})),r.languageUtils=i,r.pluralResolver=new ii(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),r.interpolator=new si(this.options),r.backendConnector=new di(o(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.emit.apply(e,[t].concat(o))})),r.backendConnector.on("loaded",(function(e){r.cacheConnector.save()})),r.cacheConnector=new hi(o(this.modules.cache),r.resourceStore,r,this.options),r.cacheConnector.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.emit.apply(e,[t].concat(o))})),this.modules.languageDetector&&(r.languageDetector=o(this.modules.languageDetector),r.languageDetector.init(r,this.options.detection,this.options)),this.translator=new Qo(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.emit.apply(e,[t].concat(o))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var a=function(){e.changeLanguage(e.options.lng,(function(t,o){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),n(t,o)}))};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Si;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(e){n.indexOf(e)<0&&n.push(e)}))};if(this.language)o(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)}));this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.cacheConnector.load(n,this.options.ns,(function(){e.services.backendConnector.load(n,e.options.ns,t)}))}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&zo.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,o=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources((function(o){!function(e,o){n.translator.changeLanguage(o),o&&(n.emit("languageChanged",o),n.logger.log("languageChanged",o)),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(o,e)}))};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect())},t.prototype.getFixedT=function(e,t){var n=this,o=function e(t,o){for(var i=arguments.length,r=Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var s=vi({},o);return"object"!==(void 0===o?"undefined":bi(o))&&(s=n.options.overloadTranslationOptionHandler([t,o].concat(r))),s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,n.t(t,s)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o},t.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},t.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],o=e.filter((function(e){return n.indexOf(e)<0}));if(!o.length)return t();this.options.preload=n.concat(o),this.loadResources(t)},t.prototype.dir=function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"},t.prototype.createInstance=function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Si,i=vi({},this.options,n,{isClone:!0}),r=new t(i);return["store","services","language"].forEach((function(t){r[t]=e[t]})),r.translator=new Qo(r.services,r.options),r.translator.on("*",(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r.emit.apply(r,[e].concat(n))})),r.init(i,o),r.translator.options=r.options,r},t}(ko),Ii=new _i,Di=Ii,Ai=(Ii.changeLanguage.bind(Ii),Ii.cloneInstance.bind(Ii),Ii.createInstance.bind(Ii));Ii.dir.bind(Ii),Ii.exists.bind(Ii),Ii.getFixedT.bind(Ii),Ii.init.bind(Ii),Ii.loadLanguages.bind(Ii),Ii.loadNamespaces.bind(Ii),Ii.loadResources.bind(Ii),Ii.off.bind(Ii),Ii.on.bind(Ii),Ii.setDefaultNamespace.bind(Ii),Ii.t.bind(Ii),Ii.use.bind(Ii);function Oi(e){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oi(e)}var xi=[],Ei=xi.forEach,Ri=xi.slice;function Mi(e){return Ei.call(Ri.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function Ti(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":Oi(XMLHttpRequest))}var Ci,ki,Li,Ni=r(1404),ji=r.t(Ni,2);function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}"function"==typeof fetch&&(Ci="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),Ti()&&("undefined"!=typeof global&&global.XMLHttpRequest?ki=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(ki=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Li=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Li=window.ActiveXObject)),Ci||!ji||ki||Li||(Ci=Ni||ji),"function"!=typeof Ci&&(Ci=void 0);var Ki=function(e,t){if(t&&"object"===Bi(t)){var n="";for(var o in t)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},Ui=function(e,t,n){Ci(e,t).then((function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)})).catch(n)},Fi=!1,Hi=function(e,t,n,o){return"function"==typeof n&&(o=n,n=void 0),o=o||function(){},Ci?function(e,t,n,o){e.queryStringParams&&(t=Ki(t,e.queryStringParams));var i=Mi({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(i["Content-Type"]="application/json");var r="function"==typeof e.requestOptions?e.requestOptions(n):e.requestOptions,a=Mi({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},Fi?{}:r);try{Ui(t,a,o)}catch(e){if(!r||0===Object.keys(r).length||!e.message||e.message.indexOf("not implemented")<0)return o(e);try{Object.keys(r).forEach((function(e){delete a[e]})),Ui(t,a,o),Fi=!0}catch(e){o(e)}}}(e,t,n,o):Ti()||"function"==typeof ActiveXObject?function(e,t,n,o){n&&"object"===Bi(n)&&(n=Ki("",n).slice(1)),e.queryStringParams&&(t=Ki(t,e.queryStringParams));try{var i;(i=ki?new ki:new Li("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var r=e.customHeaders;if(r="function"==typeof r?r():r)for(var a in r)i.setRequestHeader(a,r[a]);i.onreadystatechange=function(){i.readyState>3&&o(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(e){console&&console.log(e)}}(e,t,n,o):void o(new Error("No fetch and no xhr implementation found!"))};function Wi(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Gi=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:Hi,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Vi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=o,this.type="backend",this.init(t,n,o)}var t,n,o;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=Mi(n,this.options||{},Gi()),this.allOptions=o,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,o,i){var r,a=this,s=this.options.loadPath;"function"==typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"==typeof e.then}(r=s)?r:Promise.resolve(r)).then((function(r){if(!r)return i(null,{});var s=a.services.interpolator.interpolate(r,{lng:e.join("+"),ns:n.join("+")});a.loadUrl(s,i,t,o)}))}},{key:"loadUrl",value:function(e,t,n,o){var i=this;this.options.request(this.options,e,void 0,(function(r,a){if(a&&(a.status>=500&&a.status<600||!a.status))return t("failed loading "+e+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e+"; status code: "+a.status,!1);if(!a&&r&&r.message&&r.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+r.message,!0);if(r)return t(r,!1);var s,c;try{s="string"==typeof a.data?i.options.parse(a.data,n,o):a.data}catch(t){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,o,i){var r=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var a=this.options.parsePayload(t,n,o),s=0,c=[],l=[];e.forEach((function(n){var o=r.options.addPath;"function"==typeof r.options.addPath&&(o=r.options.addPath(n,t));var u=r.services.interpolator.interpolate(o,{lng:n,ns:t});r.options.request(r.options,u,a,(function(t,n){s+=1,c.push(t),l.push(n),s===e.length&&i&&i(c,l)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,o=t.languageUtils,i=t.logger,r=n.language;if(!r||"cimode"!==r.toLowerCase()){var a=[],s=function(e){o.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};s(r),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(o,r){o&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),o),!o&&r&&i.log("loaded namespace ".concat(e," for language ").concat(t),r),n.loaded("".concat(t,"|").concat(e),o,r)}))}))}))}}}],n&&Wi(t.prototype,n),o&&Wi(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();Vi.type="backend";var qi=Vi;async function zi(e,t){return new Promise(((n,o)=>{Di.use(qi).init({lng:t,fallbackLng:"en",keySeparator:"$",interpolation:{escapeValue:!1},backend:{loadPath:e+"assets/locale/Members/Members_{{lng}}.json",crossDomain:!0},react:{wait:!0}},(e=>e?o(e):n(Di)))}))}var $i=zi;const Ji=async(e,t)=>{const n=t?await(async e=>(e=e||window.editorSDK,await e&&e.environment&&e.environment.getLocale()))(e):await xo(e),o=await zi(Vt(),n);return o.t.bind(o)},Xi="members-login-bar",Yi={componentType:"platform.components.AppWidget",style:{skin:"platform.components.skins.AppWidgetSkin",style:{}},type:"Container",layout:{width:120,height:40,x:850,y:56,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"AppController",applicationId:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",name:"login-bar-controller",controllerType:Xi,id:"login-bar-controller-id"}},Qi={...Yi,layout:{x:818,y:56,fixedPosition:!1,width:120,height:40,scale:1,rotationInDegrees:0}},Zi=[{type:"Component",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin",componentType:"wysiwyg.viewer.components.LoginSocialBar",data:uo,props:fo,style:{type:"TopLevelStyle",style:{properties:lo,propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.LoginSocialBar",pageId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.LoginSocialBarSkin"},layout:{width:120,height:40,scale:1,rotationInDegrees:0,fixedPosition:!1,x:0,y:0},connections:po}],er={...Yi,components:Zi},tr={...Qi,components:Zi},nr=e=>{let t,n,{isHorizontal:o,isRtl:i}=e;return o?(t=i?vo:bo,n={...wo,layout:{width:956,height:40,x:12,y:250,scale:1,rotationInDegrees:0,fixedPosition:!1}}):(t=i?be:he,n={...wo,layout:{x:20,y:275,width:250,height:94,scale:1,rotationInDegrees:0,fixedPosition:!1}}),{...n,components:[{...t,connections:yo}]}},{APP_TOKEN:or}=e;async function ir(e,t){const n=Wt(),o=await Nt(),i=!Gt()||o,{appDefinitionId:r}=Te;if(await io({editorSDK:e,appDefinitionId:r})){const t=await ao({editorSDK:e,appDefinitionId:r});if(null!=t&&t.applicationId){const n=await so({editorSDK:e,applicationId:t.applicationId});if(n&&n.length>0){const t=await async function(e){let{editorSDK:t,ids:n}=e;const o=e=>t.components.getById(or,{id:e});return Promise.all(n.map(o))}({editorSDK:e,ids:n.map((e=>e.id))});await async function(e){let{editorSDK:t,componentsRefs:n}=e;return Promise.all(n.map((e=>t.components.remove(or,{componentRef:e}))))}({editorSDK:e,componentsRefs:t})}}else at("Invalid getDataByAppDefId",{extra:{appDefinitionId:r,source:"addProfileWidget"}})}await e.tpa.add.application(or,{appDefinitionId:r,...i?Be:je,containerRef:t,cancelSave:!0});try{if(i){const{applicationId:t}=await e.tpa.app.getDataByAppDefId(or,Te.appDefinitionId),n=await e.tpa.app.getAllCompsByApplicationId(or,t),o=await e.components.getById(or,{id:n[0].id});await e.components.layout.update(or,{componentRef:o,layout:Be})}}catch(e){at("An error occured when resizing PW to horizontal layout, the MA installation will most likely look broken",{tags:{error:e.toString()}})}if(n){const{applicationId:t}=await e.tpa.app.getDataByAppDefId(or,Te.appDefinitionId),n=(await e.tpa.app.getAllCompsByApplicationId(or,t))[0].id,o=await e.components.getById(or,{id:n});await e.document.responsiveLayout.update(or,{componentRef:o,responsiveLayout:ke})}}async function rr(e,t,n,o){void 0===o&&(o=!0);const i=Wt(),r=!Gt(),a=o?me:ge,s=e.info.getLanguage(or),c=await e.components.layout.get(or,{componentRef:n});let l;a.layout.y=(c.height-a.layout.height)/2,a.data.language=await s;let u=t;if(r){const t=i?mo:o?tr:er;u=await e.components.add(or,{pageRef:n,componentDefinition:t,showAddToHeaderPanel:!1}),l=(await e.document.components.getChildren(or,{componentRef:u}))[0]}else l=await e.components.add(or,{pageRef:n,componentDefinition:i?a:{...a,layoutResponsive:void 0},showAddToHeaderPanel:!1});await ar(e,l,!r)}async function ar(e,t,n){const o=Tn(),i={menuItemsRef:{menuRef:"#"+o.login,type:"CustomMenuDataRef"},iconItemsRef:{menuRef:"#"+o.icons,type:"CustomMenuDataRef"}};if(await e.components.data.update(or,{componentRef:t,data:i}),n){const n=await Yn(e);await no({editorSDK:e,controllerRef:n,connectToRef:t,role:"members_login"})}}async function sr(e,t,n,o,i,r){void 0===i&&(i=!1);const a=Wt(),s=Gt(),c=await Nt(),l=(!Gt()||c)&&i,u=a||l,p=!s,d=await xo(e),f=Oo(d),g=await $i(Vt(),d);if(p){let o;a?(o=f?Do:Io,o.components[0].props.moreButtonLabel=g.t("Members_Subpages_Horizontal_Menu")):(o=nr({isHorizontal:i,isRtl:f}),o.components[0].props.moreButtonLabel=g.t("Members_Subpages_Horizontal_Menu"));const r=await e.components.add(or,{pageRef:n,componentDefinition:o,showAddToHeaderPanel:!1}),s=(await e.document.components.getChildren(or,{componentRef:r}))[0];return lr(e,s,t)}let m;if(u){const e={...ve,layout:{...ve.layout,y:r||ve.layout.y}},t={...ye,layout:{...ye.layout,y:r||ye.layout.y}};m=f?e:t,m.props.moreButtonLabel=g.t("Members_Subpages_Horizontal_Menu")}else m=f?be:he;const h=await e.components.add(or,{pageRef:n,componentDefinition:m,showAddToHeaderPanel:!1});await Promise.all([cr(e,h,o),lr(e,h,t)])}async function cr(e,t,n){await no({editorSDK:e,controllerRef:n,connectToRef:t,role:"members_menu"})}async function lr(e,t,n){await e.menu.connect(or,{menuCompPointer:t,menuId:n})}async function ur(e,t){var n;const o=t.id!==xe&&"AppController"===(null==(n=await e.components.data.get(or,{componentRef:t}))?void 0:n.type);let i=t;if(o){var r;if(i=null==(r=(await e.controllers.getControllerConnections("",{controllerRef:t}))[0])?void 0:r.componentRef,!i)return}const a=await e.components.data.get(or,{componentRef:i}),s=await xo(e);(function(e){if(!e)return!1;switch(e.type){case"LoginSocialBar":return!0;case"CustomMenuDataRef":case"MenuDataRef":return"#MEMBERS_SUB_MENU"===e.menuRef;default:return!1}})(a)&&(await e.components.properties.update(or,{componentRef:i,props:{itemsAlignment:Oo(s)?"right":"left"}}),"LoginSocialBar"===a.type?await ar(e,i,!o):"MenuDataRef"!==a.type&&"CustomMenuDataRef"!==a.type||o||await async function(e,t){const n=Tn(),o=await Yn(e);await Promise.all([cr(e,t,o),lr(e,t,n.members)])}(e,i))}async function pr(e){const t=await dr(e);t&&await e.components.remove(or,{componentRef:t})}async function dr(e){const t=await e.components.getById(or,{id:Ee});if(t)return t;return await e.components.getById(or,{id:Ee+"_1"})}function fr(e){let{editorSDK:t,componentRef:n}=e;return t.components.layout.get("",{componentRef:n})}function gr(e){let{editorSDK:t,componentRef:n,layout:o}=e;return t.document.components.layout.update("",{componentRef:n,layout:o})}function mr(e){let{editorSDK:t,componentRef:n}=e;return t.document.components.remove("",{componentRef:n})}function hr(e){let{editorSDK:t,componentRef:n}=e;return t.document.components.getChildren("",{componentRef:n})}async function yr(e){let{editorSDK:t,parentComponentRef:n}=e;const o=await t.document.components.getChildren(or,{componentRef:n}),i=await Promise.all(o.map((e=>yr({editorSDK:t,parentComponentRef:e}))));return In().flatten(o.concat(i))}function br(e){let{editorSDK:t,componentRef:n}=e;return t.document.components.data.get("",{componentRef:n})}async function vr(e){let{editorSDK:t}=e;const n=await dr(t),o=await hr({editorSDK:t,componentRef:n}),i=await Promise.all(o.map((e=>br({editorSDK:t,componentRef:e})))),r=i.find((e=>e.appDefinitionId===Te.appDefinitionId));return o[i.indexOf(r)]}async function wr(e){let{editorSDK:t,pwComponentRef:n,sospContainerRef:o,menuRef:i}=e;const r=n||await vr({editorSDK:t}),a=o||await dr(t),s=i||await async function(e){let{editorSDK:t,sospContainerRef:n}=e;const o=await hr({editorSDK:t,componentRef:n}),i=await Promise.all(o.map((e=>br({editorSDK:t,componentRef:e})))),r=i.find((e=>e.menuRef==="#"+we.SUB_MENU_ID));return o[i.indexOf(r)]}({editorSDK:t,sospContainerRef:a});if(!s||!a||!r)return;const c=await fr({editorSDK:t,componentRef:r}),l=await fr({editorSDK:t,componentRef:s}),u=c.y+c.height+Ne,p=c.height+l.height+Le+2*Ne;await gr({editorSDK:t,componentRef:a,layout:{height:p}}),await gr({editorSDK:t,componentRef:s,layout:{y:u}})}function Pr(e){let{editorSDK:t,id:n}=e;return t.document.components.getById("",{id:n})}function Sr(e){let{editorSDK:t,componentRef:n,style:o}=e;return t.document.components.style.updateFull("",{componentRef:n,style:o})}async function _r(e){const t=await e.siteSegments.getHeader(or);return yr({editorSDK:e,parentComponentRef:t})}async function Ir(e){const t=(await _r(e)).map((t=>async function(e){let{editorSDK:t,componentRef:n}=e;return t.components.getType(or,{componentRef:n})}({editorSDK:e,componentRef:t})));return(await Promise.all(t)).includes("wysiwyg.viewer.components.LoginSocialBar")}function Dr(e){return e.document.application.registerToCustomEvents(or,{eventTypes:["componentAddedToStage"]})}const Ar=async e=>{const t=[],n=Tn(),[o,i,r,a]=await Promise.all([dr(e),e.pagesGroup.getAll(ae),Fn(e),e.controllers.listControllers(ae,{})]);for(const o of Object.values(n)){const n=await e.menu.getById(ae,{menuId:o});n&&t.push(n)}return{_routers:r,controllers:a,_menus:t,sospContainer:o,pagesGroupsRefs:i}};async function Or(e,t){return async function(e,t){let{shouldLog:n=!1}=void 0===t?{}:t;const{_routers:o,_menus:i,sospContainer:r,pagesGroupsRefs:a}=await Ar(e);n&&2===o.length&&i.length>=2&&!r&&at("SOSP container is not apparent when checking whether the application is properly installed",{extra:{pagesGroupsRefs:JSON.stringify(a)}});const s=2===o.length&&(o[0].pages.length>0||o[1].pages.length>0);return 2===o.length&&i.length>=2&&(r?1===a.length:s)}(e,t)}var xr;!function(e){e.IntegrationStart="integrationStart",e.IntegrationFinish="integrationFinish",e.MembersAreaInstallStart="membersAreaInstallStart",e.MembersAreaInstallFinish="membersAreaInstallFinish",e.IntegratedAppsInstallStart="integratedAppsInstallStart",e.IntegratedAppsInstallFinish="integratedAppsInstallFinish"}(xr||(xr={}));class Er{static setEditorSDK(e){Er.editorSDK=e}static getEditorSDK(){return Er.editorSDK}static setEditorReadyOptions(e){Er.editorReadyOptions=e}static getEditorReadyOptions(){return Er.editorReadyOptions}static setAppDefinitionId(e){Er.appDefinitionId=e}static getAppDefinitionId(){return Er.appDefinitionId}static getIntegrationOptions(){return Er.integrationOptions}static setIntegrationOptions(e){Er.integrationOptions=e}static setInstallationEnabled(e){Er.installationEnabled=e}static getInstallationEnabled(){return Er.installationEnabled}static setWasMembersAreaInstalledInitially(e){Er.wasMembersAreaInstalledInitially=e}static getWasMembersAreaInstalledInitially(){return Er.wasMembersAreaInstalledInitially}static setFlowApi(e){Er.flowApi=e}static getFlowApi(){return Er.flowApi}static isErrorReportEnabled(){return Er.integrationOptions.reportErrors}}Er.installationEnabled=!0,Er.wasMembersAreaInstalledInitially=!1;var Rr=r(4819),Mr=r.n(Rr);async function Tr(e){const t=await Fn(e);if(0===t.length)throw new Error("Could not find both routers in #getMembersAreaRouters");const n=t.find((e=>"public"===e.config.type));if(!n)throw new Error("Could not find the public router in #getMembersAreaRouters");const o=t.find((e=>"private"===e.config.type));if(!o)throw new Error("Could not find the private router in #getMembersAreaRouters");return{publicRouter:n,privateRouter:o}}function Cr(e){let{editorSDK:t,pages:n,pagesUids:o,routerRef:i}=e;const r=n.map(((e,n)=>function(e){let{editorSDK:t,pageRef:n,pageRoles:o,routerRef:i}=e;return t.routers.pages.connect(ae,{pageRef:n,routerRef:i,pageRoles:o})}({editorSDK:t,pageRef:e.pageData.pageRef,pageRoles:[o[n]],routerRef:i})));return Promise.all(r)}async function kr(e){let{editorSDK:t,pages:n,router:o}=e;const i=new Array(n.length).fill(null).map((()=>Mr().v4())),r=await zn({editorSDK:t,prefix:o.prefix}),a=function(e){let{pages:t,pagesUids:n}=e;return t.reduce(((e,t,o)=>{const{title:i,isPrivate:r,pageUriSEO:a}=t.pageData,s=t.urlOverride||a,c=r?"/"+s:"/{userName}/"+s,{appData:l,socialHome:u}=t.routerConfig||{},p=function(e,t,n){return void 0===n&&(n=!1),{title:t?e:"{userName} | "+e,description:"",keywords:"",noIndex:(t||n).toString()}}(i,r,!0);return e[c]={socialHome:u,appData:l,page:n[o],seoData:p,title:i,pageId:t.routerConfig.pageId},e}),{})}({pages:n,pagesUids:i}),s={...o.config.patterns||{},...a},c={...o.config,patterns:s};await Cr({editorSDK:t,pages:n,pagesUids:i,routerRef:r}),await $n({editorSDK:t,config:c,routerRef:r});try{const e=(await Fn(t)).find((e=>e.id===o.id));Object.keys(e.config.patterns).length!==e.pages.length&&at("Router config got out of sync",{extra:{updatedRouter:e}})}catch(e){at("An error occured when confirming router configuration",{extra:{e:e}})}}const Lr=async e=>{let{editorSDK:t,router:n,patternKey:o}=e;const i=await zn({editorSDK:t,prefix:n.prefix});return delete n.config.patterns[o],$n({editorSDK:t,routerRef:i,config:n.config})};function Nr(e,t){var n;if(null!=e&&null!=(n=e.config)&&n.patterns)return Object.values(e.config.patterns).find((e=>e.appData.appPageId===t))}const{SUB_MENU_ID:jr,LOGIN_MENU_ID:Br,LOGIN_ICONS_MENU_ID:Kr}=we;const Ur=(e,t,n,o)=>{const i=t.filter((e=>(e=>{var t,n;let{item:o,privateRouter:i,publicRouter:r}=e;const a=r.config.patterns||{},s=i.config.patterns||{};return!!a["/"+(null==(t=o.link)?void 0:t.innerRoute)]||!!s["/"+(null==(n=o.link)?void 0:n.innerRoute)]})({item:e,privateRouter:n,publicRouter:o})));if(i.length<t.length){at("Fixing menu "+e+": removing items which are not apparent in any router",{tags:{removedItems:t.filter((e=>i.indexOf(e)<0)).map((e=>e.label)).join(", ")}})}return i},Fr=e=>{let{items:t,menuId:n}=e;const o=[];return t.forEach((e=>{!o.find((t=>t.link.innerRoute===e.link.innerRoute))?o.push(e):at("Fixing menu "+n+": removing item duplication",{tags:{removedItem:e.label}})})),o};async function Hr(e){const t=!!e.document.menu.getDefaultMenuId&&!!await function(e){let{editorSDK:t}=e;return t.document.menu.getDefaultMenuId(ae)}({editorSDK:e});return Wr({editorSDK:e,shouldDisableHorizontalMenuFixing:t&&!Gt(),shouldDisableLoginMenuFixing:t&&!Wt()&&!Gt()})}async function Wr(e){let{editorSDK:t,shouldDisableHorizontalMenuFixing:n,shouldDisableLoginMenuFixing:o}=e;const[{publicRouter:i,privateRouter:r},a,s,c]=await Promise.all([Tr(t),Ln({editorSDK:t,menuId:jr}),Ln({editorSDK:t,menuId:Br}),Ln({editorSDK:t,menuId:Kr})]),l=n?a:Ur(jr,a,r,i),u=o?s:Ur(Br,s,r,i),p=Ur(Kr,c,r,i),d=n?l:Fr({items:l,menuId:jr}),f=o?u:Fr({items:u,menuId:Br}),g=Fr({items:p,menuId:Kr}),m=[];d.length<a.length&&m.push(Kn({editorSDK:t,menuId:jr,items:d})),f.length<s.length&&m.push(Kn({editorSDK:t,menuId:Br,items:f})),g.length<c.length&&m.push(Kn({editorSDK:t,menuId:Kr,items:g})),m.length>0&&await Promise.all(m)}function Gr(e){let{page:t,urlOverride:n,publicRouter:o,privateRouter:i}=e;const{pageData:r}=t,a=t.pageData.isPrivate?i.id:o.id;let s=n||r.pageUriSEO;s=r.isPrivate?s:"{userName}/"+s;const c={type:"DynamicPageLink",routerId:a,innerRoute:s};return{type:"BasicMenuItem",items:[],label:r.title,link:c}}function Vr(e){let{menuItems:t,publicRouter:n,privateRouter:o}=e;return[n,o].forEach((e=>e.config&&e.config.patterns&&Object.keys(e.config.patterns).forEach((n=>{const o=t.filter((t=>{var o;return(null==(o=t.link)?void 0:o.routerId)===e.id&&"/"+t.link.innerRoute===n})).pop();o&&(o.order=e.config.patterns[n].appData.menuOrder||Me)})))),In().sortBy(t,(e=>e.order||Me))}async function qr(e){let{editorSDK:t,pages:n}=e;const[{publicRouter:o,privateRouter:i},r,a,s]=await Promise.all([Tr(t),Ln({editorSDK:t,menuId:jr}),Ln({editorSDK:t,menuId:Br}),Ln({editorSDK:t,menuId:Kr})]),c=function(e){let{pages:t,publicRouter:n,privateRouter:o}=e;return t.filter((e=>e.showInMemberMenu||void 0===e.showInMemberMenu)).map((e=>Gr({page:e,urlOverride:e.urlOverride,publicRouter:n,privateRouter:o})))}({pages:n,publicRouter:o,privateRouter:i}),l=function(e){let{pages:t,publicRouter:n,privateRouter:o}=e;return t.filter((e=>e.showInLoginMenu)).map((e=>({...Gr({page:e,urlOverride:e.urlOverride,publicRouter:n,privateRouter:o}),label:e.loginMenuTitle||e.pageData.title})))}({pages:n,publicRouter:o,privateRouter:i}),u=function(e){let{pages:t,publicRouter:n,privateRouter:o}=e;return t.filter((e=>e.showInIconsMenu)).map((e=>({...Gr({page:e,urlOverride:e.urlOverride,publicRouter:n,privateRouter:o}),iconRef:{svgId:"2c36dc006cb94853a49daee7e821f642.svg",type:"VectorImage"}})))}({pages:n,publicRouter:o,privateRouter:i}),p=c.length>0,d=l.length>0,f=u.length>0,g=Vr({menuItems:r.concat(c),publicRouter:o,privateRouter:i}),m=Vr({menuItems:a.concat(l),publicRouter:o,privateRouter:i}),h=Vr({menuItems:s.concat(u),publicRouter:o,privateRouter:i});return Promise.all([p&&Kn({editorSDK:t,menuId:jr,items:g}),d&&Kn({editorSDK:t,menuId:Br,items:m}),f&&Kn({editorSDK:t,menuId:Kr,items:h})].filter((e=>!!e)))}async function zr(e){let{editorSDK:t,pageRef:n,pageData:o}=e;await t.pages.data.update(ae,{pageRef:n,data:{...o,indexable:!1}})}async function $r(e){let{editorSDK:t,pageRef:n}=e;await t.pages.navigateTo(ae,{pageRef:n})}function Jr(e){let{editorSDK:t,pageRef:n}=e;return t.pages.data.get(ae,{pageRef:n})}function Xr(e){let{editorSDK:t}=e;return t.pages.getCurrent(ae)}function Yr(e){let{editorSDK:t,pageRef:n,shouldShowEditorRemovePanel:o,pageToNavigateAfterRemove:i}=e;return t.document.pages.remove(ae,{pageRef:n,shouldShowEditorRemovePanel:o,pageToNavigateAfterRemove:i})}function Qr(e){let{editorSDK:t}=e;return t.document.pages.data.getAll(ae)}async function Zr(e){const t=(await e.document.pages.data.getAll(ae)).find((e=>{let{tpaPageId:t}=e;return"members-area"===t}));if(!t)throw new Error("Members Area main page is not found");return t}async function ea(e){const t=await e.pagesGroup.getAll(ae);for(const n of t)await e.pagesGroup.remove(ae,{pagesGroupPointer:n})}async function ta(e,t){let{triesCount:n=1,maxTries:o=2,delayMs:i=0,delayConditionCheckMs:r=0,condition:a=(()=>Promise.resolve(!0)),message:s,previousError:c}=void 0===t?{}:t;try{const t=await e();r&&await new Promise((e=>setTimeout(e,r)));if(!await a(t))throw new Error('Condition in "'+s+'" was not satisfied');return n>1&&at("Retry suceeded at "+n+" time, message: "+s,{tags:{previousError:c&&c.toString()}}),t}catch(t){if(o<=1)throw"string"==typeof t?new Error("Failed after multiple retries: "+t):(t.message="Failed after multiple retries: "+t.message,t);return i>0&&await new Promise((e=>setTimeout(e,i))),ta(e,{maxTries:o-1,delayMs:i,triesCount:n+1,condition:a,message:s,previousError:t})}}function na(e){let t;const n=e=>{t||(t=e)};return Promise.all(e.map((e=>Promise.resolve(e).catch(n)))).then((function(e){if(t)throw t;return e}))}async function oa(e,t){if(!e)return;const n=await Promise.all(e.map(t));return e.filter(((e,t)=>n[t]))}const ia=({text:e="",bulletPoints:t=[]}={})=>`${e}<ul>${t.map((e=>`<li>${e}</li>`)).join("")}</ul>`,ra=C,aa=(e,t)=>Object.assign(Object.assign({},C),{method:"addApplication",loginMenuTitle:"Profile",showInLoginMenu:!0,menuOrder:1,social:!0,socialHome:!0,urlOverride:"profile",page:{name:t("member-pages.about.name"),shortDescription:t("member-pages.about.short-description"),description:ia({text:t("member-pages.about.description.text"),bulletPoints:[t("member-pages.about.description.bullet-point-1"),t("member-pages.about.description.bullet-point-2"),t("member-pages.about.description.bullet-point-3"),t("member-pages.about.description.bullet-point-4"),t("member-pages.about.description.bullet-point-5")]}),iconURL:`${e}assets/images/icons/members-area-icon.svg`,origin:t("member-pages.about.origin"),screenshots:[`${e}assets/images/about/profile.png`,`${e}assets/images/about/mobile-profile.png`]}}),sa=L,ca=()=>Object.assign({method:"addApplicationToSite",social:!0},L),la=U,ua=(e,t)=>Object.assign(Object.assign({},U),{social:!0,method:"addApplication",showInMemberMenu:!1,menuOrder:2,urlOverride:"followers",page:{name:t("member-pages.followers.name"),shortDescription:t("member-pages.followers.short-description"),description:ia({text:t("member-pages.followers.description.text"),bulletPoints:[t("member-pages.followers.description.bullet-point-1"),t("member-pages.followers.description.bullet-point-2"),t("member-pages.followers.description.bullet-point-3"),t("member-pages.followers.description.bullet-point-4")]}),iconURL:`${e}assets/images/icons/members-area-icon.svg`,origin:t("member-pages.followers.origin"),screenshots:[`${e}assets/images/followers/followers.png`,`${e}assets/images/followers/mobile-followers.png`]}}),pa=F,da=(e,t)=>Object.assign(Object.assign({},pa),{social:!0,numbers:{key:"createdCommentsCount",default:0},method:"addSection",urlOverride:"forum-comments",menuOrder:2,page:{name:t("comments_page_name"),shortDescription:t("comments_page_short_description"),description:t("comments_page_description"),iconURL:`${e}assets/images/icons/forum-icon.png`,origin:t("forum_origin"),screenshots:[`${e}assets/images/forum-comments/forum-comments.png`,`${e}assets/images/forum-comments/mobile-forum-comments.png`]}}),fa=H,ga=(e,t)=>Object.assign(Object.assign({},fa),{social:!0,numbers:{key:"postsCount",default:0},method:"addSection",urlOverride:"forum-posts",menuOrder:2,page:{name:t("posts_page_name"),shortDescription:t("posts_page_short_description"),description:t("posts_page_description"),iconURL:`${e}assets/images/icons/forum-icon.png`,origin:t("forum_origin"),screenshots:[`${e}assets/images/forum-posts/forum-posts.png`,`${e}assets/images/forum-posts/mobile-forum-posts.png`]}}),ma=Y,ha=()=>Object.assign(Object.assign({},ma),{numbers:{key:"notificationsCount",default:0},method:"addApplication",menuOrder:4,social:!1,urlOverride:"notifications"}),ya=Q,ba=()=>Object.assign(Object.assign({},ya),{method:"addApplication",menuOrder:4,social:!1,urlOverride:"settings"}),va=j,wa=(e,t)=>Object.assign(Object.assign({},j),{social:!0,numbers:{key:"commentsCount",default:0},method:"addSection",urlOverride:"blog-comments",menuOrder:2,page:{name:t("member-pages.comments.name"),shortDescription:t("member-pages.comments.short-description"),description:ia({text:t("member-pages.comments.description.text"),bulletPoints:[t("member-pages.comments.description.bullet-point-1"),t("member-pages.comments.description.bullet-point-2"),t("member-pages.comments.description.bullet-point-3")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/blog-comments/blog-comments.png`,`${e}assets/images/blog-comments/mobile-blog-comments.png`]}}),Pa=N,Sa=(e,t)=>Object.assign(Object.assign({},N),{social:!0,numbers:{key:"likesCount",default:0},method:"addSection",urlOverride:"blog-likes",menuOrder:2,page:{name:t("member-pages.likes.name"),shortDescription:t("member-pages.likes.short-description"),description:ia({text:t("member-pages.likes.description.text"),bulletPoints:[t("member-pages.likes.description.bullet-point-1"),t("member-pages.likes.description.bullet-point-2")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/blog-likes/blog-likes.png`,`${e}assets/images/blog-likes/mobile-blog-likes.png`]}}),_a=B,Ia=(e,t)=>Object.assign(Object.assign({},B),{social:!0,numbers:{key:"postsCount",default:0},method:"addSection",urlOverride:"blog-posts",visibleForRoles:["admin","blog_writer","blog_editor"],page:{name:t("member-pages.posts.name"),shortDescription:t("member-pages.posts.short-description"),description:ia({text:t("member-pages.posts.description.text"),bulletPoints:[t("member-pages.posts.description.bullet-point-1"),t("member-pages.posts.description.bullet-point-2"),t("member-pages.posts.description.bullet-point-3"),t("member-pages.posts.description.bullet-point-4")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/blog-posts/blog-posts.png`,`${e}assets/images/mobile-blog-posts/mobile-blog-posts.png`]}}),Da=K,Aa=(e,t)=>Object.assign(Object.assign({},K),{method:"addSection",urlOverride:"my-files",social:!0,menuOrder:2,page:{name:t("fileshare_page_name"),shortDescription:t("fileshare_page_short_description"),description:t("fileshare_page_description"),origin:t("fileshare_origin"),iconURL:`${e}assets/images/icons/file-share-icon.png`,screenshots:[`${e}assets/images/file-share/file-share.png`,`${e}assets/images/file-share/mobile-file-share.png`]}}),Oa=W,xa=(e,t)=>Object.assign(Object.assign({},Oa),{social:!1,showInLoginMenu:!0,method:"addApplication",urlOverride:"my-addresses",page:{name:t("memberPages.addModal.memberPagesTab.addresses.title"),shortDescription:t("memberPages.addModal.memberPagesTab.addresses.body"),origin:t("memberPages.addModal.memberPagesTab.by.stores.label"),description:ia({text:t("memberPages.addModal.memberPagesTab.addresses.description.body"),bulletPoints:[t("memberPages.addModal.memberPagesTab.addresses.description.bullet1"),t("memberPages.addModal.memberPagesTab.addresses.description.bullet2")]}),iconURL:`${e}assets/images/icons/stores-icon.png`,screenshots:[`${e}assets/images/my-addresses/my-addresses.png`,`${e}assets/images/my-addresses/my-addresses-2.png`,`${e}assets/images/my-addresses/my-addresses-3.png`,`${e}assets/images/my-addresses/mobile-my-addresses.png`,`${e}assets/images/my-addresses/mobile-my-addresses-2.png`]}}),Ea=G,Ra=(e,t)=>Object.assign(Object.assign({},Ea),{showInMemberMenu:!0,showInLoginMenu:!0,menuOrder:2,social:!1,shouldNavigate:!1,shouldInstallInitially:!0,urlOverride:"my-bookings",page:{name:t("members-area.my-bookings.page.title"),shortDescription:t("members-area.my-bookings.page.subtitle"),description:t("members-area.my-bookings.page.description"),origin:t("members-area.bookings.author"),iconURL:`${e}assets/images/icons/bookings-icon.png`,screenshots:[`${e}assets/images/my-bookings/my-bookings.png`,`${e}assets/images/my-bookings/my-bookings-2.png`,`${e}assets/images/my-bookings/mobile-my-bookings.png`,`${e}assets/images/my-bookings/mobile-my-bookings-2.png`]}}),Ma=V,Ta=(e,t)=>Object.assign(Object.assign({},Ma),{numbers:{key:"draftsCount",default:0},method:"addSection",social:!1,showInLoginMenu:!0,urlOverride:"my-drafts",menuOrder:2,visibleForRoles:["admin","blog_writer","blog_editor"],page:{name:t("member-pages.drafts.name"),shortDescription:t("member-pages.drafts.short-description"),description:ia({text:t("member-pages.drafts.description.text"),bulletPoints:[t("member-pages.drafts.description.bullet-point-1"),t("member-pages.drafts.description.bullet-point-2"),t("member-pages.drafts.description.bullet-point-3")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!1,screenshots:[`${e}assets/images/my-drafts/my-drafts.png`,`${e}assets/images/my-drafts/mobile-my-drafts.png`]}}),Ca=q,ka=(e,t)=>Object.assign(Object.assign({},Ca),{method:"addSection",social:!1,showInLoginMenu:!0,urlOverride:"my-posts",menuOrder:2,visibleForRoles:["admin","blog_writer","blog_editor","blog_guest_writer"],page:{name:t("member-pages.my-posts.name"),shortDescription:t("member-pages.my-posts.short-description"),description:ia({text:t("member-pages.my-posts.description.text"),bulletPoints:[t("member-pages.my-posts.description.bullet-point-1"),t("member-pages.my-posts.description.bullet-point-2"),t("member-pages.my-posts.description.bullet-point-3")]}),iconURL:`${e}assets/images/icons/blog-icon.png`,origin:t("member-pages.origin"),isNew:!0,screenshots:[`${e}assets/images/my-posts/my-posts.png`,`${e}assets/images/my-posts/mobile-my-posts.png`]}}),La=z,Na=(e,t)=>Object.assign(Object.assign({},La),{showInLoginMenu:!1,showInMemberMenu:!0,social:!0,socialHome:!1,method:"addSection",menuOrder:2,urlOverride:"events",page:{name:t("membersEventsPageName"),shortDescription:t("membersEventsPageShortDescription"),description:t("membersEventsPageDescription"),origin:t("membersEventsPageOrigin"),iconURL:`${e}assets/images/icons/events-icon.png`,screenshots:[`${e}assets/images/my-events/my-events.png`,`${e}assets/images/my-events/my-events-2.png`,`${e}assets/images/my-events/mobile-my-events.png`,`${e}assets/images/my-events/mobile-my-events-2.png`]}}),ja=$,Ba=(e,t)=>Object.assign(Object.assign({},ja),{social:!1,showInLoginMenu:!0,method:"addSection",urlOverride:"my-orders",page:{name:t("memberPages.addModal.memberPagesTab.orders.title"),shortDescription:t("memberPages.addModal.memberPagesTab.orders.body"),description:ia({text:t("memberPages.addModal.memberPagesTab.orders.description.body"),bulletPoints:[t("memberPages.addModal.memberPagesTab.orders.description.bullet1"),t("memberPages.addModal.memberPagesTab.orders.description.bullet2")]}),origin:t("memberPages.addModal.memberPagesTab.by.stores.label"),iconURL:`${e}assets/images/icons/stores-icon.png`,screenshots:[`${e}assets/images/my-orders/my-orders.png`,`${e}assets/images/my-orders/my-orders-2.png`]}}),Ka=J,Ua=(e,t)=>Object.assign(Object.assign({},Ka),{social:!1,showInLoginMenu:!0,method:"addApplication",urlOverride:"my-wallet",page:{name:t("members-area.my-wallet.page.title"),shortDescription:t("members-area.my-wallet.page.subtitle"),description:t("members-area.my-wallet.page.description"),origin:t("members-area.my-wallet.author"),iconURL:`${e}assets/images/icons/stores-icon.png`,screenshots:[`${e}assets/images/my-wallet/my-wallet.png`,`${e}assets/images/my-wallet/my-wallet-2.png`,`${e}assets/images/my-wallet/mobile-my-wallet.png`,`${e}assets/images/my-wallet/mobile-my-wallet-2.png`]}}),Fa=X,Ha=(e,t)=>Object.assign(Object.assign({},Fa),{social:!1,showInLoginMenu:!0,method:"addSection",shouldInstallInitially:!1,urlOverride:"my-wishlist",page:{name:t("memberPages.addModal.memberPagesTab.wishlist.title"),shortDescription:t("memberPages.addModal.memberPagesTab.wishlist.body"),description:ia({text:t("memberPages.addModal.memberPagesTab.wishlist.description.body"),bulletPoints:[t("memberPages.addModal.memberPagesTab.wishlist.description.bullet1"),t("memberPages.addModal.memberPagesTab.wishlist.description.bullet2")]}),iconURL:`${e}assets/images/icons/stores-icon.png`,origin:t("memberPages.addModal.memberPagesTab.by.stores.label"),screenshots:[`${e}assets/images/my-wishlist/my-wallet.png`]}}),Wa=Z,Ga=(e,t)=>Object.assign(Object.assign({},Wa),{method:"addSection",urlOverride:"gallery",social:!0,menuOrder:2,page:{name:t("gallery_page_name"),shortDescription:t("gallery_page_short_description"),description:t("gallery_page_description"),origin:t("shared_gallery_origin"),iconURL:`${e}assets/images/icons/shared-gallery-icon.png`,screenshots:[`${e}assets/images/shared-gallery/shared-gallery.png`,`${e}assets/images/shared-gallery/mobile-shared-gallery.png`]}}),Va=ee,qa=(e,t)=>Object.assign(Object.assign({},Va),{method:"addApplication",social:!1,showInLoginMenu:!0,urlOverride:"my-subscriptions",page:{name:t("editor.my-subscriptions-page.name"),shortDescription:t("editor.my-subscriptions-page.short-description"),description:t("editor.my-subscriptions-page.description"),iconURL:`${e}/assets/images/icons/pricing-plans.png`,origin:t("editor.my-subscriptions-page.origin"),isNew:!0,screenshots:[`${e}/assets/images/my-subscriptions/my-subscriptions.png`,`${e}/assets/images/my-subscriptions/my-subscriptions-2.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions-2.png`]}}),za=te,$a=(e,t)=>Object.assign(Object.assign({},za),{showInLoginMenu:!0,showInMemberMenu:!0,social:!1,socialHome:!1,method:"addSection",menuOrder:2,urlOverride:"challenges",page:{name:t("members-area.challenges.name"),shortDescription:t("members-area.challenges.short-description"),description:t("members-area.challenges.description"),origin:t("members-area.challenges.origin"),iconURL:`${e}assets/images/icons/challenges-icon.png`,screenshots:[`${e}assets/images/my-challenges/my-challenges.png`,`${e}assets/images/my-challenges/my-challenges-2.png`,`${e}assets/images/my-challenges/mobile-my-challenges.png`]}}),Ja=ne,Xa=(e,t)=>Object.assign(Object.assign({},Ja),{showInLoginMenu:!0,showInMemberMenu:!0,social:!1,socialHome:!1,method:"addSection",menuOrder:2,urlOverride:"challenges",page:{name:t("members-area.challenges.name"),shortDescription:t("members-area.challenges.short-description"),description:t("members-area.challenges.description"),origin:t("members-area.challenges.origin"),iconURL:`${e}assets/images/icons/challenges-icon.png`,screenshots:[`${e}assets/images/my-challenges/my-challenges.png`,`${e}assets/images/my-challenges/my-challenges-2.png`,`${e}assets/images/my-challenges/mobile-my-challenges.png`]}}),Ya=oe,Qa=(e,t)=>Object.assign(Object.assign({},Ya),{method:"addApplication",social:!1,showInLoginMenu:!0,urlOverride:"my-rewards",page:{name:t("editor.my-rewards-page.name"),shortDescription:t("editor.my-rewards-page.short-description"),description:t("editor.my-rewards-page.description"),iconURL:`${e}/assets/images/icons/loyalty.png`,origin:t("editor.my-rewards-page.origin"),isNew:!0,screenshots:[`${e}/assets/images/my-rewards/my-rewards.jpg`,`${e}/assets/images/my-rewards/my-rewards-mobile.jpg`,`${e}/assets/images/my-rewards/my-rewards-mobile-2.jpg`]}}),Za=ie,es=e=>Object.assign(Object.assign({},ie),{method:"addSection",loginMenuTitle:"Test Public Widget",showInLoginMenu:!0,social:!0,socialHome:!0,urlOverride:"test-public-widget",shouldInstallInitially:!1,page:{name:"Test Public Widget",shortDescription:"Test Public Widget",description:"Test Public Widget",iconURL:`${e}/assets/images/icons/pricing-plans.png`,origin:"Test Public Widget",isNew:!0,screenshots:[`${e}/assets/images/my-subscriptions/my-subscriptions.png`,`${e}/assets/images/my-subscriptions/my-subscriptions-2.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions.png`,`${e}/assets/images/my-subscriptions/mobile-my-subscriptions-2.png`]}}),ts=re,ns=()=>Object.assign(Object.assign({},re),{method:"addApplication",loginMenuTitle:"Test Private Widget",showInLoginMenu:!0,social:!1,urlOverride:"test-private-widget",shouldInstallInitially:!0}),os=[t,n,o,i,s,c,l,u,p,d,f,g,m,h,y,b,v,w,P,S,_,I,D,A,O,x],is=({locale:e,baseUrl:t,i18next:n})=>new Promise(((o,i)=>{const r=((e,t,n,o)=>e.use(qi).init({lng:t,fallbackLng:"en",keySeparator:"$",interpolation:{escapeValue:!1},backend:{loadPath:`${n}assets/translations/messages_{{lng}}.json`,crossDomain:!0}},o))(n,e,t,((e,t)=>e?i(e):o({t:t,i18nInstance:r})))}));const rs=new class{constructor(){this.init=(e,t,n)=>{if(!this._t)return is({i18next:e,locale:t,baseUrl:n}).catch((()=>is({i18next:e,locale:"en",baseUrl:n}))).catch((()=>({t:e=>e}))).then((({t:e})=>{this._t=e}))},this.t=(e,t={})=>{if(!this._t)throw new Error("Translation service was not initialized yet!");return this._t(e,t)}}},as=async({i18next:e,application:t,editorSDK:n,applicationsOptions:o})=>{var i,r,a;if("page"in t)return t;const s=null!==(r=await(null===(i=null==n?void 0:n.info)||void 0===i?void 0:i.getLanguage()))&&void 0!==r?r:"en",c=await(async e=>{var t;const n=await(null===(t=null==e?void 0:e.info)||void 0===t?void 0:t.getArtifactsUrls("",["members-area-app-definitions"])),o=null==n?void 0:n["members-area-app-definitions"];return o?`${o}/`:"https://static.parastorage.com/services/members-area-app-definitions/1.322.0/"})(n);await rs.init(e,s,c);const l=os.find((e=>{var n,o;return(null===(n=e.ids)||void 0===n?void 0:n.appDefinitionId)===t.appDefinitionId&&(null===(o=e.ids)||void 0===o?void 0:o.pageId)===t.pageId})),u=null==o?void 0:o.find((e=>{var n,o;return(null===(n=null==e?void 0:e.id)||void 0===n?void 0:n.appDefinitionId)===t.appDefinitionId&&(null===(o=null==e?void 0:e.id)||void 0===o?void 0:o.pageId)===t.pageId})),p=null!==(a=null==l?void 0:l.getDefinition(c,rs.t))&&void 0!==a?a:t,d=Object.assign(Object.assign({},p),null==u?void 0:u.options);return f=d,Object.assign({numbers:{},showInLoginMenu:!1,showInMemberMenu:!0,social:!1,socialHome:!1,urlOverride:null},f);var f},ss=async({i18next:e,applications:t,editorSDK:n,applicationsOptions:o})=>{const i=[];for(const r of t){const t=await as({i18next:e,application:r,editorSDK:n,applicationsOptions:o});i.push(t)}return i};var cs=r(439),ls=r.n(cs);function us(){return"object"==typeof self?self:r.g}function ps(e){var t=function(e){return function(){var e=function(){if("object"==typeof document)return document}();if(e&&e.cookie)return decodeURIComponent(e.cookie).split(";");return[]}().filter((function(t){return e===t.split("=")[0].trim()}))[0]}(e);return t?t.split("=")[1]:""}var ds="XSRF-TOKEN",fs="x-xsrf-token";var gs="x-wix-brand";function ms(){var e,t=function(){var e=us();if(e&&e.commonConfig&&"string"==typeof e.commonConfig.brand)return e.commonConfig.brand;return""}();return(e={})[gs]=t,e}function hs(){return function(){var e=us();if(e&&e.consentPolicyManager&&"function"==typeof e.consentPolicyManager._getConsentPolicyHeader)return e.consentPolicyManager._getConsentPolicyHeader();return}()||function(){var e=us();if(e&&e.Wix&&e.Wix.Utils&&"function"==typeof e.Wix.Utils._getConsentPolicyHeader)return e.Wix.Utils._getConsentPolicyHeader();return}()||{}}var ys=r(3158);function bs(){return!!function(){var e;return void 0!==ys&&null!=(null===(e=ys.versions)||void 0===e?void 0:e.node)}()&&(!!ys.env.TEAMCITY_VERSION||!!ys.env.BUILDKITE)}var vs=["consentPolicy","consentPolicyHeader"],ws={bsi:"BSI"};var Ps=function(){var e,t=function(){var e=us(),t=null==e?void 0:e.commonConfig;if(!t)return null;var n={},o=!1;return Object.keys(t).forEach((function(e){var i=ws[e];i?(n[i]=t[e],o=!0):vs.indexOf(e)<0&&"function"!=typeof t[e]&&(n[e]=t[e],o=!0)})),o?n:null}(),n=t?JSON.stringify(t):"";return(e={}).commonConfig=encodeURIComponent(n),e},Ss=r(8144),_s=r.n(Ss),Is="x-wix-linguist";function Ds(e){var t,n=e.lang,o=e.locale,i=e.isPrimaryLanguage,r=e.signedInstance;if(function(e){var t=e.lang,n=e.locale,o=e.isPrimaryLanguage;return t&&n&&/^(true|false)$/.test((null==o?void 0:o.toString())||"")}({lang:n,locale:o,isPrimaryLanguage:i})){var a=function(e){try{var t=null==e?void 0:e.split(".")[1];if(t)return JSON.parse(_s().decode(t)).instanceId}catch(e){}}(r);if(void 0!==a)return(t={})[Is]=[n,o,null==i?void 0:i.toString(),a].join("|"),t}return{}}!function(e){function t(t,n){return e.call(this,"WixHeadersParsingError: "+t+" evaluated with "+JSON.stringify(n)+" but should be a string!")||this}lt(t,e)}(Error);var As=function(e){function t(t,n,o){return e.call(this,"WixHeadersValidationError: expected "+n+" to be "+t+" but got "+JSON.stringify(o))||this}return lt(t,e),t}(Error);function Os(e){void 0===e&&(e={}),function(e){(function(e,t){if("boolean"!=typeof t)throw new As("boolean",e,t)})("opts.csrf",e.csrf),function(e,t){if("string"!=typeof t)throw new As("string",e,t)}("opts.signedInstance",e.signedInstance)}(e=ut({csrf:!0,signedInstance:""},e));var t,n,o=[ms(),hs(),(n=e.signedInstance,{authorization:n}),(t=e.artifactId,{"X-Wix-Client-Artifact-Id":null!=t?t:bs()?"":"santa-members-editor-app"}),Ps(),Ds(ut({signedInstance:e.signedInstance},e.multilingualOptions))];return e.csrf&&o.push(function(){var e,t=ps(ds);return(e={})[fs]=t,e}()),o.filter((function(e){return Object.values(e).every((function(e){return e}))})).reduce((function(e,t){return ut(ut({},e),t)}),{})}var xs=JSON.parse('["wix.com","editorx.com","wix-code.com","wixapps.net","wixprod.net"]'),Es=r(3158);function Rs(){var e;return void 0!==Es&&null!=(null===(e=null==Es?void 0:Es.versions)||void 0===e?void 0:e.node)}var Ms="www.wix.com",Ts="http",Cs=r(3158);function ks(e){if("string"!=typeof e)throw new TypeError("Expected a `string`, got `".concat(typeof e,"`"));return/(^https?:)|(^\/\/)/.test(e)}function Ls(e,t){return t.split(".").filter((function(e){return e})).reduce((function(e,t){return e[t]}),e)}function Ns(e){try{return new URL(e).protocol}catch(t){return Bs(e).protocol}}function js(e){var t;try{t=new URL(e)}catch(n){t=new URL("http:".concat(e))}try{return t.host}catch(t){return Bs(e).host}}function Bs(e){var t=new RegExp("^(.*:)//([A-Za-z0-9-.]+)(:[0-9]+)?(.*)$");try{var n=t.exec(e);return{protocol:n[1],host:n[2]}}catch(e){return{protocol:"http:",host:""}}}function Ks(e,t){var n;try{(n=new URL(e)).host=t,n.protocol="http"}catch(o){(n=new URL("http://".concat(t))).pathname=e}return n.toString()}function Us(){var e;if(Rs()&&Cs.env.HTTP_CLIENT_GLOBAL_CONFIG)try{e=JSON.parse(Cs.env.HTTP_CLIENT_GLOBAL_CONFIG)}catch(e){}return e||("undefined"!=typeof window?e=window._httpClientGlobalConfig:function(){var e;"object"==typeof self&&(null===(e=null===self||void 0===self?void 0:self.constructor)||void 0===e||e.name)}()),e||{httpMockServer:{enabled:!1}}}function Fs(e){var t;return(null===(t=null==e?void 0:e.headers)||void 0===t?void 0:t["x-wix-request-id"])||""}function Hs(e){if(!ks(e))return!0;var t=".".concat(js(e));return!!xs.find((function(e){return t.endsWith(".".concat(e))}))}var Ws=function(e){var t=e.requestOptions,n=(e.urlObject,e.headers),o=e.globalConfig,i=void 0===o?{httpMockServer:{enabled:!1}}:o,r=t.url,a=t.params;if(a&&"object"!=typeof a)throw new Error("Search params must be an object");var s=function(e,t){if(t.httpMockServer.enabled){return{url:Ks(e,new URL(t.httpMockServer.mockServerUrl).host)}}return{}}(r,i);return ut(ut(ut({},t),s),{headers:n})},Gs=function(e,t,n,o){void 0===n&&(n={httpMockServer:{enabled:!1}});var i=e.url,r=e.disableWixHeaders,a=e.headers,s=function(e){var t=e.url,n=e.disableWixHeaders,o=e.wixHeadersOpts;return!n&&Hs(t)?Os(o):{}}({url:i,disableWixHeaders:r,wixHeadersOpts:t}),c=Vs(n,e,o);return ut(ut(ut({},s),function(e){e=e||{};var t=Object.keys(e).reduce((function(t,n){var o;return ut(ut({},t),((o={})[n.toLowerCase()]=e[n],o))}),{});return t}(a)),c)},Vs=function(e,t,n){var o,i=t.url,r=t.params,a=n.host,s=n.protocol,c=e.httpMockServer.enabled?((o={})["x-wix-metro-original-url"]=function(e,t){var n=new URL(e,"http://unused.com"),o=n.pathname,i=n.searchParams;if(t=t||i){var r=function(e){return Object.entries(e).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(encodeURIComponent(n))})).flat().join("&")}(t)||t.toString(),a=r?"?".concat(r):"";return"".concat(o).concat(a)}return o}(i,r),o["x-wix-metro-original-host"]=ks(i)?js(i):a,o["x-wix-metro-original-protocol"]=ks(i)?Ns(i):s,o):{};return c};var qs=["code","stack","config","request","response","toJSON","__CANCEL__"],zs=function(e){function t(n){var o=e.call(this,n.message)||this;return o.isWixHttpError=!0,Object.setPrototypeOf(o,t.prototype),qs.forEach((function(e){o[e]=n[e]})),o}return lt(t,e),Object.defineProperty(t.prototype,"requestId",{get:function(){return Fs(this.response)},enumerable:!1,configurable:!0}),t}(Error);function $s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(zs.bind.apply(zs,function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}([void 0],e,!1)))}var Js=r(1410),Xs=r.n(Js),Ys=function(){function e(e){void 0===e&&(e={}),this.opts=e,this.opts=function(e){var t=e.adapter;t||(t=Xs(),Rs()&&(t=function(){return require("axios/lib/adapters/http");return r(1410)}()));return ut({adapter:t,isSSR:!1},e)}(this.opts),this.client=ls().create(this.opts)}return e.isHttpError=function(e){return!!(null==e?void 0:e.isWixHttpError)},e.prototype.request=function(e,t){var n,o;return pt(this,void 0,void 0,(function(){var i,r,a,s,c,l,u,p=this;return dt(this,(function(d){var f;return f=this.opts,i=f.baseURL?js(f.baseURL):f.isSSR?Ms:"undefined"!=typeof self&&self.location?self.location.host:"",r=function(e){return e.baseURL?Ns(e.baseURL):e.isSSR?Ts:"undefined"!=typeof self&&self.location?self.location.protocol:""}(this.opts),a={protocol:r,host:i},s="function"==typeof e?e({isSSR:this.opts.isSSR,host:i}):e,c=(null==t?void 0:t.signedInstance)||(null===(o=(n=this.opts).getAppToken)||void 0===o?void 0:o.call(n))||"",l=this.getHeaders(s,c,a),u=Ws({requestOptions:s,urlObject:a,headers:l,globalConfig:Us()}),this.opts.isSSR&&(u.baseURL=this.opts.baseURL?this.opts.baseURL:"".concat(Ts,"://").concat(Ms)),[2,this.client.request(u).catch((function(e){return p.maybeFallbackRequest(e,s,a,c)})).catch((function(e){return p.handleRequestError(e,u)})).then((function(e){return p.transformResponse(e,s)}))]}))}))},e.prototype.get=function(e,t){return pt(this,void 0,void 0,(function(){var n;return dt(this,(function(o){return n=ut(ut({},t),{url:e,method:"GET"}),[2,this.request(n)]}))}))},e.prototype.delete=function(e,t){return pt(this,void 0,void 0,(function(){var n;return dt(this,(function(o){return n=ut(ut({},t),{url:e,method:"DELETE"}),[2,this.request(n)]}))}))},e.prototype.head=function(e,t){return pt(this,void 0,void 0,(function(){var n;return dt(this,(function(o){return n=ut(ut({},t),{url:e,method:"HEAD"}),[2,this.request(n)]}))}))},e.prototype.options=function(e,t){return pt(this,void 0,void 0,(function(){var n;return dt(this,(function(o){return n=ut(ut({},t),{url:e,method:"OPTIONS"}),[2,this.request(n)]}))}))},e.prototype.post=function(e,t,n){return pt(this,void 0,void 0,(function(){var o;return dt(this,(function(i){return o=ut(ut({},n),{url:e,data:t,method:"POST"}),[2,this.request(o)]}))}))},e.prototype.put=function(e,t,n){return pt(this,void 0,void 0,(function(){var o;return dt(this,(function(i){return o=ut(ut({},n),{url:e,data:t,method:"PUT"}),[2,this.request(o)]}))}))},e.prototype.patch=function(e,t,n){return pt(this,void 0,void 0,(function(){var o;return dt(this,(function(i){return o=ut(ut({},n),{url:e,data:t,method:"PATCH"}),[2,this.request(o)]}))}))},Object.defineProperty(e.prototype,"CancelToken",{get:function(){return ls().CancelToken},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCancel",{get:function(){return ls().isCancel},enumerable:!1,configurable:!0}),e.prototype.getHeaders=function(e,t,n){if("function"==typeof this.opts.createHeaders)return this.getCustomHeaders(e,t,n);var o={signedInstance:t,artifactId:this.opts.artifactId,csrf:!1,multilingualOptions:this.opts.multilingualOptions};return Gs(e,o,Us(),n)},e.prototype.getCustomHeaders=function(e,t,n){var o=e.url,i=t&&Hs(o)?{authorization:t}:{},r=this.opts.createHeaders(),a=Vs(Us(),e,n);return ut(ut(ut({},a),r),i)},e.prototype.handleRequestError=function(e,t){var n=$s(e);throw function(e){pt(this,void 0,void 0,(function(){return dt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}}))}))}((function(){var e;return null===(e=t.onError)||void 0===e?void 0:e.call(t,n)})),n},e.prototype.maybeFallbackRequest=function(e,t,n,o){var i,r,a;if(Us().httpMockServer.enabled&&Us().httpMockServer.allowUnmocked&&404===(null===(i=e.response)||void 0===i?void 0:i.status)&&"NO_SCENARIO_FOUND"===(null===(a=null===(r=e.response)||void 0===r?void 0:r.data)||void 0===a?void 0:a.msg)){var s=this.getHeaders(t,o,n),c=Ws({requestOptions:t,urlObject:n,headers:s});return this.client.request(c)}throw e},e.prototype.transformResponse=function(e,t){var n=Fs(e),o=function(e,t){var n=e.data;t._pickResponseBody&&(n=Ls(e.data,t._pickResponseBody));if(t._logs){var o=Ls(e.data,t._logs);(null==o?void 0:o.length)&&o.map((function(e){return console.log.apply(console,e)}))}return n}(e,t);return ut(ut({},e),{data:o,requestId:n})},e.CancelToken=ls().CancelToken,e.isCancel=ls().isCancel,e}();const Qs=async(e,t)=>{const n=await e.document.info.getAppInstance(ae);return new Ys({baseURL:t,getAppToken:()=>n})},Zs="https://members.wixapps.net/_api/members-area/_api",ec=async e=>{const t=await Qs(e,Zs);await t.post("/settings/publish",{})},tc=e=>"wishlist"===e.pageId;async function nc(e){try{if(await async function(e){const t=await Fn(e);if(2!==t.length){const n=await Ar(e);at("Missing routers when they should be apparent ",{extra:{routers:JSON.stringify(t),applicationState:JSON.stringify(n)}})}}(e),!await async function(e){const t=Tn();return 3===(await Promise.all([Nn({editorSDK:e,menuId:t.members}),Nn({editorSDK:e,menuId:t.login}),Nn({editorSDK:e,menuId:t.icons})])).filter(Boolean).length}(e))return;const t=await async function(e){const t=await Fn(e);let n=!1;for(const r of t){var o,i;const t=Object.entries(null!=(o=null==(i=r.config)?void 0:i.patterns)?o:{});for(const[o,i]of t){const t=i.appData,a=i.page;if(null==t||!t.appDefinitionId||null==t||!t.appPageId)continue;const s=await ro({editorSDK:e,appDefinitionId:t.appDefinitionId,sectionId:t.appPageId}),c=r.pages.find((e=>e.pageRoles.includes(a)));s&&c||(at("MA-260 - Deleting incorrect router pattern",{extra:{router:r,patternKey:o},tags:{isAppSectionInstalled:s,pageRefExistsInRouter:c}}),await Lr({editorSDK:e,router:r,patternKey:o}),n=!0)}}return n}(e);t?await Wr({editorSDK:e,shouldDisableHorizontalMenuFixing:!1,shouldDisableLoginMenuFixing:!1}):await Hr(e)}catch(e){at("An error was thrown while fixing a broken installation",{extra:e})}}async function oc(e){const t=await Fn(e),n=t.find((e=>"private"===e.config.type)),o=null==n?void 0:n.pages[0];if(!o||!o.pageRef){const e=new Error("Could not retrieve a private page when navigating to first private page");throw i=e,void 0===(r={extra:{allRouters:JSON.stringify(t)}})&&(r={}),null==(a=tt)||a.captureException(i,r),e}var i,r,a;await $r({editorSDK:e,pageRef:o.pageRef})}async function ic(e){const t=await e.pages.getCurrent(ae);return!!(await Cc({editorSDK:e})).find((e=>e.id===t.id))}async function rc(e){const t=await function(e){let{editorSDK:t}=e;return t.pages.getHomePage(ae)}({editorSDK:e});return $r({editorSDK:e,pageRef:t})}async function ac(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!1),n){if(t){const t=await Ar(e),n=await async function(e){const{_routers:t,controllers:n,_menus:o,sospContainer:i,pagesGroupsRefs:r}=await Ar(e);return 0===t.length&&0===n.length&&0===o.length&&!i&&0===r.length}(e),o={state:JSON.stringify(t)};at(n?"Removing components for empty installation":"Removing components for broken installation",{extra:o})}try{await oc(e)}catch(e){}await pr(e),await ea(e);try{await ic(e)&&await rc(e)}catch(e){at("Failed to check if MA is in the home page, continuing broken MA uninstallation",{extra:e})}await Gn(e),await Wn(e),await to(e),await Mn(e)}}const sc=async(e,t)=>{var n,o;const i=await e.responsiveLayout.get("",{componentRef:t}),r=i.componentLayouts[0],a=null==(n=r.height)?void 0:n.type,s=null==(o=r.width)?void 0:o.type;if("percentage"===a&&"percentage"===s)return;const c=[{...i.componentLayouts[0],...go}],l={...i,componentLayouts:c};await e.responsiveLayout.update("",{componentRef:t,responsiveLayout:l})},cc=async e=>{try{const t=Wt(),n=await async function(){return await Lt(),"true"===kt.get("specs.membersArea.fixLoginBarResponsiveLayout")}();if(t&&n){const t=await e.components.findAllByType("",{componentType:"wysiwyg.viewer.components.LoginSocialBar"});for(const n of t)await sc(e,n)}}catch(e){at("An error was thrown while fixing a login bar responsive layout",{extra:e})}},lc=C.pageId,uc=async e=>{const t=await wc(e);return t[T.dn]&&1===Object.values(((e,t)=>{const{[t]:n,...o}=e;return o})(t,"14cffd81-5215-0a7f-22f8-074b0e2401fb")).flat().filter((e=>e.pageId===lc)).length},pc=async e=>{const{publicRouter:t}=await Tr(e),n=Nr(t,lc);return null==n?void 0:n.appData},dc=async e=>{let t=pn.ALL;const n=await pc(e);var o;n&&await uc(e)&&(t=null!=(o=n.visibleForRoles)&&o.includes(de)?pn.BWP_ONLY:pn.BWP_ALL);return t},fc=async(e,t)=>{const n=await pc(e);var o;n&&(n.visibleForRoles=null!=(o=n.visibleForRoles)?o:[],t===pn.BWP_ONLY?n.visibleForRoles=n.visibleForRoles.filter((e=>!pe.includes(e))).concat(pe):t===pn.BWP_ALL&&(n.visibleForRoles=n.visibleForRoles.filter((e=>!pe.includes(e)))),await(async(e,t)=>{const{publicRouter:n}=await Tr(e);Nr(n,lc).appData=t;const o=await zn({editorSDK:e,prefix:n.prefix});await $n({editorSDK:e,config:n.config,routerRef:o})})(e,n))},gc=e=>"addApplication"===e.method,mc=e=>t=>e.document.tpa.isApplicationInstalled(ae,{appDefinitionId:t}),hc=(e,t,n,o)=>Sn("editorApi.registerMembersAreaApps",(()=>rt("editorApi.registerMembersAreaApps",(async()=>{var i;const r=await ss({i18next:Ai(),applications:e,editorSDK:n,applicationsOptions:o}),a=qt(),s=fn([...null!=(i=a[t])?i:[],...r]);Ut({...a,[t]:s});try{await(async(e,t,n)=>{if((await wc(e))[T.dn]&&t!==T.dn&&n.some((e=>e.pageId===lc))){var o;const t=await pc(e);null!=t&&null!=(o=t.visibleForRoles)&&o.length&&await fc(e,pn.BWP_ALL)}})(n,t,s)}catch(e){at("resetRolesOnSocialVertical failed in registerMembersAreaApps",{extra:{error:e}})}(async(e,t)=>{try{const n=(await Promise.all(t.map((t=>ao({editorSDK:e,appDefinitionId:t.appDefinitionId}).then((e=>({applicationId:e?e.applicationId:null,appDefinitionId:t.appDefinitionId,pageId:t.pageId}))))))).filter((e=>!!e.applicationId)),o=await Qr({editorSDK:e}),i=await Cc({editorSDK:e}),r=o.filter((e=>!!n.find((t=>e.tpaPageId===t.pageId&&e.tpaApplicationId===t.applicationId)))).filter((e=>!i.find((t=>t.id===e.id)))),a=r.filter((e=>!e.managingAppDefId||e.managingAppDefId===Fe));a.length!==r.length&&at("Could not delete loose pages because it is already managed by some application",{extra:{alreadyManagedPages:r.filter((e=>!!e.managingAppDefId&&e.managingAppDefId!==Fe))}}),await Promise.all(a.filter((e=>!e.managingAppDefId)).map((t=>Ec({editorSDK:e,pageRef:{id:t.id}})))),await Promise.all(a.map((t=>e.pages.remove("",{pageRef:{id:t.id||""},shouldShowEditorRemovePanel:!1})))),a.length>0&&at("Succesfully removed loose MA pages outside MA routers",{extra:{registeredApplications:t,loosePages:r}})}catch(e){at("An error has occured when searching for loose MA pages outside MA routers",{extra:{error:e,registeredApplications:t}})}})(n,e)})))),yc=async(e,t,n)=>{const o=await mn({editorSDK:t});o.verticalTriggeredMaInstallInitiated({originAppId:e});const i=zt(e).filter((e=>!1!==e.shouldInstallInitially));i.length>0&&await(async(e,t,n)=>await Or(t,{shouldLog:!1})?rt(await jt()?"editorApi.addApplicationsSync":"editorApi.addApplications",(()=>Gc({editorSDK:t,applications:e,forceHorizontalLayout:!1,biData:null==n?void 0:n.biData}))):(console.warn("Members Area installation was corrupted so the integrations pages will not be added"),void at("Skipping addApplications as the application is not ready and probably already deleted")))(i,t,n),await bc(t,e),o.verticalTriggeredMaInstallSuccess({originAppId:e})},bc=async(e,t)=>{try{if(t===T.dn&&!Gt()&&await uc(e)){const t=$t()?pn.BWP_ONLY:pn.BWP_ALL;t!==await dc(e)&&await fc(e,t)}}catch(e){at("Failed to set Blog Profile type",{extra:{error:e}})}},vc=async e=>{if(Gt())return;const t=await kc(e),n=await ss({applications:$e.concat(t?Je:[]),editorSDK:e,i18next:Ai()});Ut({...qt(),[He]:n})},wc=async e=>{const t=qt();return(await oa(Object.keys(t),mc(e))).reduce(((e,n)=>({...e,[n]:t[n]})),{})},Pc=async(e,t)=>{if(Kt.isUninstalling)return;const n=await Tr(e),{patternKey:o,router:i}=(e=>{let{routers:t,pageRole:n}=e;const{privateRouter:o,publicRouter:i}=t,r=o.config.patterns||{},a=i.config.patterns||{},s=Object.entries(r).find((e=>e[1].page===n)),c=Object.entries(a).find((e=>e[1].page===n));return s?{patternKey:s[0],router:o}:c?{patternKey:c[0],router:i}:{}})({routers:n,pageRole:t});if(o){if(i)try{await Lr({editorSDK:e,router:i,patternKey:o})}catch(e){at("Failed to remove pattern from router when handling vertical section deletion",{extra:{patternKey:o,router:i,stack:null==e?void 0:e.stack}})}try{const t=o.replace(/\/?(.*)/,"$1");await Bn({editorSDK:e,pattern:t})}catch(e){at("Failed to remove pattern from menus when handling vertical section deletion",{extra:{patternKey:o,router:i,stack:null==e?void 0:e.stack}})}}},Sc=(e,t)=>{try{return(async(e,t)=>{const n=await Qs(e,Zs);await n.put("/settings/merge/global?viewMode=Editor",t)})(e,{showFollowers:t})}catch(e){at("Failed to set showFollowers setting to false for blog writers profile integration",{extra:{error:e.toString()}})}},_c=async e=>{await rt("removePage.platform",(()=>Ac(e))),await vc(e.editorSDK),await(async e=>{1===(await e.document.pages.getApplicationPages(ae)).length&&await e.document.application.reloadManifest()})(e.editorSDK)},Ic=async e=>{let{pageId:t,appDefinitionId:n,editorSDK:o,shouldDisableTransaction:i}=e;const r=await Tc({editorSDK:o,app:{pageId:t,appDefinitionId:n}});return _c({editorSDK:o,id:null==r?void 0:r.id,shouldDisableTransaction:i})},Dc=async(e,t)=>{let{id:n}=t;const o=await Qr({editorSDK:e}),i=await Xr({editorSDK:e});let r=i;const a=o.find((e=>e.id===n));return i.id===(null==a?void 0:a.id)&&(r=await async function(e){let{editorSDK:t}=e;const n=(await t.document.pages.data.getAll(ae)).find((e=>"member_info"===e.tpaPageId));return n&&{id:n.id}}({editorSDK:e})),r},Ac=async e=>{let{editorSDK:t,id:n,shouldDisableTransaction:o}=e;const i=await Pr({editorSDK:t,id:n});if(!i)return void at("removeMembersAreaPagePlatform - componentRef not found");const r=await t.components.getPage(ae,{componentRef:i});if(!r)return void at("removeMembersAreaPagePlatform - pageRef not found");const a=async()=>{const e=await Fn(t);for(const n of Object.values(e)){const e=Vn(r,n);if(e){const o=null==e?void 0:e.replace(/\/?(.*)/,"$1");await Bn({editorSDK:t,pattern:o}),await Lr({editorSDK:t,router:n,patternKey:e})}}await Yr({editorSDK:t,pageRef:r,shouldShowEditorRemovePanel:!1,pageToNavigateAfterRemove:await Dc(t,{id:n}).catch((e=>{at("getPageToNavigateAfterRemove failed in removeMembersAreaPagePlatform",{extra:e})}))})};o?await a():await Qe(t,a)};function Oc(e){let{editorSDK:t,pages:n}=e;return Promise.all(n.map((e=>async function(e){let{editorSDK:t,page:n}=e;const o=await Jr({editorSDK:t,pageRef:n.pageData.pageRef});o&&o.pageSecurity&&!o.pageSecurity.requireLogin&&await zr({editorSDK:t,pageRef:n.pageData.pageRef,pageData:{pageSecurity:{requireLogin:!0}}})}({editorSDK:t,page:e}))))}function xc(e){let{editorSDK:t,pages:n}=e;return Promise.all(n.map((e=>ta((()=>{var n;return async function(e,t,n){const o=await e.pagesGroup.getByGroupName(ae,{groupName:t});await e.pagesGroup.addPageToPagesGroup(ae,{pagesGroupPointer:o,pageId:n})}(t,Oe,null==(n=e.pageData.pageRef)?void 0:n.id)}),{delayMs:200,message:"Retry adding page to a pages group"}))))}function Ec(e){let{editorSDK:t,pageRef:n}=e;return zr({editorSDK:t,pageRef:n,pageData:{managingAppDefId:Fe}})}async function Rc(e){let{editorSDK:t,pages:n}=e;const{publicRouter:o,privateRouter:i}=await Tr(t),r=n.filter((e=>e.pageData.isPrivate)),a=n.filter((e=>!e.pageData.isPrivate)),s=r.length>0,c=a.length>0;await Promise.all([s&&kr({editorSDK:t,pages:r,router:i}),c&&kr({editorSDK:t,pages:a,router:o}),s&&Oc({editorSDK:t,pages:r})].filter((e=>!!e)));try{await xc({editorSDK:t,pages:n})}catch(e){at("Failed to add new page to the pages group, SOSP will not be visible in the page",{extra:{error:e.toString(),stack:null==e?void 0:e.stack}})}return qr({editorSDK:t,pages:n})}async function Mc(e){const t=await e.document.pages.getApplicationPages(ae),n=[],o=[];return t.forEach((e=>{const t={id:e.id,type:"DESKTOP"};ze&&ze.includes(e.tpaPageId)?n.push(t):o.push(t)})),await e.document.pages.setState("",{state:{readOnly:n,deletable:o}}),e.document.application.reloadManifest()}async function Tc(e){let{editorSDK:t,app:n}=e;const{pageId:o,appDefinitionId:i}=n,r=await Qr({editorSDK:t});let a,s;if(i){const e=await ao({editorSDK:t,appDefinitionId:i});s=null==e?void 0:e.applicationId,s||at("Invalid getDataByAppDefId",{extra:{appDefinitionId:i,source:"getPageByIntegrationApp",app:n}})}return a=s?r.find((e=>e.tpaPageId===o&&e.tpaApplicationId===s)):r.find((e=>e.tpaPageId===o)),a}async function Cc(e){let{editorSDK:t}=e;const{publicRouter:n={},privateRouter:o={}}=await Tr(t);return[...n.pages||[],...o.pages||[]].map((e=>e.pageRef))}async function kc(e){var t,n;for(const t of qe)if(await io({editorSDK:e,appDefinitionId:t}))return!0;const{publicRouter:o}=await Tr(e);return Object.keys(null!=(t=null==o||null==(n=o.config)?void 0:n.patterns)?t:{}).length>0}const Lc=async(e,t)=>{const n=await Tc({editorSDK:e,app:{pageId:Ye,appDefinitionId:Xe}});await Ec({editorSDK:e,pageRef:{id:null==n?void 0:n.id}}),await Ic({appDefinitionId:Xe,pageId:Ye,editorSDK:e,shouldDisableTransaction:t})},Nc=async e=>{let{editorSDK:t}=e;if(Gt())return!1;try{const e=await ao({editorSDK:t,appDefinitionId:He}),n=null==e?void 0:e.applicationId;if(!n)throw at("Invalid getDataByAppDefId",{extra:{appDefinitionId:He,source:"isMyAccountLayoutHorizontal"}}),new Error("No applicationId received in getDataByAppDefId");const o=await so({editorSDK:t,applicationId:n}),i=await Pr({editorSDK:t,id:o[0].id}),r=await fr({editorSDK:t,componentRef:i});return r.x<100}catch(e){return!Gt()}},jc={type:"LayoutData",containerLayouts:[],itemLayouts:[{alignSelf:"start",justifySelf:"center",type:"GridItemLayout",gridArea:{rowStart:1,rowEnd:2,columnStart:1,columnEnd:2},margins:{left:{value:0,type:"px"},right:{type:"px",value:0}}},{type:"GridItemLayout",gridArea:{rowStart:1,rowEnd:2,columnStart:1,columnEnd:2},alignSelf:"start",justifySelf:"center",margins:{left:{type:"px",value:0},right:{type:"px",value:0}}},{type:"GridItemLayout",gridArea:{rowStart:1,rowEnd:2,columnStart:1,columnEnd:2},alignSelf:"start",justifySelf:"center",margins:{left:{type:"px",value:0},right:{type:"px",value:0}}}],componentLayouts:[{height:{type:"auto"},width:{type:"percentage",value:100},type:"ComponentLayout",maxWidth:{type:"px",value:1e3}},{type:"ComponentLayout",hidden:!1},{type:"ComponentLayout",hidden:!1}]},Bc=async e=>{let{editorSDK:t,applications:n,shouldNavigate:o}=e;const i=n.map((e=>io({editorSDK:t,appDefinitionId:e.appDefinitionId}).then((t=>!t&&e)))),r=await Promise.all(i).then((e=>e.filter(Boolean)));if(await jt()){const e=[];for(const{appDefinitionId:n}of r){const i=await oo(t,{appDefinitionId:n,shouldNavigate:o});e.push(i)}return e}return na(r.map((e=>{let{appDefinitionId:n}=e;return oo(t,{appDefinitionId:n,shouldNavigate:o})})))},Kc=async e=>{let{editorSDK:t,applications:n,shouldNavigate:o}=e;const i=await mn({editorSDK:t});let r=[];const a=async e=>{const n=e.method,o="addApplication"===n;delete e.method;const i=o?"sdk.tpa.add.application":"sdk.tpa.add.component",r={extra:{definition:e},tags:{pageId:e.page.pageId}},a=await Zt(i,15e3,(()=>o?oo(t,e):function(e,t){return e.tpa.add.component(ae,t)}(t,e)),r);return Wt()&&await async function(){return await Lt(),"true"===kt.get("specs.membersArea.setResponsiveLayoutForApps")}()&&await(async e=>{let t,{method:n,editorSDK:o,definition:i,addResponse:r}=e;if("addApplication"===n){const{applicationId:e}=await o.tpa.app.getDataByAppDefId(ae,i.appDefinitionId);t=(await o.tpa.app.getAllCompsByApplicationId(ae,e))[0].id}else t=r.compId;const a=await o.components.getById(ae,{id:t});await o.document.responsiveLayout.update(ae,{componentRef:a,responsiveLayout:jc})})({method:n,editorSDK:t,definition:e,addResponse:a}),a};if(await jt())for(const e of n){const t=await a(e);r.push(t)}else r=await Promise.all(n.map((e=>a(e))));return Promise.resolve(r).then((e=>{const r=n.map((e=>ro({editorSDK:t,appDefinitionId:e.appDefinitionId,sectionId:e.page.pageId}).then((t=>{if(t)i.maPageInstalled({originAppId:e.appDefinitionId,pageName:e.page.pageId});else{at("App installation failed verification just after the successful installation",{tags:{pageId:e.page.pageId,appDefinitionId:e.appDefinitionId}})}}))));return Promise.all(r).then((()=>o?(e=>{var n;const o=null==(n=e[0])?void 0:n.pageRef;return $r({editorSDK:t,pageRef:o}),e})(e):e))}))},Uc=e=>{let{applications:t,pages:n,routers:o}=e;return t.map(((e,t)=>{const i=!e.social,r=n[t],a="notifications_app"===e.pageId,{urlOverride:s,pageUriSEO:c}=(e=>{let{page:t,app:n,routers:o}=e;const{publicRouter:i,privateRouter:r}=o,a=n.social?i:r,s=a.config&&a.config.patterns&&Object.keys(a.config.patterns)||[],c=n.urlOverride&&qn(s,n.urlOverride);return{pageUriSEO:t&&t.pageUriSEO&&qn(s,t.pageUriSEO),urlOverride:c}})({page:r,app:e,routers:o});return{routerConfig:{socialHome:!!e.socialHome,pageId:r.id,appData:{numbers:e.numbers,appDefinitionId:e.appDefinitionId,appPageId:e.pageId,menuOrder:e.menuOrder||Me,visibleForRoles:e.visibleForRoles||[]}},urlOverride:s,pageData:{isPrivate:i,...r,pageUriSEO:c},showInLoginMenu:e.showInLoginMenu,showInMemberMenu:e.showInMemberMenu,appDefinitionId:e.appDefinitionId,loginMenuTitle:e.loginMenuTitle,showInIconsMenu:a,menuIds:{members:jr,login:Br,icons:Kr}}}))},Fc=async e=>{let{editorSDK:t,applications:n,forceHorizontalLayout:o,shouldNavigate:i}=e;const r=Wt()||o||await Nc({editorSDK:t}),a=(e=>{let{applications:t,isHorizontalLayout:n}=e;return t.map((e=>({method:e.method,appDefinitionId:e.appDefinitionId,managingAppDefId:Fe,componentType:"PAGE",shouldNavigate:!!e.shouldNavigate,page:{pageId:e.pageId,requireLogin:!e.social,shouldNavigate:!!e.shouldNavigate,showInLoginMenu:!!e.showInLoginMenu},biData:e.biData,...n?Ae:De})))})({applications:n,isHorizontalLayout:r}),s=await Kc({editorSDK:t,applications:a,shouldNavigate:i}),c=await Tr(t)||{publicRouter:{},privateRouter:{}},l=Uc({applications:n,pages:s,routers:c});await Rc({editorSDK:t,pages:l}),r||await wr({editorSDK:t}),await Mc(t),await vc(t),await Hc(t,n)},Hc=async(e,t)=>{try{const n=await Tr(e);t.forEach((e=>{const o=e.social?n.publicRouter:n.privateRouter;Nr(o,e.pageId)||at("Application was added but is not found in the router, it will probably be disconnected from MA",{tags:{appPageId:e.pageId},extra:{appPageId:e.pageId,applications:t,router:o}})}))}catch(e){at("Failed to confirm applications installation",{extra:{e:e}})}},Wc=(e,t)=>e.map((e=>({...e,biData:t}))),Gc=async e=>{let{editorSDK:t,applications:n,biData:o={},forceHorizontalLayout:i=!1,shouldNavigate:r=!1}=e;const a=n.filter((e=>"addApplicationToSite"===e.method)),s=fn(n.filter((e=>"addApplicationToSite"!==e.method))),c=await(async e=>{let{editorSDK:t,applications:n}=e;const o=n.map((e=>{const{appDefinitionId:n,pageId:o}=e;return o?ro({editorSDK:t,appDefinitionId:n,sectionId:o}).then((t=>!t&&e)):Promise.resolve(e)}));return(await Promise.all(o)).filter((e=>!!e))})({editorSDK:t,applications:s});await jt()?(a.length>0&&await Bc({editorSDK:t,applications:a,shouldNavigate:r}),c.length>0&&await Fc({editorSDK:t,applications:Wc(c,o),forceHorizontalLayout:i,shouldNavigate:r})):await Promise.all([a.length>0&&Bc({editorSDK:t,applications:a,shouldNavigate:r}),c.length>0&&Fc({editorSDK:t,applications:Wc(c,o),forceHorizontalLayout:i,shouldNavigate:r})].filter((e=>!!e))),await(async(e,t)=>{try{if(1===t.length&&t[0].pageId===X.pageId){(await Ln({editorSDK:e,menuId:we.LOGIN_MENU_ID})).find((e=>"my-wishlist"===e.link.innerRoute))||at("My Wishlist menu item did not add to login menu when supposed to")}}catch(e){at("Failed to confirm My Wishlist installation",{extra:{e:e}})}})(t,n)};const{APP_TOKEN:Vc}=e;async function qc(e,t,n){const o=Ve(t);return Gc({editorSDK:e,applications:[o],forceHorizontalLayout:n})}async function zc(e){Ft(!0);const t=Wt(),n=!Gt()&&!t,o=await async function(){return await Lt(),"true"===kt.get("specs.membersArea.EnablePlatformizedUninstallEditorX")}();if(n||o)await e.application.uninstall("",{openConfirmation:!1}),await e.history.add(Vc,{label:"deleting members app - platformised uninstallation"}),await e.editor.save(Vc);else try{t&&await rc(e),await async function(e){if(!await dr(e))return;if(Wt())return pr(e);if(await ic(e))await pr(e),await rc(e);else{const t=await Xr({editorSDK:e});await oc(e),await pr(e),await $r({editorSDK:e,pageRef:t})}}(e),await ea(e),await Gn(e),await Wn(e),await to(e),await Mn(e),await e.history.add(Vc,{label:"deleting members app"}),await e.editor.save(Vc)}catch(e){const t="Failed to uninstall Members Area: "+typeof e=="string"?e:e.message;throw at("Failed to uninstall MA",{tags:{message:t}}),new Error(t)}try{await Ir(e)&&at("DM-3935: Login component did not delete after installation, leaving the component without menus",{tags:{isPlatformUninstallation:!0}})}catch(e){at("Failed verifying that the login component is deleted after uninstallation",{tags:{reason:e}})}Ft(!1)}async function $c(e,t){try{var n;const o=(null==(n=t.origin.info)?void 0:n.appDefinitionId)===T.ZJ,i=await jt(),r=Wt(),a=!Gt()||await Nt();let s=Promise.resolve();t=t||{};const[c,l]=await na([rt("install.getSiteStructure",(()=>e.siteSegments.getSiteStructure(Vc))),rt("install.getHeader",(()=>e.siteSegments.getHeader(Vc)))]);let u=null;r||(u=await rt("install.createController",(()=>Xn(e,c))));const p=rt("install.createMenus",(()=>async function(e){await Mn(e);const t=e.menu.create(ae,{menuData:{name:"Member Menu",items:[]},customId:Dn}),n=xn(e),o=En(e),[i,r,a]=await Promise.all([t.catch((()=>Dn)),n.catch((()=>An)),o.catch((()=>On))]);return{members:i,login:r,icons:a}}(e))),d=rt("install.createSospContainer",(()=>async function(e,t,n){const o=Wt(),i=await Nt(),r=!Gt()||i,a=await dr(e);if(a)try{at("SOSP container already existing during the installation");const t=await e.components.getChildren(or,{componentRef:a});await Promise.all(t.map((t=>e.components.remove(or,{componentRef:t})))),await pr(e)}catch(e){throw at("Can not remove members SOSP container"),e}if(o){const o=In().cloneDeep(co),i=await e.components.layout.get(or,{componentRef:t});return o.layout.y+=i.height,e.components.add(or,{pageRef:n,componentDefinition:o,showAddToHeaderPanel:!1,customId:Ee})}const s=In().cloneDeep(r?Se:Pe),c=await e.components.layout.get(or,{componentRef:t});return s.layout.y+=c.height,e.components.add(or,{pageRef:n,componentDefinition:s,showAddToHeaderPanel:!1,customId:Ee})}(e,l,c))),f=rt("install.installRouters",(()=>async function(e){const t=Hn(e,_e.PRIVATE),n=Hn(e,_e.SOCIAL);await Promise.all([t,n]),2!==(await Fn(e)).length&&at("Routers not found just after adding them")}(e))),g=rt("install.createPagesGroup",(()=>async function(e,t){const n=await e.pagesGroup.getByGroupName(ae,{groupName:t});n&&await e.pagesGroup.remove(ae,{pagesGroupPointer:n}),await e.pagesGroup.create(ae,{groupName:t})}(e,Oe))),m=rt("install.addLoginButton",(()=>rr(e,u,l,o)));await f,i||(s=rt("install.addAccountInfo",(()=>qc(e,t.origin,a))));const h=await d,y=rt("install.addProfileWidget",(()=>ir(e,h))),b=await p;await y,i&&(s=rt("install.addAccountInfo",(()=>qc(e,t.origin,a))));const v=rt("install.addSubPagesMenu",(()=>sr(e,b.members,h,u,a)));await na([g,m,s,v]),async function(e){const t=await e.tpa.app.getDataByAppDefId(Vc,"14cffd81-5215-0a7f-22f8-074b0e2401fb"),n=(await Ln({editorSDK:e,menuId:we.LOGIN_MENU_ID})).find((e=>{var t;return"my-account"===(null==e||null==(t=e.link)?void 0:t.innerRoute)}));if(!(await e.pages.data.getAll(Vc)).find((e=>"member_info"===e.tpaPageId))&&n)return void at("Installation: MA-84 My account menu item is there, but the page is missing");if(!t&&n)return void at("My account menu item is there but the app data is missing");await e.tpa.app.getAllCompsByApplicationId(Vc,t.applicationId)||at("My Account page data is existing but the widget is missing")}(e);const w=await rt("install.getChildren",(()=>hr({editorSDK:e,componentRef:h}))),P=[h].concat(w);await na([rt("install.deselectComponents",(()=>function(e,t){return e.editor.selection.deselectComponents(ae,{compsToDeselect:t})}(e,P))),rt("install.addComponentToGroup",(()=>async function(e,t,n){const o=await e.pagesGroup.getByGroupName(ae,{groupName:t});await e.components.modes.showComponentOnlyOnPagesGroup(ae,{componentPointer:n,pagesGroupPointer:o})}(e,Oe,h)))]),$t()&&Sc(e,!1)}catch(e){return Promise.reject(e)}}const Jc=15e3;async function Xc(e,t){if(await async function(e,t){return!!t&&0===(await Fn(e)).length}(e,t.firstInstall))try{const n=await jt()?"installSync":"install",o=()=>rt(n,(()=>$c(e,t)));await Zt("installation",Jc,o)}catch(t){throw at("Removing initial installation as it failed",{extra:{error:t.toString()}}),await ac(e,!0,!0),t}}async function Yc(e,t){let{firstInstall:n}=t;try{n&&await async function(){return await Lt(),"true"===kt.get("specs.ident.EnableSignUpPrivacyNoteType")}()&&e.siteMembers.setPrivacyNoteType(ae,"NOTE")}catch(e){at("Failed to set privacyNoteType")}}let Qc,Zc,el;!function(e){e.RenameRouter="renameRouter",e.RemovePage="removePage",e.Uninstall="uninstall",e.ManagePages="managePages",e.CreateBlankPage="createBlankPage",e.GeneralSettings="generalSettings",e.MemberPrivacyDashboard="memberPrivacyDashboard"}(Qc||(Qc={})),function(e){e.AddMemberPage="addMemberPage",e.OpenMembersAreaPagesPanel="openMembersAreaPagesPanel",e.OpenMembersAddPanel="openMembersAddPanel",e.OpenMembersAccountBmDashboard="openMembersAccountBmDashboard",e.OpenBadgesDashboard="openBadgesPage",e.OpenSiteMembersDashboard="openSiteMembersDashboard"}(Zc||(Zc={})),function(e){e.Social="social",e.NonSocial="non-social"}(el||(el={}));const tl=e=>({title:e("Pages_Panel_MemberMenu_Open_GeneralSettings"),event:Qc.GeneralSettings,icon:"settingsAction"}),nl=e=>({title:e("Pages_Panel_MemberMenu_Open_MemberPrivacyDashboard"),event:Qc.MemberPrivacyDashboard,icon:"unhideAction"}),ol={type:"view_site_members"},il={type:"open_signup_settings"},rl=e=>({title:e("Pages_Panel_MemberMenu_Add_Page"),type:"add_page",event:Qc.CreateBlankPage,icon:"addPagePagesPanel"}),al=e=>({title:e("Pages_Panel_MemberMenu_URLSettings_Link"),event:Qc.RenameRouter,icon:"globe"}),sl=e=>({title:e("Pages_Panel_MemberMenu_Delete_Link"),event:Qc.Uninstall,icon:"delete_icon"}),cl=async(e,t,n)=>{const o=await(async e=>{var t;const n=null==(t=(await e.tpa.app.getDataByAppDefId(ae,T.Kh)).appFields.platform)?void 0:t.editorScriptUrl;return n?(e=>{const[t]=e.split("/editorAppModule.bundle.min.js");return t})(n):"."})(e);return o+"/assets/"+t+(n||"")},ll={title:"Permissions",event:"pagePermissions",icon:"page_dynamic_icon",helpId:"d243ad48-2e17-4786-99d7-23d011aa4bd6",type:"permissions"},ul=async e=>({title:"Page Info",event:"pageInfo",icon:"page_dynamic_icon",url:await cl(e,"pageInfo.html"),helpId:"2fd96dc5-ff35-4ead-9917-12b487c59fe4",type:"page_info"}),pl=async e=>({title:"SEO Basics",event:"pageSEO",icon:"page_dynamic_icon",url:await cl(e,"pageSEO.html"),helpId:"a621022f-17fa-433a-b4f5-d43994e8c4f6",type:"seo"}),dl=e=>({showOnAllModes:!0,default:[tl(e),rl(e),ol,nl(e),il,al(e),sl(e)].filter((e=>!!e))});var fl=r(5208);const gl="member-permissions/members",ml="badge-definitions",hl="members-account";var yl;!function(e){e.INTENT="intent",e.CONFIRM="confirm",e.CANCEL="cancel"}(yl||(yl={}));const bl=async(e,t,n,o)=>{const i=await mn({editorSDK:e,withClientId:!0}),r=await(async(e,t)=>t.tpaApplicationId?async function(e){var t;let{editorSDK:n,tpaAppId:o}=e;const i=await n.tpa.app.getAllCompsByApplicationId("",o);return null==i||null==(t=i[0])?void 0:t.appDefinitionId}({editorSDK:e,tpaAppId:t.tpaApplicationId}):t.managingAppDefId)(e,n),a=(e=>{var t;return null!=e&&e.tpaPageId?e.tpaPageId:"custom_"+(null!=e&&null!=(t=e.pageSecurity)&&t.requireLogin?"private":"public")})(n);null==i||i.managePagesActionDelete({pageId:a,pageName:n.title,value:o,appId:r})},vl=async(e,t)=>{const n=await e.document.pages.data.get(ae,{pageRef:t}),o=await Ji(e);await bl(e,0,n,yl.INTENT),e.editor.openErrorPanel(ae,{shouldShowIllustration:!0,headerText:o("MemberPages_Delete_Page_Title"),topDescriptionText:o("MemberPages_Delete_Any_Page_Warning_New",{title:null==n?void 0:n.title}),mainActionText:o("MemberPages_Delete_AccountInfo_Button_Delete"),secondaryActionText:o("MemberPages_Delete_AccountInfo_Button_Cancel")}).then((async t=>{if(t===fl.PanelResolveType.MAIN_ACTION){bl(e,0,n,yl.CONFIRM);(await e.editor.getAppAPI()).removePage(n)}else bl(e,0,n,yl.CANCEL)}))},wl=async e=>{const t=await Ji(e);e.editor.openErrorPanel(ae,{shouldShowIllustration:!0,headerText:t("MemberPages_Delete_AccountInfo_Title"),topDescriptionText:t("MemberPages_Delete_AccountInfo_Body1"),bottomDescriptionText:t("MemberPages_Delete_AccountInfo_Body2")+" "+t("MemberPages_Delete_AccountInfo_Sitemembers_link"),mainActionText:t("MemberPages_Delete_AccountInfo_Button_Delete"),secondaryActionText:t("MemberPages_Delete_AccountInfo_Button_Cancel")}).then((async t=>{if(t===fl.PanelResolveType.MAIN_ACTION){(await e.editor.getAppAPI()).uninstall()}}))},Pl=async e=>{const t=await Ji(e);await e.editor.openConfirmationPanel("",{headerText:t("ConfirmationPanel_Remove_Login_Bar_Title"),shouldShowIllustration:!0,illustration:Vt()+"assets/icons/DeleteSectionIcon.svg",descriptionText:[{tag:"p",content:t("ConfirmationPanel_Remove_Login_Bar_Content")},{tag:"li",content:t("ConfirmationPanel_Remove_Login_Bar_List_Item_One")},{tag:"li",content:t("ConfirmationPanel_Remove_Login_Bar_List_Item_Two")},{tag:"li",content:t("ConfirmationPanel_Remove_Login_Bar_List_Item_Three")},{tag:"p",content:""},{tag:"p",content:t("ConfirmationPanel_Remove_Login_Bar_Note")}],mainActionText:t("ConfirmationPanel_Remove_Login_Bar_Main_Action_text")})};async function Sl(e){let{eventPayload:t,editorSDK:n}=e;(await mn({editorSDK:n})).managePagesAddMemberPagesClick({origin:ln.Editor,referralInfo:null==t?void 0:t.referralInfo}),await n.editor.openModalPanel(ae,{url:await cl(n,"managePages.html"),width:1098,height:696,shouldHideHeader:!0,initialData:t})}async function _l(e){let{editorSDK:t,eventPayload:n}=e;const o=Wt()?"?origin=editor_x":"";await t.editor.openModalPanel(ae,{url:await cl(t,"generalSettings.html",o),width:876,height:631,shouldHideHeader:!0,initialData:n})}function Il(e){return e.editor.openDashboardPanel(ae,{url:"/member-privacy-settings/profile-privacy?referralInfo=editor_actions_menu",closeOtherPanels:!1})}var Dl=function(e){return e.split("#")};var Al="_",Ol=/{(.*)}/,xl=new RegExp("\\.(".concat(["wix.com","editorx.com"].join("|"),")$")),El=new RegExp("\\.(".concat(["42.wixprod.net"].join("|"),")$"));function Rl(e){var t,n,o=function(e,t){var n=t[e]||t[Al];if(!n&&function(e){return!!e.match(/\._base_domain_$/)}(e))return t[Cl];return n}(function(e){return e.replace("create.editorx.com","editor.editorx.com")}(e.host).replace(xl,"._base_domain_").replace(El,"._api_base_domain_"),e.domainToMappings),i=(t=e.protoPath,n=e.data||{},t.split("/").map((function(e){return function(e,t){var n=e.match(Ol)||[],o=n[1];if(o){var i=e.replace(n[0],"");return function(e,t,n,o){for(var i=e,r=0,a=t.split(".");r<a.length;r++){var s=a[r];if(!i)return n;i=i[s]}return"".concat(i).concat(o)}(t,o,e,i)}return e}(e,n)})).join("/"));return function(e,t){var n=null==t?void 0:t.find((function(t){return e.startsWith(t.destPath)}));if(!n)return e;return n.srcPath+e.slice(n.destPath.length)}(i,o)}var Ml,Tl,Cl="www._base_domain_";function kl(e,t){void 0===t&&(t="");var n={};return Object.entries(e).forEach((function(e){var o=e[0],i=e[1],r=null!==i&&"object"==typeof i&&!Array.isArray(i),a=function(e,t){return"".concat(e).concat(e?".":"").concat(t)}(t,o);if(r){var s=kl(i,a);Object.assign(n,s)}else n[a]=i})),n}function Ll(e){var t=kl(e);return Object.entries(t).reduce((function(e,t){var n=t[0],o=t[1];return(Array.isArray(o)?o:[o]).forEach((function(t){null!=t&&e.append(n,t)})),e}),new URLSearchParams)}function Nl(e,t,n){return void 0===t&&(t={}),function(o,i){return void 0===o&&(o={}),"string"==typeof o?o:r(e,o);function r(e,t){var n={};return[null,void 0].includes(t)?t:(Object.entries(t).forEach((function(t){var o,i,r,c,l=t[0],u=t[1],p=function(e){void 0===e&&(e="");var t=Dl(e),n=t[0],o=t[1];return o?{schemaName:o,schemaType:n}:{schemaName:n}}(e[l]),d=p.schemaName,f="Map"===p.schemaType;c=(null!==(r=null===(i=null===(o=s(d))||void 0===o?void 0:o.checkRepetable)||void 0===i?void 0:i.call(o,u))&&void 0!==r?r:Array.isArray(u))?u.map((function(e){return a(e,d)})):f?function(e,t){return Object.entries(e).reduce((function(e,n){var o=n[0],i=n[1];return e[o]=a(i,t),e}),{})}(u,d):a(u,d),n[l]=c})),n)}function a(e,n){if(!n)return e;var o=t[n];if(s(n))return s(n).transform(e);if(o)return r(o,e);throw new Error("".concat(n," is neither schema nor serializable type"))}function s(e){var t;return null===(t=n[e])||void 0===t?void 0:t[i]}}}!function(e){e[e.TO_JSON=0]="TO_JSON",e[e.FROM_JSON=1]="FROM_JSON"}(Ml||(Ml={}));var jl,Bl,Kl,Ul,Fl=((Tl={types:["google.protobuf.Timestamp"]})[Ml.TO_JSON]={transform:function(e){return e.toISOString()}},Tl[Ml.FROM_JSON]={transform:function(e){return new Date(e)}},Tl),Hl=((jl={types:["google.protobuf.FieldMask"]})[Ml.TO_JSON]={transform:function(e){return e.join(",")},checkRepetable:function(e){return e.some((function(e){return Array.isArray(e)}))}},jl[Ml.FROM_JSON]={transform:function(e){return"object"==typeof e?e.paths:e.split(",")}},jl),Wl=((Bl={types:["google.protobuf.BytesValue","BYTES"]})[Ml.TO_JSON]={transform:function(e){var t=e.reduce((function(e,t){return e+String.fromCharCode(t)}),"");return btoa(t)}},Bl[Ml.FROM_JSON]={transform:function(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}},Bl),Gl=((Kl={types:["google.protobuf.Duration"]})[Ml.TO_JSON]={transform:function(e){var t=e.seconds,n=void 0===t?"0":t,o=e.nanos,i=void 0===o?0:o,r="";return 0!==i&&(r=".".concat(i.toString().padStart(9,"0"))),"".concat(n).concat(r,"s")}},Kl[Ml.FROM_JSON]={transform:function(e){var t=e.substring(0,e.length-1).split(".");return{seconds:t[0],nanos:Vl(t[1])}}},Kl);function Vl(e){var t=0;if(void 0!==e){var n=3-e.length/3;t=parseInt(e,10)*Math.pow(1e3,n)}return t}var ql=((Ul={types:["FLOAT","DOUBLE","google.protobuf.FloatValue","google.protobuf.DoubleValue"]})[Ml.TO_JSON]={transform:function(e){return isFinite(e)?e:e.toString()}},Ul[Ml.FROM_JSON]={transform:function(e){return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:e}},Ul),zl=function(){return zl=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zl.apply(this,arguments)};var $l=function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},Jl=$l([],[Fl,Hl,Wl,Gl,ql],!0).reduce((function(e,t){var n=t.types.reduce((function(e,n){var o;return zl(zl({},e),((o={})[n]=t,o))}),{});return zl(zl({},e),n)}),{});function Xl(e,t){void 0===t&&(t={});var n=Nl(e,t,Jl);return{fromJSON:function(e){var t=function(e){try{return JSON.parse(e)}catch(e){}}(e)||e;return n(t,Ml.FROM_JSON)},toJSON:function(e){return n(e,Ml.TO_JSON)}}}var Yl={},Ql={};function Zl(e){return Rl(Object.assign(e,{domainToMappings:{"editor.wixapps.net":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"api._api_base_domain_":[{srcPath:"/members/v1/privacy-settings",destPath:""}],"manage._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"editor._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"blocks._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"create.editorx":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"www.wixapis.com":[{srcPath:"/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],_:[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"www._base_domain_":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}],"*.dev.wix-code.com":[{srcPath:"/_api/members/v1/privacy-settings",destPath:"/v1/privacy-settings"}]}}))}const eu=async e=>{const t=await Qs(e),{data:n}=await t.request(function(e){var t=Xl(Yl,{}),n=t.toJSON,o=t.fromJSON,i=Xl(Ql,{}).fromJSON;function r(t){var o=t.host,r=n(e);return{method:"GET",url:Zl({protoPath:"/v1/privacy-settings",data:r,host:o}),params:Ll(r),transformResponse:i}}return r.fromReq=o,r}({}));return n.memberPrivacySettings};let tu;!function(e){e.StandAlone="stand-alone",e.Custom="custom",e.TPA="tpa",e.WidgetPlugin="widget-plugin"}(tu||(tu={}));const nu=async e=>{const[{publicRouter:t},n]=await Promise.all([Tr(e),Qr({editorSDK:e})]),o=(e=>{var t;return Object.values(null!=(t=e.config.patterns)?t:{}).map((e=>{var t,n;let{title:o,pageId:i,appData:{appDefinitionId:r,appPageId:a},seoData:s}=e;return{pageType:a?tu.TPA:tu.Custom,integrationApplication:{appDefinitionId:r,pageId:a||i},title:null!=(t=null==s||null==(n=s.title)?void 0:n.replace("{userName} | ",""))?t:o,isInstalled:!0}}))})(t),i=(e=>{const t=e.find((e=>{let{tpaPageId:t}=e;return t===Ye}));return t?{pageType:tu.StandAlone,integrationApplication:{appDefinitionId:Xe,pageId:void 0},title:t.title,isInstalled:!0}:null})(n);return i?[...o,i]:o},ou=async e=>{const t=await nu(e),n=await(async(e,t)=>{const n=await Ji(e,!0);return(await ss({editorSDK:e,i18next:Ai(),applications:[C,U,L]})).map((e=>{var o;const i=t.find((t=>{let{integrationApplication:n}=t;return dn(n,e)}));if(i)return{...i,application:e};const{page:r}=e,a=dn(e,L);return{pageType:a?tu.StandAlone:tu.TPA,title:a?n("GeneralSettings_MembersPageTitle"):null!=(o=null==r?void 0:r.name)?o:"",integrationApplication:e,isInstalled:!1}}))})(e,t);return{installedPublicPages:t,promotionalPublicPages:n}},iu=async(e,t)=>{let{appsToInstall:n,appsToRemove:o,profilePageType:i}=t,r=0;const a=n.length+o.length+(i?1:0),s=await Ji(e,!0);if(a){await e.editor.openProgressBar(ae,{title:s("GeneralSettings_ProgressModal_Title"),totalSteps:a,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")});try{if(n.length&&(await du(n.map((e=>{let{integrationApplication:t}=e;return t})),!1),await e.editor.updateProgressBar(ae,{currentStep:r+=n.length,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})),o.length)for(const{pageType:t,integrationApplication:n}of o){const o=n.appDefinitionId===Xe,i=!0;t===tu.StandAlone&&o?await Lc(e,i):t===tu.TPA?await Ic({...n,editorSDK:e,shouldDisableTransaction:i}):t===tu.Custom&&await _c({editorSDK:e,id:n.pageId,shouldDisableTransaction:i}),await e.editor.updateProgressBar(ae,{currentStep:++r,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})}i&&(await fc(e,i),await e.editor.updateProgressBar(ae,{currentStep:++r,stepTitle:s("GeneralSettings_ProgressModal_Subtitle")})),await e.editor.closeProgressBar(ae,{isError:!1})}catch(t){throw await e.editor.closeProgressBar(ae,{isError:!0}),t}}};async function ru(e){let{editorSDK:t,sospContainerRef:n,pwComponentRef:o,isHorizontal:i,pwHeight:r}=e;const a=r?r+ye.layout.height:Se.layout.height,s=In().cloneDeep(i?{...Se.layout,height:a}:Pe.layout),c=In().cloneDeep(i?Se.style:Pe.style),l=await t.siteSegments.getHeader(""),u=await fr({editorSDK:t,componentRef:l});s.y+=u.height,await Promise.all([gr({editorSDK:t,componentRef:n,layout:s}),Sr({editorSDK:t,componentRef:n,style:c})]),async function(e){let{editorSDK:t,isHorizontal:n,sospContainerRef:o}=e;const i=await t.components.style.get("",{componentRef:o}),r=i.style.properties["alpha-bg"],a=i.style.properties.bg;!n||1===r&&"color_11"===a||at("The color of SOSP did not change properly after relayout when changing to horizontal layout",{tags:{isHorizontal:n},extra:{alpha:r,bgColor:a}}),n||0===r&&"color_1"===a||at("The color of SOSP did not change properly after relayout when changing to vertical layout",{tags:{isHorizontal:n},extra:{alpha:r,bgColor:a}})}({editorSDK:t,isHorizontal:i,sospContainerRef:n}),setTimeout((()=>gr({editorSDK:t,componentRef:n,layout:{y:s.y}})),0),setTimeout((()=>gr({editorSDK:t,componentRef:n,layout:{height:s.height}})),0),i||await wr({editorSDK:t,pwComponentRef:o,sospContainerRef:n})}async function au(e){let{editorSDK:t,pwComponentRef:n,sospContainerRef:o}=e;const i={...n,type:"MOBILE"},r={...o,type:"MOBILE"},a=await hr({editorSDK:t,componentRef:o}),s=await hr({editorSDK:t,componentRef:r}),c=a.filter((e=>!In().isEqual(e,n))),l=s.filter((e=>!In().isEqual(e,i))),u=await Qn(t),p=await async function(){return await Lt(),"true"===kt.get("specs.membersArea.handleMobileComponentsDeletion")}();await Promise.all(c.map((e=>async function(e){let{editorSDK:t,allControllers:n,componentRef:o}=e;const i=n.find((e=>e.controllerRef.id===o.id));return i&&await Zn(t,i),mr({editorSDK:t,componentRef:o})}({editorSDK:t,allControllers:u,componentRef:e})))),p&&await Promise.all(l.map((e=>async function(e){let{editorSDK:t,componentRef:n}=e;try{const e={...n,type:"MOBILE"},[o]=await t.components.get("",{componentRefs:e});o&&await t.document.components.remove("",{componentRef:{...n,type:"MOBILE"}})}catch(e){at("Mobile component delete failure: ",e)}}({editorSDK:t,componentRef:e}))))}async function su(e){let{editorSDK:t,pwComponentRef:n,isHorizontal:o,pwHeight:i}=e;const r=i||Be.height,a=o?{...Be,height:r}:je;await gr({editorSDK:t,componentRef:n,layout:a})}async function cu(e){let{editorSDK:t}=e;const n=await Cc({editorSDK:t}),o=await Promise.all(n.map((e=>Jr({editorSDK:t,pageRef:e})))),i=o.filter((e=>e.tpaApplicationId&&e.tpaApplicationId>0)),r=o.filter((e=>void 0===e.tpaApplicationId||0===e.tpaApplicationId)).map((e=>e.id)),a=i.map((e=>e.tpaApplicationId)),[s,c]=await Promise.all([Promise.all(r.map((e=>Pr({editorSDK:t,id:e})))),Promise.all(a.map((e=>so({editorSDK:t,applicationId:e}))))]),l=c.reduce(((e,t)=>[...e,...t]),[]).filter((e=>o.map((e=>e.id)).indexOf(e.pageId)>-1)),[u,p]=await Promise.all([Promise.all(s.map((e=>hr({editorSDK:t,componentRef:e})))),Promise.all(l.map((e=>Pr({editorSDK:t,id:e.id}))))]);return{allVerticalsPagesComponentsRefs:p,allCustomPagesComponentsFlat:u.reduce(((e,t)=>[...e,...t]),[])}}async function lu(e){let{editorSDK:t,isHorizontal:n,pwHeight:o}=e;const{allVerticalsPagesComponentsRefs:i,allCustomPagesComponentsFlat:r}=await cu({editorSDK:t}),a=o?o+ye.layout.height:Ae.y,s=n?{...Ae,y:a}:De,c=[...i.map((e=>gr({editorSDK:t,componentRef:e,layout:s}))),...r.map((e=>async function(e){let{editorSDK:t,componentRef:n,isHorizontal:o,pwHeight:i}=e;const r=await fr({editorSDK:t,componentRef:n});if(r.x<0||r.x>ue)return;const a=De.x-Ae.x,s=De.y-(i?i+ye.layout.height:Ae.y),c={...r};o?(c.x=r.x-a,c.y=r.y-s):(c.x=r.x+a,c.y=r.y+s),await gr({editorSDK:t,componentRef:n,layout:c})}({editorSDK:t,componentRef:e,isHorizontal:n})))];return Promise.all(c)}async function uu(e){let{editorSDK:t,isHorizontal:n,pwHeight:o}=e;if(!await ic(t))return;const i=await dr(t),r=await vr({editorSDK:t});r&&(await au({editorSDK:t,sospContainerRef:i,pwComponentRef:r}),await su({editorSDK:t,pwComponentRef:r,isHorizontal:n,pwHeight:o}),await async function(e){let{editorSDK:t,isHorizontal:n,sospContainerRef:o,pwHeight:i}=e;const r=await Yn(t);await sr(t,we.SUB_MENU_ID,o,r,n,i)}({editorSDK:t,sospContainerRef:i,isHorizontal:n,pwHeight:o}),await su({editorSDK:t,pwComponentRef:r,isHorizontal:n,pwHeight:o}),await ru({editorSDK:t,sospContainerRef:i,pwComponentRef:r,isHorizontal:n,pwHeight:o}),await lu({editorSDK:t,isHorizontal:n,pwHeight:o}))}async function pu(e,t){const{allVerticalsPagesComponentsRefs:n,allCustomPagesComponentsFlat:o}=await cu({editorSDK:e}),i=await Nc({editorSDK:e}),r=Wt();if(!i)return;const a=t+40,s=a,c=await vr({editorSDK:e});if(r){const n=await function(e){let{editorSDK:t,componentRef:n}=e;return t.document.responsiveLayout.get(or,{componentRef:n})}({editorSDK:e,componentRef:c}),o={...n,componentLayouts:n.componentLayouts.map((e=>({...e,height:{...e.height,value:t}})))};await function(e){let{editorSDK:t,componentRef:n,responsiveLayout:o}=e;return t.document.responsiveLayout.update(or,{componentRef:n,responsiveLayout:o})}({editorSDK:e,componentRef:c,responsiveLayout:o})}const l=await dr(e);await gr({editorSDK:e,componentRef:l,layout:{height:s}});const u=[...n.map((t=>gr({editorSDK:e,componentRef:t,layout:{y:a}}))),...o.map((t=>gr({editorSDK:e,componentRef:t,layout:{y:a}})))];await Promise.all(u)}const du=async(e,t,n)=>{const o=Kt.editorSDK;if(!o)return;if(!await Or(o,{shouldLog:!1}))return console.warn("Members Area installation was corrupted so the integrations pages will not be added"),void at("Skipping addApplications as the application is not ready and probably already deleted");const i=await ss({applications:e,editorSDK:o,i18next:Ai()});return Gc({editorSDK:o,applications:i,shouldNavigate:t,biData:null==n?void 0:n.biData})},fu=async function(e,t){let n;void 0===t&&(t=!0);try{const o=await Ji(e),i=t?void 0:await async function(e,t){var n;let o;void 0===t&&(t="blank");const i=await Fn(e),r=await Qr({editorSDK:e}),a=Object.keys((null==(n=i.find((e=>"public"===e.config.type)))?void 0:n.config.patterns)||{}).map((e=>e.split("/{userName}/")[1])),s=r.map((e=>{let{pageUriSEO:t}=e;return t}));let c,l=1;do{o=t+"-"+l,c=!a.includes(o)&&!s.includes(o),l++}while(!c&&l<1e3);return o}(e),r=o(t?"Pages_New_Private_Page_Title":"Pages_New_Public_Page_Title");n=await async function(e){let{editorSDK:t,pageTitle:n,pageUriSEO:o}=e;return t.pages.add(ae,{title:n,shouldAddMenuItem:!0,definition:{data:{hidePage:!1,managingAppDefId:Fe,pageUriSEO:o}}})}({editorSDK:e,pageTitle:r,pageUriSEO:i}),t||await zr({editorSDK:e,pageRef:n,pageData:{pageSecurity:{requireLogin:!1},hidePage:!1}});const a=await Jr({editorSDK:e,pageRef:n}),s=await Tr(e)||{publicRouter:{},privateRouter:{}};a.pageRef=n;const c=[{appDefinitionId:a.managingAppDefId,pageId:"",social:!t,showInLoginMenu:!0,showInMemberMenu:!0}],l=Uc({applications:c,pages:[a],routers:s});await Rc({editorSDK:e,pages:l}),await Mc(e)}catch(e){at("Add custom page failed",{tags:{reason:e.toString()+"\n"+e.stack,isPrivate:t,pageRefAdded:!!n}})}},gu=e=>{const t=(t,n)=>Sn(t,(()=>rt(t,(t=>function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Qe(e,(()=>t(...o)))})(n))));return{addApplications:async(e,n,o)=>{const i=await jt()?"editorApi.addApplicationsSync":"editorApi.addApplications";return Zt("addApplications",15e3,(()=>rt("addApplications",(()=>t(i,(()=>du(e,n,o)))))))},getMembersPageRef:t=>{if(!t)return Promise.resolve(void 0);const{appDefinitionId:n,appPageId:o}=t;return async function(e,t,n){const o=await Fn(e);for(const e of o){const o=In().find(e.config.patterns,(e=>In().get(e,"appData.appDefinitionId")===t&&In().get(e,"appData.appPageId")===n));if(o)for(const t of e.pages)if(t.pageRoles.includes(o.page))return t.pageRef}throw new Error("Could not find member page for TPA "+t+" and section "+n)}(e,n,o)},removeMembersAreaPage:(n,o)=>t("editorApi.removeMembersAreaPage",(()=>Ic({pageId:n,appDefinitionId:o,editorSDK:e}))),setHorizontalLayout:n=>t("editorApi.setHorizontalLayout",(()=>function(e,t){return uu({editorSDK:e,isHorizontal:!0,pwHeight:t})}(e,n))),setSidebarLayout:()=>t("editorApi.setSidebarLayout",(()=>function(e){return uu({editorSDK:e,isHorizontal:!1})}(e))),_getIsResponsiveEditor:()=>Sn("_getIsResponsiveEditor",(async()=>Wt())),handleVerticalDeletion:n=>t("editorApi.handleVerticalDeletion",(()=>(async(e,t)=>{const n=zt(e),o=qt(),i=(await oa(Object.keys(o),mc(t))).reduce(((e,t)=>{var n;return e.concat(null!=(n=o[t])?n:[])}),[]),r=n.filter((a=i,e=>!a.some((t=>t.pageId===e.pageId)))).filter(gc);var a;for(const e of r){const n=await Tc({editorSDK:t,app:e});n&&await rt("editorApi.removeMembersAreaPage",(()=>_c({editorSDK:t,id:n.id})))}r.length>0&&Gt()&&t.application.reloadManifest()})(n,e))),registerMembersAreaApps:(t,n,o)=>hc(t,n,e,o),installRegisteredApps:async(n,o)=>t("editorApi.installRegisteredApps",(()=>yc(n,e,o))),getRegisteredApps:()=>(e=>Sn("editorApi.getRegisteredApps",(()=>rt("editorApi.getRegisteredApps",(async()=>{const t=qt(),n=Object.keys(t);return(await oa(n,mc(e))).reduce((async(n,o)=>({...await n,[o]:await oa(t[o],(async t=>!await Tc({editorSDK:e,app:t})&&!tc(t)))})),Promise.resolve({}))})))))(e),addCustomPage:n=>t("editorApi.createBlankPage",(()=>fu(e,n))),refreshPageState:()=>(e=>Mc(e))(e),getProfileType:()=>dc(e),setProfileType:n=>t("editorApi.setProfileType",(()=>fc(e,n))),refreshRouters:()=>function(e){return e.editor.routers.refresh(ae)}(e),refreshMembersAreaApps:()=>(async e=>{const t=[C,U,L,Te].map((async t=>{let{appDefinitionId:n}=t;const o=await e.application.getPublicAPI(ae,{appDefinitionId:n});return null==o||null==o.refreshApp?void 0:o.refreshApp()}));await Promise.all(t)})(e),setProfileWidgetHeight:t=>pu(e,t),openGeneralSettingsPanel:t=>_l({editorSDK:e,eventPayload:{pageRef:null,referralInfo:t}}),getGeneralSettingsPanelData:()=>ou(e),getMemberPrivacySettings:()=>eu(e),modifyPages:n=>t("editorApi.modifyPages",(()=>iu(e,n))),modifyPagesAndOpenManagePages:(n,o)=>t("editorApi.modifyPagesAndOpenManagePages",(()=>(async(e,t,n)=>{await iu(e,t),Sl({editorSDK:e,eventPayload:{pageRef:null,referralInfo:n}})})(e,n,o))),registerAdditionalWidgets:()=>{},getAdditionalWidgets:()=>{},installAdditionalWidgets:()=>{},openAddTabsPanel:()=>Promise.resolve(),getIsMembersAreaV2Context:()=>Promise.resolve(!1)}},mu={};async function hu(e,t){await e.history.add(ae,{label:t})}const yu=e=>({hasSocialPages:()=>Sn("private-api.hasSocialPages",(()=>kc(e))),removePage:t=>Sn("private-api.removePage",(()=>_c({editorSDK:e,id:t.id}))),uninstall:()=>Sn("private-api.uninstall",(()=>rt("uninstall",(()=>zc(e))))),getRouterDataByPage:t=>Sn("private-api.getRouterDataByPage",(()=>async function(e,t){const n=await e.routers.getByPage(ae,{pageRef:t}),o=await e.routers.get(ae,{routerRef:n});if(!o)throw new Error("Could not retrieve the router in #getPageRouterData");const i=In().find(o.pages,(e=>e.pageRef.id===t.id)),r=null==i?void 0:i.pageRoles[0],a=In().find(o.config.patterns,(e=>e.page===r)),s=In().findKey(o.config.patterns,(e=>e.page===r));return a&&(a.routerRef=n,a.innerRoute=s,a.prefix=o.prefix,a.isPrivate="private"===o.config.type),a}(e,t))),getAllRouters:()=>Sn("private-api.getAllRouters",(()=>Fn(e))),updatePageDataInRouter:(t,n,o)=>Sn("private-api.updatePageDataInRouter",(()=>Un(e,t,n,o))),saveInnerRoute:(t,n,o)=>Sn("private-api.saveInnerRoute",(async()=>{let i=await async function(e,t,n){const o=await e.routers.getByPage(ae,{pageRef:t}),i=await e.routers.get(ae,{routerRef:o}),r=In().find(i.pages,(e=>e.pageRef.id===t.id)),a=null==r?void 0:r.pageRoles[0],s=In().findKey(i.config.patterns,(e=>e.page===a)),c=In().find(i.config.patterns,(e=>e.page===a)),l=i.config,u=("private"===l.type?"/":"/{userName}/")+n;return delete l.patterns[s],In().set(l,"patterns["+u+"]",c),await e.routers.update(ae,{routerRef:o,config:l}),u}(e,n,t);i&&"/"===i[0]&&(i=i.substr(1)),await Cn({editorSDK:e,pageRouterData:o,updatedData:{link:{innerRoute:i}}}),async function(e,t,n){void 0===n&&(n=0),mu[t]&&clearTimeout(mu[t]),mu[t]=setTimeout((()=>hu(e,t)),n)}(e,"Members update uri seo")})),updatePageData:t=>{let{pageRef:n,pageData:o}=t;return Sn("private-api.updatePageData",(()=>zr({editorSDK:e,pageRef:n,pageData:o})))},savePasswordPermissions:async(t,n,o)=>{if(n===Ke.PASSWORD&&o)await zr({editorSDK:e,pageRef:t,pageData:{pageSecurity:{requireLogin:!1}}}),Sn("private-api.savePasswordPermissions",(()=>async function(e){let{editorSDK:t,pageRef:n,plainPassword:o}=e;await t.pages.permissions.updatePagePassword(ae,{pageRef:n,plainPassword:o})}({editorSDK:e,pageRef:t,plainPassword:o})));else{const o=!In().isEqual(n,Ke.NONE);await zr({editorSDK:e,pageRef:t,pageData:{pageSecurity:{requireLogin:o}}}),Sn("private-api.removePagePassword",(()=>async function(e){let{editorSDK:t,pageRef:n}=e;await t.pages.permissions.removePagePassword(ae,{pageRef:n})}({editorSDK:e,pageRef:t})))}},renamePage:(t,n,o)=>Sn("private-api.renamePage",(async()=>{const i=async function(e){let{editorSDK:t,pageRef:n,title:o}=e;await t.pages.rename(ae,{pageRef:n,title:o})}({editorSDK:e,pageRef:n,title:t}),r=Cn({editorSDK:e,pageRouterData:o,updatedData:{label:t}}),a=Un(e,n,"title",t),s=Un(e,n,"seoData",{title:t});await Promise.all([i,r,a,s]),hu(e,"Members page rename")}))}),bu={editorReady:async(e,t,n)=>{const o=await mn({editorSDK:e,options:n});try{nt("editorReady");const t=async()=>{await async function(e){let{editorSDK:t,options:n}=e;if(!n.firstInstall)try{const e=(await Fn(t)).reduce(((e,t)=>[...e,...t.pages.map((e=>e.pageRef))]),[]);await Promise.all(e.map((e=>Ec({editorSDK:t,pageRef:e}))))}catch(e){at("Failed to set managingAppDefId for MA pages, reason:",e.toString())}}({editorSDK:e,options:n}),await Mc(e),await async function(e,t){if(!e.firstInstall)try{const e=(await Ln({editorSDK:t,menuId:we.SUB_MENU_ID})).find((e=>{var t;return"my-account"===(null==e||null==(t=e.link)?void 0:t.innerRoute)}));!(await t.pages.data.getAll(ae)).find((e=>"member_info"===e.tpaPageId))&&e&&at("editorLoad: MA-84 My account menu item is there, but the page is missing")}catch(e){at("Verifying My Account page failed",{tags:{reason:e.toString()}})}}(n,e),await Xc(e,n),await nc(e),await cc(e),await Yc(e,n);const t=await Or(e),o=await async function(){return await Lt(),"true"===kt.get("specs.membersArea.NoStartAfterStop")}();t?(await async function(e,t){try{if(!Gt())return;if(!await Ir(t)){at("OB-19052: Login component missing in ADI",{tags:{firstInstall:e}});try{const e=await Yn(t),n=await t.siteSegments.getHeader(ae);e&&await rr(t,e,n)}catch(e){at("OB-19052: Re-adding login component failed",{tags:{reason:e.toString()}})}}}catch(e){at("OB-19052: Verification of login component failed",{tags:{reason:e.toString()}})}}(n.firstInstall,e),o&&(await vc(e),await Dr(e),wn())):Pn("Members Area was not installed."),o||(await vc(e),await Dr(e),wn())};await t(),ot("editorReady")}catch(e){const t="string"==typeof e?e:e.message;throw o.logInstallationFailure(t),it("editorReady",e),console.error("Members Area installation failed"),console.error(e),Pn(e),e}},getAppManifest:async(e,t)=>(async(e,t)=>{const n={default:"no-sort"},o=await Bt(),i=[await ul(e),ll,...o?[]:[await pl(e)]];return{appDescriptor:{mainActions:[{title:t("Apps_Manager_Add_Member_Page"),actionId:"addMemberPage",type:"editorActions",icon:"appManager_addElementsAction"}],defaultActions:{learnMoreKB:"b74bcbba-91c8-4951-a3de-a1dc698f6356"},customActions:[{title:t("Apps_Manager_Manage_Member_Pages"),actionId:"openMembersAreaPagesPanel",type:"editorActions",icon:"appManager_pagesAction"},{title:t("Apps_Manager_Open_Members_Add_Panel"),actionId:"openMembersAddPanel",type:"editorActions",icon:"appManager_addElementsAction"},{title:t("Apps_Manager_Customize_Members_Profiles"),actionId:"openMembersAccountBmDashboard",type:"dashboard",icon:"appManager_settingsAction"},{title:t("Apps_Manager_Open_Badges_Page"),actionId:"openBadgesPage",type:"dashboard",icon:"appManager_settingsAction"},{title:t("Apps_Manager_Engage_With_Your_Members"),actionId:"openSiteMembersDashboard",type:"dashboard",icon:"appManager_settingsAction"}]},controllersStageData:{members:{default:{visibility:"NEVER"}},[Xi]:{default:{displayName:t("LoginBarAppWidget_Display_Name")}},[ho]:{default:{displayName:t("MembersMenuAppWidget_Display_Name")}}},pages:{pageDescriptors:{default:{icon:"membersAction"}},applicationSettings:{default:{displayName:t("Pages_Panel_MemberMenu_Title"),helpId:le}},applicationActions:dl(t),pageSettings:{default:i},pageActions:{default:[],deletable:[{title:t("Pages_Panel_MemberMenu_Actions_Page_Delete"),icon:"deleteAction",event:"removePage"}]},sortInnerRoutes:n}}})(t,await Ji(t,!0)),onEvent:async(e,t)=>{let{eventType:n,eventPayload:o}=e;Sn("onEventHandler",(async()=>{const e=await Or(t,{shouldLog:!1});if(n===Qc.Uninstall?e||await async function(){return await Lt(),"true"===kt.get("specs.membersArea.AllowDeletionOfBrokenApp")}():e)try{switch(n){case Qc.GeneralSettings:_l({eventPayload:{...o,referralInfo:un.ActionsMenu},editorSDK:t});break;case Qc.MemberPrivacyDashboard:Il(t);break;case Qc.CreateBlankPage:Sl({eventPayload:o,editorSDK:t});break;case Qc.ManagePages:Sl({eventPayload:void 0,editorSDK:t});break;case fl.EventType.pageDeleted:Sn("handleVerticalSectionDeletion",(()=>rt("handleVerticalSectionDeletion",(()=>Pc(t,o.pageRole)))));break;case Qc.Uninstall:wl(t);break;case Qc.RemovePage:vl(t,o.pageRef);break;case Qc.RenameRouter:kc(t).then((async e=>{const n=e?Re+150:Re,i=await t.routers.getAll(ae);t.editor.openModalPanel(ae,{url:await cl(t,"renameRouter.html"),width:744,height:n,shouldHideHeader:!0,initialData:{routers:i,...o}})}));break;case fl.EventType.componentAddedToStage:await ur(t,o.compRef);break;case fl.EventType.siteWasPublished:ec(t);break;case fl.EventType.appActionClicked:switch(o&&o.actionId){case"openMembersAreaPagesPanel":t.editor.deeplink.show(ae,{type:"pagesPanel",params:[Fe]});break;case"addMemberPage":Sl({eventPayload:o,editorSDK:t});break;case"openMembersAddPanel":t.editor.deeplink.show(ae,{type:"addPanel",params:[Fe]});break;case"openMembersAccountBmDashboard":t.editor.openDashboardPanel(ae,{url:hl,closeOtherPanels:!0});break;case"openBadgesPage":t.editor.openDashboardPanel(ae,{url:ml,closeOtherPanels:!0});break;case"openSiteMembersDashboard":t.editor.openDashboardPanel(ae,{url:gl,closeOtherPanels:!0})}break;default:console.log(n,o)}}catch(e){throw e}}))}},vu=async e=>[{actionId:Zc.OpenMembersAreaPagesPanel,type:"editorActions",icon:"appManager_pagesAction",title:e("Apps_Manager_Manage_Member_Pages")},{actionId:Zc.OpenMembersAddPanel,type:"editorActions",icon:"appManager_addElementsAction",title:e("Apps_Manager_Open_Members_Add_Panel")},{actionId:Zc.OpenMembersAccountBmDashboard,type:"dashboard",icon:"appManager_settingsAction",title:e("Apps_Manager_Customize_Members_Profiles")},{actionId:Zc.OpenBadgesDashboard,type:"dashboard",icon:"appManager_settingsAction",title:e("Apps_Manager_Open_Badges_Page")},{actionId:Zc.OpenSiteMembersDashboard,type:"dashboard",icon:"appManager_settingsAction",title:e("Apps_Manager_Engage_With_Your_Members")}],wu=async e=>({mainActions:[{title:e("Apps_Manager_Add_Member_Page"),actionId:Zc.AddMemberPage,icon:"appManager_addElementsAction"}],defaultActions:{learnMoreKB:"b74bcbba-91c8-4951-a3de-a1dc698f6356"},customActions:await vu(e)}),Pu={viewSiteMembersAction:{type:"view_site_members"},openSignUpSettingsAction:{type:"open_signup_settings"},getAddPageAction:e=>({title:e("Pages_Panel_MemberMenu_Add_Page"),type:"add_page",event:Qc.CreateBlankPage,icon:"addPagePagesPanel"}),getOpenGeneralSettingsAction:e=>({title:e("Pages_Panel_MemberMenu_Open_GeneralSettings"),event:Qc.GeneralSettings,icon:"settingsAction"}),getOpenMemberPrivacyDashboardAction:e=>({title:e("Pages_Panel_MemberMenu_Open_MemberPrivacyDashboard"),event:Qc.MemberPrivacyDashboard,icon:"unhideAction"}),getDeleteMembersAreaAction:e=>({title:e("Pages_Panel_MemberMenu_Delete_Link"),event:Qc.Uninstall,icon:"delete_icon"})},Su=e=>({default:[Pu.getAddPageAction(e),Pu.viewSiteMembersAction,Pu.getOpenMemberPrivacyDashboardAction(e),Pu.openSignUpSettingsAction,Pu.getDeleteMembersAreaAction(e)]}),_u={title:"Page Info",type:"page_info",helpId:"2fd96dc5-ff35-4ead-9917-12b487c59fe4"},Iu={title:"Permissions",type:"permissions",helpId:"d243ad48-2e17-4786-99d7-23d011aa4bd6"},Du={title:"SEO Basics",type:"seo",helpId:"a621022f-17fa-433a-b4f5-d43994e8c4f6"},Au={title:"Layout",type:"layout"},Ou=async e=>({title:"Page Info",event:"pageInfo",icon:"page_dynamic_icon",url:await cl(e,"pageInfoV2.html"),helpId:"2fd96dc5-ff35-4ead-9917-12b487c59fe4",type:"page_info"}),xu=async e=>{const t=await Bt();return{default:[...t?[await Ou(e)]:[_u],Au,Iu,...t?[]:[Du]]}},Eu=e=>({default:[],deletable:[{title:e("Pages_Panel_MemberMenu_Actions_Page_Delete"),icon:"deleteAction",event:Qc.RemovePage}]}),Ru=async(e,t)=>({sortInnerRoutes:"no-sort",pageDescriptors:{default:{icon:"membersAction"}},applicationSettings:{default:{displayName:t("Pages_Panel_MemberMenu_Title"),helpId:le}},applicationActions:Su(t),pageSettings:await xu(e),pageActions:Eu(t)}),Mu=e=>({members:{default:{visibility:"NEVER"}},[Xi]:{default:{displayName:e("LoginBarAppWidget_Display_Name")}},[ho]:{default:{displayName:e("MembersMenuAppWidget_Display_Name")}}});var Tu,Cu,ku,Lu,Nu,ju;!function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE_TO_MEMBERS_ONLY="VISIBLE_TO_MEMBERS_ONLY",e.VISIBLE_TO_ALL="VISIBLE_TO_ALL"}(Tu||(Tu={})),function(e){e.UNKNOWN="UNKNOWN",e.NO_ONE="NO_ONE",e.ANYONE="ANYONE"}(Cu||(Cu={})),function(e){e.UNKNOWN="UNKNOWN",e.ENABLED="ENABLED",e.DISABLED="DISABLED",e.PENDING="PENDING",e.DEMO="DEMO"}(ku||(ku={})),function(e){e.OTHER="OTHER",e.FROM_TEMPLATE="FROM_TEMPLATE",e.DUPLICATE_BY_SITE_TRANSFER="DUPLICATE_BY_SITE_TRANSFER",e.DUPLICATE="DUPLICATE",e.OLD_SITE_TRANSFER="OLD_SITE_TRANSFER",e.FLASH="FLASH"}(Lu||(Lu={})),function(e){e.UNKNOWN_NAMESPACE="UNKNOWN_NAMESPACE",e.WIX="WIX",e.SHOUT_OUT="SHOUT_OUT",e.ALBUMS="ALBUMS",e.WIX_STORES_TEST_DRIVE="WIX_STORES_TEST_DRIVE",e.HOTELS="HOTELS",e.CLUBS="CLUBS",e.ONBOARDING_DRAFT="ONBOARDING_DRAFT",e.DEV_SITE="DEV_SITE",e.LOGOS="LOGOS",e.VIDEO_MAKER="VIDEO_MAKER",e.PARTNER_DASHBOARD="PARTNER_DASHBOARD",e.DEV_CENTER_COMPANY="DEV_CENTER_COMPANY",e.HTML_DRAFT="HTML_DRAFT",e.SITELESS_BUSINESS="SITELESS_BUSINESS",e.CREATOR_ECONOMY="CREATOR_ECONOMY",e.DASHBOARD_FIRST="DASHBOARD_FIRST",e.ANYWHERE="ANYWHERE",e.HEADLESS="HEADLESS",e.ACCOUNT_MASTER_CMS="ACCOUNT_MASTER_CMS"}(Nu||(Nu={})),function(e){e.UNKNOWN="UNKNOWN",e.TRASH="TRASH",e.DELETED="DELETED",e.PENDING_PURGE="PENDING_PURGE"}(ju||(ju={}));const Bu=async e=>{const t=await e.application.getPublicAPI(ae,{appDefinitionId:Ge});if(t)return t;throw new Error("[MAV2] Members Area Page PublicAPI is not found")},Ku=async e=>(await Bu(e)).getInstalledWidgetPlugins(),Uu=async e=>(await Bu(e)).getPublicApplications(),Fu=async(e,t)=>(await Bu(e)).setPageTitle(t);function Hu(e){return e.filter((e=>{let{method:t,appDefinitionId:n,pageId:o,widgetId:i}=e;return"addApplicationToSite"===t||i}))}const Wu=e=>t=>e.application.isApplicationInstalled(ae,{appDefinitionId:t}),Gu=(e,t)=>t.some((t=>{let{appDefinitionId:n,widgetId:o}=t;return e.appDefinitionId===n&&e.widgetId===o})),Vu=async e=>{const t=qt();return oa(Object.keys(t),Wu(e))},qu=async(e,t)=>{const n=Hu(zt(t)),o=await(async(e,t)=>{const n=await Vu(e),o=qt();return n.reduce(((e,n)=>{var i;if(t===n)return e;const r=null!=(i=o[n])?i:[];return[...e,...Hu(r)]}),[])})(e,t),i=((e,t,n)=>t.reduce(((t,o)=>Gu(o,e)?Gu(o,n)?t:[...t,o]:t),[]))(await Ku(e),n,o),r=await((e,t)=>oa(e.filter((e=>{let{method:t}=e;return"addApplicationToSite"===t})).filter((e=>t.some((t=>!dn(e,t))))).map((e=>({...e,pageId:e.appDefinitionId===Xe?Ye:e.pageId}))),Wu))(n,o);return[...i,...r]},zu=async e=>{const t=qt();return(await Vu(e)).reduce(((e,n)=>({...e,[n]:Hu(t[n])})),{})},$u=async e=>{const t=await(async e=>(await Bu(e)).getRoutes())(e);return t.find((e=>{let{widgetId:t}=e;return M.About===t}))},Ju=async e=>{const t=await zu(e);if(!t[T.dn])return!1;const{[Ge]:n,...o}=t;return 1===Object.values(o).flat().filter((e=>{let{widgetId:t}=e;return M.About===t})).length},Xu=async e=>{const t=await $u(e);var n;return t&&await Ju(e)?null!=(n=t.vfr)&&n.includes(de)?pn.BWP_ONLY:pn.BWP_ALL:pn.ALL},Yu=async(e,t)=>{const n=await $u(e);if(!n)return;let{vfr:o=[]}=n;return o=o.filter((e=>!pe.includes(e))),t===pn.BWP_ONLY&&(o=o.concat(pe)),(async(e,t)=>(await Bu(e)).updateRoute(t))(e,{...n,vfr:o})},Qu=async(e,t,n,o)=>{var i;const r=await ss({i18next:Ai(),applications:t,editorSDK:e,applicationsOptions:o}),a=qt(),s=Hu(fn([...null!=(i=a[n])?i:[],...r]));Ut({...a,[n]:s}),await(async(e,t,n)=>{var o;const i=(await zu(e))[T.dn],r=t!==T.dn,a=n.some((e=>{let{widgetId:t}=e;return M.About===t}));if(r||!i||!a)return;const s=await $u(e);null!=s&&null!=(o=s.vfr)&&o.length&&await Yu(e,pn.BWP_ALL)})(e,n,s)},Zu=async e=>{if(Gt())return;const t=await(async e=>{for(const t of qe)if(await io({editorSDK:e,appDefinitionId:t}))return!0;return!1})(e),n=$e.concat(t?Je:[]),o=await ss({applications:Hu(n),editorSDK:e,i18next:Ai()});Ut({...qt(),[Ge]:o})},ep=e=>{const t={widgetPlugins:[],siteApps:[]};return e.forEach((e=>{"addApplicationToSite"===e.method?t.siteApps.push(e):t.widgetPlugins.push(e)})),t},tp=e=>{let{appBaseUrl:t,isPrivate:n,title:o,pageUriSEO:i}=e;return{id:"",type:"BasicMenuItem",label:o,link:{type:"ExternalLink",url:"https://{domain}/"+t+"/{userName}/"+i,target:"_self"},isVisible:!0,isVisibleMobile:!0,items:[]}},np=async(e,t,n)=>{const o=await Zr(e),i=await((e,t)=>Promise.all(t.map((t=>ao({editorSDK:e,appDefinitionId:t.appDefinitionId})))))(e,t);return(async(e,t,n)=>{const o=await Ln({editorSDK:e,menuId:t});return n.filter((e=>!o.some((t=>t.label===e.label))))})(e,n,i.map(((e,n)=>{const i=t[n];if(!i)throw new Error("Page definition is missing when creating the login menu item");const r=e.components.find((e=>e.componentId===i.widgetId));if(!r)throw new Error("App data for widget is missing when creating the login menu item");return tp({appBaseUrl:o.pageUriSEO,isPrivate:!i.social,title:r.name,pageUriSEO:i.urlOverride})})))},op=async(e,t,n)=>{const o=((e,t)=>t===we.SUB_MENU_ID?e.filter((e=>e.showInMemberMenu)):e.filter((e=>e.showInLoginMenu)))(t,n);return async function(e){let{editorSDK:t,menuId:n,items:o}=e;const i=await t.menu.getById(ae,{menuId:n});return Kn({editorSDK:t,menuId:n,items:[...(null==i?void 0:i.items)||[],...o]})}({editorSDK:e,menuId:n,items:await np(e,o,n)})},ip=async(e,t,n)=>{const o=Ve(t.origin),i=await Zr(e),r=await ao({editorSDK:e,appDefinitionId:He}),a=await r.widgets[We];if(!a)throw new Error("My Account widget is not found");return Kn({editorSDK:e,menuId:n,items:[tp({appBaseUrl:i.pageUriSEO,isPrivate:!o.social,title:a.appPage.name,pageUriSEO:o.urlOverride})]})},rp=(e,t)=>ip(e,t,we.LOGIN_MENU_ID),ap=(e,t)=>ip(e,t,we.SUB_MENU_ID),sp=async(e,t)=>op(e,t,we.LOGIN_MENU_ID),cp=async(e,t)=>op(e,t,we.SUB_MENU_ID),lp=async(e,t)=>{const{widgetPlugins:n,siteApps:o}=ep(t);n.length>0&&(await(async(e,t)=>(await Bu(e)).addWidgetsPlugins(t))(e,n),await(async(e,t)=>Promise.all([sp(e,t),cp(e,t)]))(e,n)),o.length>0&&await Bc({editorSDK:e,applications:o,shouldNavigate:!1}),t.some((e=>{let{social:t}=e;return t}))&&await Fu(e,el.Social)},up=async(e,t)=>{const n=await mn({editorSDK:e});n.verticalTriggeredMaInstallInitiated({originAppId:t});const o=Hu(zt(t).filter((e=>!1!==e.shouldInstallInitially)));o.length>0&&await lp(e,o),await(async(e,t)=>{if(t!==T.dn||Gt()||!await Ju(e))return;const n=$t()?pn.BWP_ONLY:pn.BWP_ALL;n!==await Xu(e)&&await Yu(e,n)})(e,t),n.verticalTriggeredMaInstallSuccess({originAppId:t})},pp=async e=>{const t=await(async e=>(await Qr({editorSDK:e})).find((e=>{let{tpaPageId:t}=e;return t===Ye})))(e);return Boolean(t)},dp=async(e,t)=>{const n=await Tc({editorSDK:e,app:t});if(!n)return;const o=await Pr({editorSDK:e,id:n.id});if(!o)return;const i=await function(e,t){return e.components.getPage(or,{componentRef:t})}(e,o);if(i){if(!n.managingAppDefId){const n={delayMs:100,delayConditionCheckMs:100,message:"Failed to to update page with managing app def id "+t.appDefinitionId,maxTries:4,condition:()=>(async(e,t)=>{const n=await Tc({editorSDK:e,app:t});return!(null==n||!n.managingAppDefId)})(e,t)};await ta((()=>Ec({editorSDK:e,pageRef:i})),n)}await Yr({editorSDK:e,pageRef:i,shouldShowEditorRemovePanel:!1})}},fp=async(e,t)=>{const{widgetPlugins:n,siteApps:o}=ep(t);n.length>0&&await(async(e,t)=>{const n=await Bu(e),o=t.map((e=>{let{widgetId:t}=e;return t}));return n.removeWidgets(o)})(e,n),o.length>0&&await(async(e,t)=>{await Promise.all(t.map((t=>dp(e,t))))})(e,o),await Zu(e),await(async e=>{const[t,n]=await Promise.all([Uu(e),pp(e)]);t.length>0||n||await Fu(e,el.NonSocial)})(e)},gp=async(e,t)=>{var n;const o=(null==(n=t.origin.info)?void 0:n.appDefinitionId)===T.ZJ,{headerRef:i,controllerRef:r}=await(async e=>{const[t,n]=await na([e.siteSegments.getSiteStructure(ae),e.siteSegments.getHeader(ae)]);return{headerRef:n,controllerRef:await Xn(e,t)}})(e);await(async(e,t)=>{const{config:n}=await e.controllers.getData("",{controllerRef:t,scope:"APP"});await e.controllers.saveConfiguration("",{controllerRef:t,scope:"APP",config:{...n,isMembersAreaV2:!0}})})(e,r),await Promise.all([xn(e),En(e),rr(e,r,i,o)])},mp=async(e,t)=>{t.firstInstall?(await(async e=>{await e.menu.create(ae,{menuData:{name:"Member Menu",items:[]},customId:we.SUB_MENU_ID})})(e),await gp(e,t),await(e=>e.document.application.add(ae,{appDefinitionId:Ge,managingAppDefId:Fe,shouldNavigate:!0,isSilent:!0}))(e),await(async(e,t)=>Promise.all([rp(e,t),ap(e,t)]))(e,t)):(async e=>{try{var t,n;const o=await eu(e),i=null!=(t=null==o?void 0:o.publicMemberCandidates)?t:Cu.UNKNOWN;if(+(null!=(n=null==o?void 0:o.revision)?n:0)>0&&i!==Cu.UNKNOWN){const t=i===Cu.ANYONE?el.Social:el.NonSocial;await Fu(e,t)}}catch(e){}})(e)},hp=async e=>{const t=await Zr(e);t&&await e.pages.navigateTo(ae,{pageRef:{id:t.id}})},yp=async function(e,t){void 0===t&&(t={});const n=await Zr(e);return n&&await e.pages.navigateTo(ae,{pageRef:{id:n.id}}),Sl({editorSDK:e,eventPayload:t})},bp=async(e,t)=>{let{appsToInstall:n,appsToRemove:o,profilePageType:i}=t;const r=await Ji(e,!0),a=n.length+o.length+(i?1:0);let s=0;if(a){await e.editor.openProgressBar(ae,{title:r("GeneralSettings_ProgressModal_Title"),totalSteps:a,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")});try{if(n.length){const t=n.map((e=>{let{integrationApplication:t}=e;return t}));await lp(e,t),await e.editor.updateProgressBar(ae,{currentStep:s+=n.length,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")})}if(o.length){const t=o.map((e=>{let{integrationApplication:t}=e;return t}));await fp(e,t),await e.editor.updateProgressBar(ae,{currentStep:s+=o.length,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")})}i&&(await Yu(e,i),await e.editor.updateProgressBar(ae,{currentStep:++s,stepTitle:r("GeneralSettings_ProgressModal_Subtitle")})),await e.editor.closeProgressBar(ae,{isError:!1})}catch(t){throw await e.editor.closeProgressBar(ae,{isError:!0}),t}}},vp=async function(e,t){if(void 0===t&&(t=!1),t)return async function(){return await Lt(),"true"===kt.get("specs.membersArea.profilePageBoBInstallation")}();try{const t=await async function(e,t){const n=await Pr({editorSDK:e,id:t});return(await e.controllers.getData(Jn,{controllerRef:n})).config}(e,xe);return!(null==t||!t.isMembersAreaV2)}catch(e){return!1}},wp=e=>{const t=st(e);return{getRegisteredApps:()=>(async e=>{const t=qt(),n=await Vu(e),o=await Ku(e);return n.reduce(((e,n)=>{const i=Hu(t[n]);return i.length>0?{...e,[n]:i.filter((e=>!tc(e)&&!Gu(e,o)))}:e}),{})})(e),registerMembersAreaApps:(n,o,i)=>t("editorAPI.v2.registerMembersAreaApps",(()=>Qu(e,n,o,i))),installRegisteredApps:n=>t("editorAPI.v2.installRegisteredApps",(()=>up(e,n))),addApplications:async(n,o,i)=>t("editorAPI.v2.addApplications",(async()=>{const t=n;if(t.some((e=>{let{widgetId:t}=e;return t})))return lp(e,t);const o=await(async(e,t)=>ss({editorSDK:e,applications:t,i18next:Ai()}))(e,n);return lp(e,Hu(o))})),handleVerticalDeletion:n=>t("editorAPI.v2.handleVerticalDeletion",(async()=>(await hp(e),(async(e,t)=>{const n=await qu(e,t);return fp(e,n)})(e,n)))),getProfileType:()=>Xu(e),setProfileType:n=>t("editorAPI.v2.setProfileType",(()=>Yu(e,n))),modifyPages:n=>t("editorAPI.v2.modifyPages",(()=>bp(e,n))),modifyPagesAndOpenManagePages:(n,o)=>t("editorAPI.v2.modifyPagesAndOpenManagePages",(()=>(async(e,t,n)=>(await bp(e,t),Sl({editorSDK:e,eventPayload:{pageRef:void 0,referralInfo:n}})))(e,n,o))),refreshPageState:()=>e.application.reloadManifest(),_getIsResponsiveEditor:()=>Promise.resolve(Wt()),openAddTabsPanel:t=>Sl({editorSDK:e,eventPayload:{pageRef:void 0,referralInfo:t}}),getIsMembersAreaV2Context:()=>vp(e),openGeneralSettingsPanel:async()=>{throw new Error("[MAV2] PublicAPI.openGeneralSettingsPanel is not supported")},getGeneralSettingsPanelData:()=>{throw new Error("[MAV2] PublicAPI.getGeneralSettingsPanelData is not supported")},getMemberPrivacySettings:()=>{throw new Error("[MAV2] PublicAPI.getMemberPrivacySettings is not supported")},getMembersPageRef:e=>{throw new Error("[MAV2] PublicAPI.getMembersPageRef is not implemented")},removeMembersAreaPage:(e,t)=>{throw new Error("[MAV2] PublicAPI.removeMembersAreaPage is not implemented")},setHorizontalLayout:e=>{throw new Error("[MAV2] PublicAPI.setHorizontalLayout is not implemented")},setSidebarLayout:()=>{throw new Error("[MAV2] PublicAPI.setSidebarLayout is not implemented")},addCustomPage:e=>{throw new Error("[MAV2] PublicAPI.addCustomPage is not implemented")},refreshMembersAreaApps:()=>{throw new Error("[MAV2] PublicAPI.refreshMembersAreaApps is not implemented")},setProfileWidgetHeight:e=>{throw new Error("[MAV2] PublicAPI.setProfileWidgetHeight is not implemented")},refreshRouters:()=>{throw new Error("[MAV2] PublicAPI.refreshRouters is not implemented")},registerAdditionalWidgets:()=>{throw new Error("[MAV2] PublicAPI.registerAdditionalWidgets is not implemented")},getAdditionalWidgets:()=>{throw new Error("[MAV2] PublicAPI.getAdditionalWidgets is not implemented")},installAdditionalWidgets:()=>{throw new Error("[MAV2] PublicAPI.installAdditionalWidgets is not implemented")}}},Pp=e=>{const t=st(e);return{hasSocialPages:async()=>t("private-api.v2.hasSocialPages",(async()=>{await hp(e);return(await Uu(e)).length>0})),uninstall:async()=>t("v2.uninstall",(async()=>{Ft(!0),await e.application.uninstall("",{openConfirmation:!1}),await e.history.add(ae,{label:"Deleting Members Area"}),await e.editor.save(ae),Ft(!1)})),removePage:e=>{throw new Error("[MAV2] PrivateAPI.removePage is not implemented")},updatePageData:e=>{let{pageRef:t,pageData:n}=e;throw new Error("[MAV2] PrivateAPI.updatePageData is not implemented")},getAllRouters:()=>{throw new Error("[MAV2] PrivateAPI.getAllRouters is not implemented")},getRouterDataByPage:e=>{throw new Error("[MAV2] PrivateAPI.getRouterDataByPage is not implemented")},updatePageDataInRouter:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.updatePageDataInRouter is not implemented")},saveInnerRoute:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.saveInnerRoute is not implemented")},savePasswordPermissions:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.savePasswordPermissions is not implemented")},renamePage:(e,t,n)=>{throw new Error("[MAV2] PrivateAPI.renamePage is not implemented")}}},Sp={getAppManifest:async(e,t)=>{const n=await Ji(t,!0);return{appDescriptor:await wu(n),pages:await Ru(t,n),controllersStageData:Mu(n)}},editorReady:async(e,t,n)=>{try{nt("editorReady"),await mp(e,n),await Dr(e),await Zu(e),wn(),ot("editorReady")}catch(e){throw it("editorReady",e),console.error("Members Area installation failed"),console.error(e),Pn(e),e}},onEvent:async(e,t)=>{const{eventType:n,eventPayload:o}=e;switch(n){case fl.EventType.appActionClicked:return(async(e,t)=>{let{eventPayload:n}=t;if(null!=n&&n.actionId)switch(n.actionId){case Zc.AddMemberPage:return yp(e);case Zc.OpenMembersAddPanel:return e.editor.deeplink.show(ae,{type:"addPanel",params:[Fe]});case Zc.OpenMembersAreaPagesPanel:return e.editor.deeplink.show(ae,{type:"pagesPanel",params:[Fe]});case Zc.OpenBadgesDashboard:return e.editor.openDashboardPanel(ae,{url:ml,closeOtherPanels:!0});case Zc.OpenSiteMembersDashboard:return e.editor.openDashboardPanel(ae,{url:gl,closeOtherPanels:!0});case Zc.OpenMembersAccountBmDashboard:return e.editor.openDashboardPanel(ae,{url:hl,closeOtherPanels:!0})}})(t,e);case fl.EventType.pageDeleted:case fl.EventType.componentAddedToStage:console.warn("[MAV2] OnEvent."+n+" handler is not implemented");break;case fl.EventType.siteWasPublished:return ec(t);case Qc.CreateBlankPage:case Qc.ManagePages:return yp(t,o);case Qc.RemovePage:return vl(t,o.pageRef);case Qc.Uninstall:return wl(t);case Qc.GeneralSettings:return await hp(t),_l({editorSDK:t,eventPayload:{...o,referralInfo:un.ActionsMenu}});case Qc.MemberPrivacyDashboard:return Il(t)}}},_p=e=>{const t=(()=>{let t;return async()=>t||(t=await(async e=>(await vp(e)?wp:gu)(e))(e),t)})();return{getRegisteredApps:async()=>(await t()).getRegisteredApps(),registerMembersAreaApps:async(e,n,o)=>(await t()).registerMembersAreaApps(e,n,o),installRegisteredApps:async(e,n)=>(await t()).installRegisteredApps(e,n),addApplications:async(e,n,o)=>(await t()).addApplications(e,n,o),openGeneralSettingsPanel:async e=>(await t()).openGeneralSettingsPanel(e),getGeneralSettingsPanelData:async()=>(await t()).getGeneralSettingsPanelData(),getMemberPrivacySettings:async()=>(await t()).getMemberPrivacySettings(),modifyPages:async e=>(await t()).modifyPages(e),modifyPagesAndOpenManagePages:async(e,n)=>(await t()).modifyPagesAndOpenManagePages(e,n),getMembersPageRef:async e=>(await t()).getMembersPageRef(e),removeMembersAreaPage:async(e,n)=>(await t()).removeMembersAreaPage(e,n),setHorizontalLayout:async e=>(await t()).setHorizontalLayout(e),setSidebarLayout:async()=>(await t()).setSidebarLayout(),_getIsResponsiveEditor:async()=>(await t())._getIsResponsiveEditor(),handleVerticalDeletion:async e=>(await t()).handleVerticalDeletion(e),addCustomPage:async e=>(await t()).addCustomPage(e),refreshPageState:async()=>(await t()).refreshPageState(),getProfileType:async()=>(await t()).getProfileType(),setProfileType:async e=>(await t()).setProfileType(e),refreshRouters:async()=>(await t()).refreshRouters(),refreshMembersAreaApps:async()=>(await t()).refreshMembersAreaApps(),setProfileWidgetHeight:async e=>(await t()).setProfileWidgetHeight(e),registerAdditionalWidgets:()=>{},getAdditionalWidgets:()=>{},installAdditionalWidgets:()=>{},openAddTabsPanel:async e=>(await t()).openAddTabsPanel(e),getIsMembersAreaV2Context:async()=>(await t()).getIsMembersAreaV2Context()}},Ip=e=>{const t=(()=>{let t;return async()=>t||(t=await(async e=>(await vp(e)?Pp:yu)(e))(e),t)})();return{uninstall:async()=>(await t()).uninstall(),getAllRouters:async()=>(await t()).getAllRouters(),getRouterDataByPage:async e=>(await t()).getRouterDataByPage(e),updatePageDataInRouter:async(e,n,o)=>(await t()).updatePageDataInRouter(e,n,o),saveInnerRoute:async(e,n,o)=>(await t()).saveInnerRoute(e,n,o),updatePageData:async e=>(await t()).updatePageData(e),savePasswordPermissions:async(e,n,o)=>(await t()).savePasswordPermissions(e,n,o),hasSocialPages:async()=>(await t()).hasSocialPages(),renamePage:async(e,n,o)=>(await t()).renamePage(e,n,o),removePage:async e=>(await t()).removePage(e)}};function Dp(e){return"wysiwyg.viewer.components.LoginSocialBar"===e}async function Ap(e,t){var n;const o=await async function(e){return await e.editor.info.getEditorMode()===fl.DeviceType.Mobile}(t);if(o)return;const i=e.componentType,r=function(e){return"platform.components.AppWidget"===e}(i),a=null==(n=e.components)?void 0:n[0];Dp(r&&"object"==typeof a?null==a?void 0:a.componentType:i)&&await Pl(t)}const Op=e=>{Ht(e);const t=_p(e);return{public:t,private:Ip(e),editor:{beforeComponentRemoved:t=>{let{componentDefinition:n}=t;return Ap(n,e)},async migrate(e){switch(null==e?void 0:e.migrationTask){case"install_subscriptions":await t.addApplications([ee],!1);break;case"install_wallet":await t.addApplications([J],!1);break;case"install_subscriptions_and_wallet":await t.addApplications([ee,J],!1)}}}}};async function xp(){return Promise.resolve([])}const Ep=async function(e,t){void 0===t&&(t=!1);return await vp(e,t)?Sp:bu},Rp=async(e,t,n)=>{var o,i,r,a,s;Lt(),Ht(e),i=function(e){const t=e.split("/");return t.slice(0,t.length-1).join("/")+"/"}(n.initialAppData.editorScriptUrl),Kt={...Kt,staticsBaseUrl:i},r=!(null==(o=n.origin.info)||!o.blogWriterProfilesOnly),Kt={...Kt,blogWriterProfilesOnly:r},a="RESPONSIVE"===n.origin.type,Kt={...Kt,isResponsiveEditor:a},s=0===n.origin.type.indexOf("ADI"),Kt={...Kt,isADI:s};try{await async function(e,t){var n,o,i;const[r,a,s]=await Promise.all([e.info.getMetaSiteId(ae),e.info.getSiteRegion(ae),e.info.getLanguage(ae)]),c={metaSiteId:r,siteRegion:a,siteLanguage:s};var l,u;void 0!==t.firstInstall&&(c.firstInstall=t.firstInstall),t.origin&&t.origin.type&&(c.type=t.origin.type),null!=(n=t.origin)&&n.info&&(c.originInfo=(null==(l=t.origin.info)?void 0:l.type)||(null==(u=t.origin.info)?void 0:u.appDefinitionId)),t.initialAppData&&t.initialAppData.editorScriptUrl&&(c.editorScriptUrl=t.initialAppData.editorScriptUrl);const p={dataCallback:()=>{},tags:c};tt=null==t||null==(o=t.monitoring)?void 0:o.createSentryMonitorForApp(Ze,p),et=null==t||null==(i=t.monitoring)?void 0:i.createFedopsLogger(),tt&&et||console.error("Issues while initialising loggers. Sentry: "+tt+", Fedops: "+et),await e.document.errors.registerToErrors("",{callback:e=>{let{error:t,methodName:n}=e;console.log("An error occured in DS, method "+n+", error: "+t),at("Error in DS",{tags:{errorMessage:t.toString(),methodName:n}})}})}(e,n)}catch(e){}return(await Ep(e,n.firstInstall)).editorReady(e,t,n)},Mp=async(e,t)=>(await Ep(t)).onEvent(e,t),Tp=async(e,t,n)=>(await Ep(t)).getAppManifest(e,t,n)}(),a}()}));
//# sourceMappingURL=editorAppModule.bundle.min.js.map